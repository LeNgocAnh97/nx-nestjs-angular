"use strict";(self.webpackChunkicom=self.webpackChunkicom||[]).push([["libs_inventory_detail_src_index_ts"],{5130:(k,C,a)=>{a.r(C),a.d(C,{IcomLibsInventoryDetailComponent:()=>ne});var f=a(6575),e=a(1699),t=a(5942),v=a(7090),m=a(1539),B=a(1932),b=a(7716),M=a(8641),L=a(216),x=a(292),D=a(7594);function R(o,p){if(1&o&&e._UZ(0,"icom-libs-inventory-add_edit",1),2&o){const i=e.oxw();e.Q6J("model",i.inventory)}}let Q=(()=>{class o{constructor(){this.inventoryService=(0,e.f3M)(t.NH)}ngOnInit(){this.inventory&&(!this.inventory.rent_from||!this.inventory.rent_to||(this.inventory.date_range=[x(this.inventory.rent_from).toDate(),x(this.inventory.rent_to).toDate()]))}static#e=this.\u0275fac=function(c){return new(c||o)};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["icom-libs-inventory-detail-general"]],inputs:{inventory:"inventory"},standalone:!0,features:[e.jDz],decls:1,vars:1,consts:[[3,"model",4,"ngIf"],[3,"model"]],template:function(c,d){1&c&&e.YNc(0,R,1,1,"icom-libs-inventory-add_edit",0),2&c&&e.Q6J("ngIf",d.inventory)},dependencies:[L.IcomLibsInventoryAddEditComponent,D.j,f.O5],encapsulation:2})}return o})();var U=a(1670),H=a(8849),G=a(8399),J=a(7313),O=a(8619),Y=a(3839),F=a(1236),A=a(2282),j=a(9404),w=a(9717),z=a(8111);const N=(o,p)=>[{prop:"",cellTemplate:o,width:120,sortable:!1},{prop:"sku",sortable:!1,width:200},{prop:"name",sortable:!1,width:400},{prop:"type",width:200,sortable:!1},{prop:"order",width:100,sortable:!1,pipe:(0,z.E2)()},{prop:"gen_code_type",width:200,sortable:!1,name:"Gen Code Type"},{prop:"start_time",width:150,sortable:!1,pipe:(0,z.ZR)()},{prop:"end_time",width:150,sortable:!1,pipe:(0,z.ZR)()},{prop:"status",width:100,sortable:!1,cellTemplate:p}];var _=a(7505);class E{constructor(){this.size=0,this.totalElements=0,this.totalPages=0,this.pageNumber=0}}var y=a(4447),S=a(479),K=a(5920),Z=a(2456);const W=["selectRef"],X=["statusRef"];function $(o,p){if(1&o){const i=e.EpF();e.TgZ(0,"div",5)(1,"button",6),e._uU(2," Action "),e._UZ(3,"span",7),e.qZA(),e.TgZ(4,"nz-dropdown-menu",null,8)(6,"ul",9)(7,"li",10),e.NdJ("click",function(d){const I=e.CHM(i).row,P=e.oxw();return e.KtG(P.handlerViewDetail(d,I))}),e._uU(8," Edit "),e.qZA()()()()}if(2&o){const i=e.MAs(5);e.xp6(1),e.Q6J("nzType","primary")("nzShape","round")("nzDropdownMenu",i)}}function n(o,p){1&o&&(e.TgZ(0,"span",15),e._uU(1,"Draft"),e.qZA())}function g(o,p){1&o&&(e.TgZ(0,"span",16),e._uU(1,"Submitted"),e.qZA())}function r(o,p){1&o&&(e.TgZ(0,"span",16),e._uU(1,"Approved"),e.qZA())}function s(o,p){1&o&&(e.TgZ(0,"span",17),e._uU(1,"Rejected"),e.qZA())}function l(o,p){if(1&o&&(e.TgZ(0,"div",5),e.ynx(1,11),e.YNc(2,n,2,0,"span",12),e.YNc(3,g,2,0,"span",13),e.YNc(4,r,2,0,"span",13),e.YNc(5,s,2,0,"span",14),e.BQk(),e.qZA()),2&o){const i=p.row;e.xp6(1),e.Q6J("ngSwitch",i.status),e.xp6(1),e.Q6J("ngSwitchCase",0),e.xp6(1),e.Q6J("ngSwitchCase",1),e.xp6(1),e.Q6J("ngSwitchCase",2),e.xp6(1),e.Q6J("ngSwitchCase",3)}}const T=function(){return[]};let u=(()=>{class o{constructor(i){this.router=i,this.form=new H.cw({}),this.options={},this.pagination=new E,this.fields=[],this.productService=(0,e.f3M)(t.k),this.modalService=(0,e.f3M)(j.Sf),this.IComMessageService=(0,e.f3M)(w.Q),this.inventoryService=(0,e.f3M)(t.NH),this.cdr=(0,e.f3M)(e.sBO),this.modelForm={},this.pagination.pageNumber=0}ngOnInit(){this.configTable={loadingIndicator:!0,columns:N(this.selectRef,this.statusRef),headerHeight:50,rowHeight:"auto",pageLimit:10},(0,Y.a)([this.productService.getOptionType("PRODUCT_TYPE"),this.productService.getOptionType("PRODUCT_GENCODE_TYPE")]).subscribe(i=>{const[c,d]=i,h=this.configTable.columns?.find(P=>"type"===P.prop);h&&(h.pipe=this.pipeParseStatus(c)),this.configTable.columns=this.configTable.columns;const I=this.configTable.columns?.find(P=>"gen_code_type"===P.prop);I&&(I.pipe=this.pipeParseStatus(d)),this.configTable.columns=this.configTable.columns}),this.loadPage()}pipeParseStatus(i){const c=i.data;return{transform:d=>c.find(I=>I.code===d).name}}loadPage(){var i=this;return(0,U.Z)(function*(){try{i.loadingIndicator=!0;const c=yield(0,F.n)(i.inventoryService.getListProductOfInventory(i.inventory?.id||""));if(c&&c.data&&c.data.items){const d=[...c.data.items||[]];i.rows=d}}catch(c){console.log(c)}finally{i.loadingIndicator=!1,i.cdr.detectChanges()}})()}handlerViewDetail(i,c){i.stopPropagation(),this.router.navigateByUrl(`/inventory/product?inventory=${this.inventory?.id}&product=${c.id}`)}static#e=this.\u0275fac=function(c){return new(c||o)(e.Y36(y.F0))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["icom-libs-inventory-detail-product"]],viewQuery:function(c,d){if(1&c&&(e.Gf(W,7),e.Gf(X,7)),2&c){let h;e.iGM(h=e.CRH())&&(d.selectRef=h.first),e.iGM(h=e.CRH())&&(d.statusRef=h.first)}},inputs:{fields:"fields",rows:"rows",inventory:"inventory"},standalone:!0,features:[e.jDz],decls:7,vars:9,consts:[[1,"mb-4","w-full","h-full","flex","flex-col","!p-4","bg-white","border","rounded-md"],[1,"w-full","h-full","flex"],[1,"material","expandable","striped","w-full","h-full",2,"height","calc(100vh - 229px) !important",3,"rows","columns","headerHeight","columnMode","rowHeight","scrollbarH","scrollbarV","loadingIndicator"],["selectRef",""],["statusRef",""],[1,"name-container"],["nz-button","","nz-button","","nz-dropdown","",3,"nzType","nzShape","nzDropdownMenu"],["nz-icon","","nzType","down"],["menu4","nzDropdownMenu"],["nz-menu",""],["nz-menu-item","",3,"click"],[3,"ngSwitch"],["nz-typography","",4,"ngSwitchCase"],["nz-typography","","nzType","success",4,"ngSwitchCase"],["nz-typography","","nzType","danger",4,"ngSwitchCase"],["nz-typography",""],["nz-typography","","nzType","success"],["nz-typography","","nzType","danger"]],template:function(c,d){1&c&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"ngx-datatable",2),e.qZA()(),e.YNc(3,$,9,3,"ng-template",null,3,e.W1O),e.YNc(5,l,6,5,"ng-template",null,4,e.W1O)),2&c&&(e.xp6(2),e.Q6J("rows",d.rows)("columns",d.configTable.columns||e.DdM(8,T))("headerHeight",d.configTable.headerHeight||50)("columnMode","standard")("rowHeight",50)("scrollbarH",!0)("scrollbarV",!0)("loadingIndicator",d.loadingIndicator))},dependencies:[J.u,H.UX,G.X0,O.sL,O.ix,S.w,K.dQ,A.xD,A.nE,v.PV,v.Ls,_.b1,Z.wO,Z.u9,_.cm,_.RR,_.wA,f.RF,f.n9],encapsulation:2,changeDetection:0})}return o})();function V(o,p){if(1&o&&e._UZ(0,"icom-libs-inventory-detail-general",9),2&o){const i=e.oxw(2);e.Q6J("inventory",i.inventory)}}function q(o,p){1&o&&e._UZ(0,"nz-spin",10)}function ee(o,p){1&o&&e._UZ(0,"nz-spin",10)}function te(o,p){if(1&o&&(e.TgZ(0,"div",3)(1,"nz-tabset",4)(2,"nz-tab",5),e.YNc(3,V,1,1,"icom-libs-inventory-detail-general",6),e.YNc(4,q,1,0,"nz-spin",7),e.qZA(),e.TgZ(5,"nz-tab",8),e._UZ(6,"icom-libs-inventory-detail-product",9),e.YNc(7,ee,1,0,"nz-spin",7),e.qZA()()()),2&o){const i=e.oxw();e.xp6(1),e.Q6J("nzSelectedIndex",0),e.xp6(2),e.Q6J("ngIf",i.inventory),e.xp6(1),e.Q6J("ngIf",!i.inventory),e.xp6(2),e.Q6J("inventory",i.inventory),e.xp6(1),e.Q6J("ngIf",!i.inventory)}}let ne=(()=>{class o{constructor(i){this.routeActive=i,this.inventoryService=(0,e.f3M)(t.NH),this.cdr=(0,e.f3M)(e.sBO),this.inventoryId=this.routeActive.snapshot.params.id}ngOnInit(){this.inventoryService.getInventory(this.inventoryId).subscribe(i=>{this.inventory=i.data,this.cdr.detectChanges()})}static#e=this.\u0275fac=function(c){return new(c||o)(e.Y36(y.gz))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["icom-libs-inventory-detail"]],standalone:!0,features:[e.jDz],decls:5,vars:2,consts:[["nzBackIcon","",1,"site-page-header","h-full","w-full","flex","flex-col"],[1,"w-full","h-full"],["class","h-full",4,"ngIf"],[1,"h-full"],[1,"h-full","w-full",3,"nzSelectedIndex"],["nzTitle","General"],[3,"inventory",4,"ngIf"],["nzSimple","",4,"ngIf"],["nzTitle","Inventory Product"],[3,"inventory"],["nzSimple",""]],template:function(c,d){1&c&&(e.TgZ(0,"nz-page-header",0)(1,"nz-page-header-title"),e._uU(2),e.qZA(),e.TgZ(3,"nz-page-header-footer",1),e.YNc(4,te,8,5,"div",2),e.qZA()()),2&c&&(e.xp6(2),e.Oqu((null==d.inventory?null:d.inventory.name)||""),e.xp6(2),e.Q6J("ngIf",d.inventory&&d.inventory.id))},dependencies:[M.ZJ,m.KJ,m.$O,m.u9,m.$,B.zf,b.we,b.xH,b.xw,v.PV,f.O5,Q,u,D.j,D.W],encapsulation:2,changeDetection:0})}return o})()},1539:(k,C,a)=>{a.d(C,{$:()=>y,$O:()=>W,Jp:()=>E,KJ:()=>$,u5:()=>N,u9:()=>w,yG:()=>z});var f=a(4565),e=a(6575),t=a(1699),v=a(6672),m=a(7090),B=a(2321),b=a(9877),M=a(274),L=a(9736),x=a(9372),D=a(2384),R=a(5386);function Q(n,g){if(1&n&&(t.ynx(0),t._UZ(1,"span",9),t.BQk()),2&n){const r=g.$implicit,s=t.oxw(2);t.xp6(1),t.Q6J("nzType",r||s.getBackIcon())}}function U(n,g){if(1&n){const r=t.EpF();t.TgZ(0,"div",6),t.NdJ("click",function(){t.CHM(r);const l=t.oxw();return t.KtG(l.onBack())}),t.TgZ(1,"div",7),t.YNc(2,Q,2,1,"ng-container",8),t.qZA()()}if(2&n){const r=t.oxw();t.xp6(2),t.Q6J("nzStringTemplateOutlet",r.nzBackIcon)}}function H(n,g){if(1&n&&(t.ynx(0),t._uU(1),t.BQk()),2&n){const r=t.oxw(2);t.xp6(1),t.Oqu(r.nzTitle)}}function G(n,g){if(1&n&&(t.TgZ(0,"span",10),t.YNc(1,H,2,1,"ng-container",8),t.qZA()),2&n){const r=t.oxw();t.xp6(1),t.Q6J("nzStringTemplateOutlet",r.nzTitle)}}function J(n,g){1&n&&t.Hsn(0,6,["*ngIf","!nzTitle"])}function O(n,g){if(1&n&&(t.ynx(0),t._uU(1),t.BQk()),2&n){const r=t.oxw(2);t.xp6(1),t.Oqu(r.nzSubtitle)}}function Y(n,g){if(1&n&&(t.TgZ(0,"span",11),t.YNc(1,O,2,1,"ng-container",8),t.qZA()),2&n){const r=t.oxw();t.xp6(1),t.Q6J("nzStringTemplateOutlet",r.nzSubtitle)}}function F(n,g){1&n&&t.Hsn(0,7,["*ngIf","!nzSubtitle"])}const A=[[["nz-breadcrumb","nz-page-header-breadcrumb",""]],[["nz-avatar","nz-page-header-avatar",""]],[["nz-page-header-tags"],["","nz-page-header-tags",""]],[["nz-page-header-extra"],["","nz-page-header-extra",""]],[["nz-page-header-content"],["","nz-page-header-content",""]],[["nz-page-header-footer"],["","nz-page-header-footer",""]],[["nz-page-header-title"],["","nz-page-header-title",""]],[["nz-page-header-subtitle"],["","nz-page-header-subtitle",""]]],j=["nz-breadcrumb[nz-page-header-breadcrumb]","nz-avatar[nz-page-header-avatar]","nz-page-header-tags, [nz-page-header-tags]","nz-page-header-extra, [nz-page-header-extra]","nz-page-header-content, [nz-page-header-content]","nz-page-header-footer, [nz-page-header-footer]","nz-page-header-title, [nz-page-header-title]","nz-page-header-subtitle, [nz-page-header-subtitle]"];let w=(()=>{class n{static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275dir=t.lG2({type:n,selectors:[["nz-page-header-title"],["","nz-page-header-title",""]],hostAttrs:[1,"ant-page-header-heading-title"],exportAs:["nzPageHeaderTitle"]})}return n})(),z=(()=>{class n{static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275dir=t.lG2({type:n,selectors:[["nz-page-header-subtitle"],["","nz-page-header-subtitle",""]],hostAttrs:[1,"ant-page-header-heading-sub-title"],exportAs:["nzPageHeaderSubtitle"]})}return n})(),N=(()=>{class n{static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275dir=t.lG2({type:n,selectors:[["nz-page-header-content"],["","nz-page-header-content",""]],hostAttrs:[1,"ant-page-header-content"],exportAs:["nzPageHeaderContent"]})}return n})(),E=(()=>{class n{static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275dir=t.lG2({type:n,selectors:[["nz-page-header-extra"],["","nz-page-header-extra",""]],hostAttrs:[1,"ant-page-header-heading-extra"],exportAs:["nzPageHeaderExtra"]})}return n})(),y=(()=>{class n{static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275dir=t.lG2({type:n,selectors:[["nz-page-header-footer"],["","nz-page-header-footer",""]],hostAttrs:[1,"ant-page-header-footer"],exportAs:["nzPageHeaderFooter"]})}return n})(),S=(()=>{class n{static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275dir=t.lG2({type:n,selectors:[["nz-breadcrumb","nz-page-header-breadcrumb",""]],exportAs:["nzPageHeaderBreadcrumb"]})}return n})(),W=(()=>{class n{constructor(r,s,l,T,u,V){this.location=r,this.nzConfigService=s,this.elementRef=l,this.nzResizeObserver=T,this.cdr=u,this.directionality=V,this._nzModuleName="pageHeader",this.nzBackIcon=null,this.nzGhost=!0,this.nzBack=new t.vpe,this.compact=!1,this.destroy$=new b.x,this.dir="ltr"}ngOnInit(){this.directionality.change?.pipe((0,M.R)(this.destroy$)).subscribe(r=>{this.dir=r,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngAfterViewInit(){this.nzResizeObserver.observe(this.elementRef).pipe((0,L.U)(([r])=>r.contentRect.width),(0,M.R)(this.destroy$)).subscribe(r=>{this.compact=r<768,this.cdr.markForCheck()})}onBack(){if(this.nzBack.observers.length)this.nzBack.emit();else{if(!this.location)throw new Error(`${D.Bq} you should import 'RouterModule' or register 'Location' if you want to use 'nzBack' default event!`);this.location.back()}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}getBackIcon(){return"rtl"===this.dir?"arrow-right":"arrow-left"}static#e=this.\u0275fac=function(s){return new(s||n)(t.Y36(e.Ye,8),t.Y36(x.jY),t.Y36(t.SBq),t.Y36(R.D3),t.Y36(t.sBO),t.Y36(f.Is,8))};static#t=this.\u0275cmp=t.Xpm({type:n,selectors:[["nz-page-header"]],contentQueries:function(s,l,T){if(1&s&&(t.Suo(T,y,5),t.Suo(T,S,5)),2&s){let u;t.iGM(u=t.CRH())&&(l.nzPageHeaderFooter=u.first),t.iGM(u=t.CRH())&&(l.nzPageHeaderBreadcrumb=u.first)}},hostAttrs:[1,"ant-page-header"],hostVars:10,hostBindings:function(s,l){2&s&&t.ekj("has-footer",l.nzPageHeaderFooter)("ant-page-header-ghost",l.nzGhost)("has-breadcrumb",l.nzPageHeaderBreadcrumb)("ant-page-header-compact",l.compact)("ant-page-header-rtl","rtl"===l.dir)},inputs:{nzBackIcon:"nzBackIcon",nzTitle:"nzTitle",nzSubtitle:"nzSubtitle",nzGhost:"nzGhost"},outputs:{nzBack:"nzBack"},exportAs:["nzPageHeader"],ngContentSelectors:j,decls:13,vars:5,consts:[[1,"ant-page-header-heading"],[1,"ant-page-header-heading-left"],["class","ant-page-header-back",3,"click",4,"ngIf"],["class","ant-page-header-heading-title",4,"ngIf"],[4,"ngIf"],["class","ant-page-header-heading-sub-title",4,"ngIf"],[1,"ant-page-header-back",3,"click"],["role","button","tabindex","0",1,"ant-page-header-back-button"],[4,"nzStringTemplateOutlet"],["nz-icon","","nzTheme","outline",3,"nzType"],[1,"ant-page-header-heading-title"],[1,"ant-page-header-heading-sub-title"]],template:function(s,l){1&s&&(t.F$t(A),t.Hsn(0),t.TgZ(1,"div",0)(2,"div",1),t.YNc(3,U,3,1,"div",2),t.Hsn(4,1),t.YNc(5,G,2,1,"span",3),t.YNc(6,J,1,0,"ng-content",4),t.YNc(7,Y,2,1,"span",5),t.YNc(8,F,1,0,"ng-content",4),t.Hsn(9,2),t.qZA(),t.Hsn(10,3),t.qZA(),t.Hsn(11,4),t.Hsn(12,5)),2&s&&(t.xp6(3),t.Q6J("ngIf",null!==l.nzBackIcon),t.xp6(2),t.Q6J("ngIf",l.nzTitle),t.xp6(1),t.Q6J("ngIf",!l.nzTitle),t.xp6(1),t.Q6J("ngIf",l.nzSubtitle),t.xp6(1),t.Q6J("ngIf",!l.nzSubtitle))},dependencies:[e.O5,v.f,m.Ls],encapsulation:2,changeDetection:0})}return(0,B.gn)([(0,x.oS)()],n.prototype,"nzGhost",void 0),n})(),$=(()=>{class n{static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[f.vT,e.ez,v.T,m.PV]})}return n})()}}]);
//# sourceMappingURL=libs_inventory_detail_src_index_ts.js.map