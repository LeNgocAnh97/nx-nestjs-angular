"use strict";(self.webpackChunkicom=self.webpackChunkicom||[]).push([["default-libs_core_components_table_index_ts"],{8883:(N,C,s)=>{s.d(C,{d:()=>Qt});var l=s(6575),t=s(1699),r=s(8849),m=s(8399),B=s(7313),p=s(8619),d=s(7505),x=s(1498),A=s(7090),k=s(9404),Z=s(6677),g=s(1340),F=s(8641),D=s(1236),z=s(292);let L=(()=>{class e{constructor(n){this.decimalPipe=n}transform(n,i,o){switch(i){case"decimal":return this.decimalPipe.transform(n,"1.0-2");case"time":return z(n).format("DD/MM/YYYY HH:mm");case"array":return`<span class="${o?.find(a=>a.id===n)?.class}">${o?.length&&o?.find(a=>a.id===n)?.value||""}</span>`;default:return n}}static#t=this.\u0275fac=function(i){return new(i||e)(t.Y36(l.JJ,16))};static#n=this.\u0275pipe=t.Yjl({name:"dynamicPipe",type:e,pure:!0,standalone:!0})}return e})();var f=s(2321),h=s(554),Y=s(9877),T=s(9016),_=s(274),b=s(9372),E=s(1636),M=s(3170),I=s(4565),Q=s(5920),v=s(6672);const U=["switchElement"];function P(e,c){1&e&&t._UZ(0,"span",8)}function K(e,c){if(1&e&&(t.ynx(0),t._uU(1),t.BQk()),2&e){const n=t.oxw(2);t.xp6(1),t.Oqu(n.nzCheckedChildren)}}function R(e,c){if(1&e&&(t.ynx(0),t.YNc(1,K,2,1,"ng-container",9),t.BQk()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("nzStringTemplateOutlet",n.nzCheckedChildren)}}function O(e,c){if(1&e&&(t.ynx(0),t._uU(1),t.BQk()),2&e){const n=t.oxw(2);t.xp6(1),t.Oqu(n.nzUnCheckedChildren)}}function H(e,c){if(1&e&&t.YNc(0,O,2,1,"ng-container",9),2&e){const n=t.oxw();t.Q6J("nzStringTemplateOutlet",n.nzUnCheckedChildren)}}let G=(()=>{class e{updateValue(n){this.isChecked!==n&&(this.isChecked=n,this.onChange(this.isChecked))}focus(){this.focusMonitor.focusVia(this.switchElement.nativeElement,"keyboard")}blur(){this.switchElement.nativeElement.blur()}constructor(n,i,o,a,u,xt){this.nzConfigService=n,this.host=i,this.ngZone=o,this.cdr=a,this.focusMonitor=u,this.directionality=xt,this._nzModuleName="switch",this.isChecked=!1,this.onChange=()=>{},this.onTouched=()=>{},this.nzLoading=!1,this.nzDisabled=!1,this.nzControl=!1,this.nzCheckedChildren=null,this.nzUnCheckedChildren=null,this.nzSize="default",this.nzId=null,this.dir="ltr",this.destroy$=new Y.x,this.isNzDisableFirstChange=!0}ngOnInit(){this.directionality.change.pipe((0,_.R)(this.destroy$)).subscribe(n=>{this.dir=n,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.ngZone.runOutsideAngular(()=>{(0,T.R)(this.host.nativeElement,"click").pipe((0,_.R)(this.destroy$)).subscribe(n=>{n.preventDefault(),!(this.nzControl||this.nzDisabled||this.nzLoading)&&this.ngZone.run(()=>{this.updateValue(!this.isChecked),this.cdr.markForCheck()})}),(0,T.R)(this.switchElement.nativeElement,"keydown").pipe((0,_.R)(this.destroy$)).subscribe(n=>{if(this.nzControl||this.nzDisabled||this.nzLoading)return;const{keyCode:i}=n;i!==h.oh&&i!==h.SV&&i!==h.L_&&i!==h.K5||(n.preventDefault(),this.ngZone.run(()=>{i===h.oh?this.updateValue(!1):i===h.SV?this.updateValue(!0):(i===h.L_||i===h.K5)&&this.updateValue(!this.isChecked),this.cdr.markForCheck()}))})})}ngAfterViewInit(){this.focusMonitor.monitor(this.switchElement.nativeElement,!0).pipe((0,_.R)(this.destroy$)).subscribe(n=>{n||Promise.resolve().then(()=>this.onTouched())})}ngOnDestroy(){this.focusMonitor.stopMonitoring(this.switchElement.nativeElement),this.destroy$.next(),this.destroy$.complete()}writeValue(n){this.isChecked=n,this.cdr.markForCheck()}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||n,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}static#t=this.\u0275fac=function(i){return new(i||e)(t.Y36(b.jY),t.Y36(t.SBq),t.Y36(t.R0b),t.Y36(t.sBO),t.Y36(M.tE),t.Y36(I.Is,8))};static#n=this.\u0275cmp=t.Xpm({type:e,selectors:[["nz-switch"]],viewQuery:function(i,o){if(1&i&&t.Gf(U,7),2&i){let a;t.iGM(a=t.CRH())&&(o.switchElement=a.first)}},inputs:{nzLoading:"nzLoading",nzDisabled:"nzDisabled",nzControl:"nzControl",nzCheckedChildren:"nzCheckedChildren",nzUnCheckedChildren:"nzUnCheckedChildren",nzSize:"nzSize",nzId:"nzId"},exportAs:["nzSwitch"],features:[t._Bn([{provide:r.JU,useExisting:(0,t.Gpc)(()=>e),multi:!0}])],decls:9,vars:16,consts:[["nz-wave","","type","button",1,"ant-switch",3,"disabled","nzWaveExtraNode"],["switchElement",""],[1,"ant-switch-handle"],["nz-icon","","nzType","loading","class","ant-switch-loading-icon",4,"ngIf"],[1,"ant-switch-inner"],[4,"ngIf","ngIfElse"],["uncheckTemplate",""],[1,"ant-click-animating-node"],["nz-icon","","nzType","loading",1,"ant-switch-loading-icon"],[4,"nzStringTemplateOutlet"]],template:function(i,o){if(1&i&&(t.TgZ(0,"button",0,1)(2,"span",2),t.YNc(3,P,1,0,"span",3),t.qZA(),t.TgZ(4,"span",4),t.YNc(5,R,2,1,"ng-container",5),t.YNc(6,H,1,1,"ng-template",null,6,t.W1O),t.qZA(),t._UZ(8,"div",7),t.qZA()),2&i){const a=t.MAs(7);t.ekj("ant-switch-checked",o.isChecked)("ant-switch-loading",o.nzLoading)("ant-switch-disabled",o.nzDisabled)("ant-switch-small","small"===o.nzSize)("ant-switch-rtl","rtl"===o.dir),t.Q6J("disabled",o.nzDisabled)("nzWaveExtraNode",!0),t.uIk("id",o.nzId),t.xp6(3),t.Q6J("ngIf",o.nzLoading),t.xp6(2),t.Q6J("ngIf",o.isChecked)("ngIfElse",a)}},dependencies:[l.O5,Q.dQ,A.Ls,v.f],encapsulation:2,changeDetection:0})}return(0,f.gn)([(0,E.yF)()],e.prototype,"nzLoading",void 0),(0,f.gn)([(0,E.yF)()],e.prototype,"nzDisabled",void 0),(0,f.gn)([(0,E.yF)()],e.prototype,"nzControl",void 0),(0,f.gn)([(0,b.oS)()],e.prototype,"nzSize",void 0),e})(),X=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#n=this.\u0275mod=t.oAB({type:e});static#e=this.\u0275inj=t.cJS({imports:[I.vT,l.ez,Q.vG,A.PV,v.T]})}return e})();var y=s(881),V=s(5594),$=s(9717),W=s(7178),w=s(8076),q=s(479),S=s(7253),J=s(2456);function tt(e,c){if(1&e){const n=t.EpF();t.TgZ(0,"div",22)(1,"button",23),t.NdJ("click",function(o){t.CHM(n);const a=t.oxw(2);return t.KtG(a.showModal(o))}),t._UZ(2,"span",24),t._uU(3," Th\xeam m\u1edbi "),t.qZA()()}2&e&&(t.xp6(1),t.Q6J("action","add")("nzType","primary"))}function nt(e,c){if(1&e){const n=t.EpF();t.TgZ(0,"button",23),t.NdJ("click",function(o){t.CHM(n);const a=t.oxw(2);return t.KtG(a.handlerExport(o))}),t._uU(1," Xu\u1ea5t file "),t.qZA()}2&e&&t.Q6J("action","add")("nzType","primary")}function et(e,c){if(1&e){const n=t.EpF();t.TgZ(0,"form",9),t.NdJ("keydown.enter",function(o){t.CHM(n);const a=t.oxw();return t.KtG(a.handlerSearch(o))}),t.TgZ(1,"div",10),t._UZ(2,"formly-form",11),t.qZA(),t.TgZ(3,"div",12),t.YNc(4,tt,4,2,"div",13),t.YNc(5,nt,2,2,"button",14),t.TgZ(6,"div",15)(7,"button",16),t.NdJ("click",function(o){t.CHM(n);const a=t.oxw();return t.KtG(a.handlerSearch(o))}),t._UZ(8,"i",17),t._uU(9," T\xecm ki\u1ebfm "),t.qZA(),t.TgZ(10,"button",18),t.NdJ("click",function(o){t.CHM(n);const a=t.oxw();return t.KtG(a.handlerReset(o))}),t._UZ(11,"i",19),t._uU(12," L\xe0m m\u1edbi "),t.qZA(),t.TgZ(13,"a",20),t.NdJ("click",function(o){t.CHM(n);const a=t.oxw();return t.KtG(a.handlerToggleCollapse(o))}),t._uU(14),t._UZ(15,"span",21),t.qZA()()()()}if(2&e){const n=t.oxw();t.Q6J("formGroup",n.form),t.xp6(2),t.Q6J("model",n.model)("fields",n.fields)("form",n.form)("options",n.options),t.xp6(2),t.Q6J("ngIf",!n.ignoreButtonAdd),t.xp6(1),t.Q6J("ngIf",n.displayExportFile),t.xp6(2),t.Q6J("nzType","primary"),t.xp6(7),t.hij(" ",n.options.formState.hidden?"Thu g\u1ecdn":"M\u1edf r\u1ed9ng"," "),t.xp6(1),t.Q6J("nzType",n.options.formState.hidden?"up":"down")}}function it(e,c){if(1&e&&(t.TgZ(0,"th",25),t._uU(1),t.qZA()),2&e){const n=c.$implicit;t.xp6(1),t.Oqu(n.title)}}function ot(e,c){if(1&e&&(t.ynx(0),t._uU(1),t.BQk()),2&e){const n=t.oxw(2).index,i=t.oxw();t.xp6(1),t.hij(" ",((null==i.pagination?null:i.pagination.page)-1)*(i.pagination.limit||10)+n+1," ")}}function at(e,c){if(1&e&&(t.ynx(0),t._UZ(1,"span",34),t.ALo(2,"dynamicPipe"),t.BQk()),2&e){const n=t.oxw(2).$implicit,i=t.oxw().$implicit;t.xp6(1),t.Tol(n.class),t.Q6J("innerHTML",t.Dn7(2,3,i[n.key],n.pipe,n.pipeArgs),t.oJD)}}function st(e,c){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){const n=t.oxw(2).$implicit,i=t.oxw().$implicit,o=t.oxw();t.Tol(n.class),t.xp6(1),t.Oqu(o.lodash.get(i,n.key))}}function ct(e,c){if(1&e&&(t.TgZ(0,"div",31),t.YNc(1,at,3,7,"ng-container",32),t.YNc(2,st,2,3,"ng-template",null,33,t.W1O),t.qZA()),2&e){const n=t.MAs(3),i=t.oxw().$implicit,o=t.oxw().$implicit;t.Q6J("nzTooltipTitle",o[i.key]),t.xp6(1),t.Q6J("ngIf",i.pipe)("ngIfElse",n)}}function lt(e,c){1&e&&(t.ynx(0),t.TgZ(1,"span"),t._uU(2,"-"),t.qZA(),t.BQk())}function rt(e,c){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){const n=t.oxw(2).$implicit,i=t.oxw().$implicit;t.xp6(1),t.Oqu(i[n.key])}}function dt(e,c){if(1&e){const n=t.EpF();t.TgZ(0,"div")(1,"a",35),t.NdJ("click",function(){t.CHM(n);const o=t.oxw().$implicit,a=t.oxw().$implicit;return t.KtG(null==o?null:o.callback(a))}),t.YNc(2,lt,3,0,"ng-container",32),t.YNc(3,rt,2,1,"ng-template",null,36,t.W1O),t.qZA()()}if(2&e){const n=t.MAs(4),i=t.oxw().$implicit,o=t.oxw().$implicit;t.xp6(1),t.Q6J("nzSize","default"),t.xp6(1),t.Q6J("ngIf",null==o[i.key])("ngIfElse",n)}}function ht(e,c){if(1&e){const n=t.EpF();t.TgZ(0,"li",42),t.NdJ("click",function(){t.CHM(n);const o=t.oxw().$implicit,a=t.oxw(3).$implicit;return t.KtG(o.callback(a))}),t._uU(1),t.qZA()}if(2&e){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",n.name," ")}}function mt(e,c){if(1&e&&(t.ynx(0),t.YNc(1,ht,2,1,"li",41),t.BQk()),2&e){const n=c.$implicit,i=t.oxw(3).$implicit;t.xp6(1),t.Q6J("ngIf",n.condition&&n.condition(i))}}function gt(e,c){if(1&e&&(t.ynx(0),t.TgZ(1,"button",37),t._uU(2," H\xe0nh \u0111\u1ed9ng "),t._UZ(3,"span",38),t.qZA(),t.TgZ(4,"nz-dropdown-menu",null,39)(6,"ul",40),t.YNc(7,mt,2,1,"ng-container",6),t.qZA()(),t.BQk()),2&e){const n=t.MAs(5),i=t.oxw().$implicit;t.xp6(1),t.Q6J("nzDropdownMenu",n),t.xp6(6),t.Q6J("ngForOf",i.actions)}}function pt(e,c){if(1&e&&(t.ynx(0),t.TgZ(1,"div",43),t._UZ(2,"img",44),t.qZA(),t.BQk()),2&e){const n=t.oxw(2).$implicit,i=t.oxw();t.xp6(2),t.s9C("alt",i.lodash.get(n,"medias[0].url")),t.Q6J("nzFallback","data:image/png;base64,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")("nzSrc",i.lodash.get(n,"medias[0].url"))}}function ut(e,c){if(1&e&&(t.ynx(0),t._UZ(1,"nz-switch",45),t.BQk()),2&e){const n=t.oxw().$implicit,i=t.oxw().$implicit;t.xp6(1),t.Q6J("ngModel",i[n.key])}}function At(e,c){if(1&e&&(t.TgZ(0,"td",27),t.ynx(1,28),t.YNc(2,ot,2,1,"ng-container",29),t.YNc(3,ct,4,3,"div",30),t.YNc(4,dt,5,3,"div",29),t.YNc(5,gt,8,2,"ng-container",29),t.YNc(6,pt,3,3,"ng-container",29),t.YNc(7,ut,2,1,"ng-container",29),t.BQk(),t.qZA()),2&e){const n=c.$implicit;t.xp6(1),t.Q6J("ngSwitch",n.type),t.xp6(1),t.Q6J("ngSwitchCase","index"),t.xp6(1),t.Q6J("ngSwitchCase","text"),t.xp6(1),t.Q6J("ngSwitchCase","text-link"),t.xp6(1),t.Q6J("ngSwitchCase","action"),t.xp6(1),t.Q6J("ngSwitchCase","image"),t.xp6(1),t.Q6J("ngSwitchCase","toggle")}}function ft(e,c){if(1&e&&(t.TgZ(0,"tr"),t.YNc(1,At,8,7,"td",26),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.columns)}}function _t(e,c){if(1&e&&(t.TgZ(0,"div",46),t._uU(1),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.hij(" T\u1ed5ng s\u1ed1 b\u1ea3n ghi: ",(null==n.pagination?null:n.pagination.total_rows)||0," ")}}function Ct(e,c){1&e&&(t.TgZ(0,"div",47)(1,"span",48),t._uU(2,"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u"),t.qZA()())}const zt=function(){return{x:"1500px",y:"calc(100vh - 260px)"}},Et=function(){return[10,20,30,40,50]};let Qt=(()=>{class e{constructor(){this.dataSet=[],this.isLoading=!0,this.options={},this.lodash=W,this.icomFilterChange=new t.vpe,this.icomAdd=new t.vpe,this.icomFunctionControl=new t.vpe,this.IComMessageService=(0,t.f3M)($.Q),this.cdr=(0,t.f3M)(t.sBO),this.columns=[],this.options={formState:{hidden:!1}}}ngOnInit(){this.fetchData(1,this.limit||10),this.icomFunctionControl.emit({reset:()=>{this.fetchData()},addItem:n=>this.addItem(n),mergeItem:(n,i)=>this.mergeItem(n,i)})}fetchData(n=1,i=10){this.isLoading=!0;let o={limit:i,page:n,...this.model};this.model?.start_time&&(o={...o,start_time:this.model.start_time?z(this.model.start_time).format("YYYY-MM-DD"):""}),console.log(this.lodash.get(o,"limit")),this.model?.end_time&&(o={...o,end_time:this.model.end_time?z(this.model.end_time).format("YYYY-MM-DD"):""}),this.loadFn&&(0,D.n)(this.loadFn(o)).then(a=>{if(a&&a.data&&a.data.items)return this.dataSet=a?.data?.items||[],this.functionParse&&(this.dataSet=this.functionParse(a.data.items)),this.pagination=a.data.pagination,this.isLoading=!1,void this.cdr.detectChanges();this.dataSet=[],this.pagination=a.data.pagination,this.isLoading=!1,console.log(this.pagination),this.cdr.detectChanges()}).catch(a=>{this.dataSet=[],this.pagination=void 0,this.isLoading=!1,this.cdr.detectChanges()})}onSearch(){this.fetchData(1),this.icomFilterChange.emit(this.model)}onPageChange(n){this.fetchData(n,this.pagination.limit)}handlerSearch(n){n.stopPropagation(),n.preventDefault(),this.fetchData(1,this.limit||10)}showModal(n){n.stopPropagation(),n.preventDefault(),this.icomAdd.emit(!0)}handlerReset(n){n.stopPropagation(),n.preventDefault(),this.model={},this.form.reset(),this.fetchData(1,this.limit||10)}handlerExport(n){n.stopPropagation(),n.preventDefault(),this.functionExportFile(this.model)}handlerToggleCollapse(n){n.stopPropagation(),n.preventDefault(),this.options.formState.hidden=!this.options.formState.hidden}onPageSizeChange(n){this.limit=n,this.fetchData(1,this.limit||10)}mergeItem(n,i){const o=this.dataSet.findIndex(a=>a[n]);-1!==o&&(this.dataSet[o]={...i},this.cdr.detectChanges())}addItem(n){this.dataSet.unshift(n),this.cdr.detectChanges()}static#t=this.\u0275fac=function(i){return new(i||e)};static#n=this.\u0275cmp=t.Xpm({type:e,selectors:[["icom-libs-core-components-table"]],inputs:{columns:"columns",loadFn:"loadFn",fields:"fields",model:"model",form:"form",functionParse:"functionParse",functionExportFile:"functionExportFile",limit:"limit",displayExportFile:"displayExportFile",ignoreButtonAdd:"ignoreButtonAdd"},outputs:{icomFilterChange:"icomFilterChange",icomAdd:"icomAdd",icomFunctionControl:"icomFunctionControl"},standalone:!0,features:[t._Bn([l.JJ]),t.jDz],decls:14,vars:15,consts:[[1,"flex","flex-col","w-full","h-full"],["nz-form","","class","!p-4 bg-white border rounded-md",3,"formGroup","keydown.enter",4,"ngIf"],[1,"w-full","h-full","d-flex","mt-4","overflow-hidden"],["nzShowSizeChanger","",1,"h-full",3,"nzScroll","nzData","nzLoading","nzNoResult","nzTotal","nzPageSize","nzPageIndex","nzFrontPagination","nzPageSizeOptions","nzFooter","nzPageIndexChange","nzPageSizeChange"],["sectionTable",""],["class","text-xs font-semibold ",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["footerTemplate",""],["noResultTemplate",""],["nz-form","",1,"!p-4","bg-white","border","rounded-md",3,"formGroup","keydown.enter"],[1,"w-full","items-center"],[3,"model","fields","form","options"],["nz-row","",1,"flex","justify-between"],["class","",4,"ngIf"],["icomLibsHasPermissionDirective","","nz-button","",3,"action","nzType","click",4,"ngIf"],["nz-col","",1,"search-area","flex","items-center"],["nz-button","",1,"!flex","!items-center",3,"nzType","click"],["nz-icon","","nzType","search","nzTheme","outline"],["nz-button","",1,"ml-4","!flex","!items-center",3,"click"],["nz-icon","","nzTheme","outline","nzType","close-circle"],[1,"ml-4","items-center","flex",3,"click"],["nz-icon","",1,"ml-2",3,"nzType"],[1,""],["icomLibsHasPermissionDirective","","nz-button","",3,"action","nzType","click"],["nz-icon","","nzType","plus","nzTheme","outline"],[1,"text-xs","font-semibold"],["class","text-xs !p-3",4,"ngFor","ngForOf"],[1,"text-xs","!p-3"],[3,"ngSwitch"],[4,"ngSwitchCase"],["nz-tooltip","","class","overflow-hidden text-ellipsis whitespace-nowrap",3,"nzTooltipTitle",4,"ngSwitchCase"],["nz-tooltip","",1,"overflow-hidden","text-ellipsis","whitespace-nowrap",3,"nzTooltipTitle"],[4,"ngIf","ngIfElse"],["noPipe",""],[3,"innerHTML"],["nz-button","","nzType","link",3,"nzSize","click"],["notNullValue",""],["nz-button","","nz-dropdown","",3,"nzDropdownMenu"],["nz-icon","","nzType","down"],["menu","nzDropdownMenu"],["nz-menu",""],["nz-menu-item","",3,"click",4,"ngIf"],["nz-menu-item","",3,"click"],[1,"name-container","cursor-pointer"],["nz-image","","width","200px","width","80","height","80",3,"nzFallback","nzSrc","alt"],[3,"ngModel"],[1,"footer-content"],[1,"flex","flex-col","items-center","justify-center"],[1,"block"]],template:function(i,o){if(1&i&&(t.TgZ(0,"div",0),t.YNc(1,et,16,10,"form",1),t.TgZ(2,"div",2)(3,"nz-table",3,4),t.NdJ("nzPageIndexChange",function(u){return o.onPageChange(u)})("nzPageSizeChange",function(u){return o.onPageSizeChange(u)}),t.TgZ(5,"thead")(6,"tr"),t.YNc(7,it,2,1,"th",5),t.qZA()(),t.TgZ(8,"tbody"),t.YNc(9,ft,2,1,"tr",6),t.qZA()()()(),t.YNc(10,_t,2,1,"ng-template",null,7,t.W1O),t.YNc(12,Ct,3,0,"ng-template",null,8,t.W1O)),2&i){const a=t.MAs(11);t.xp6(1),t.Q6J("ngIf",o.form),t.xp6(2),t.Q6J("nzScroll",t.DdM(13,zt))("nzData",o.dataSet)("nzLoading",o.isLoading)("nzNoResult","Kh\xf4ng c\xf3 d\u1eef li\u1ec7u.")("nzTotal",null==o.pagination?null:o.pagination.total_rows)("nzPageSize",o.limit||10)("nzPageIndex",null==o.pagination?null:o.pagination.page)("nzFrontPagination",!1)("nzPageSizeOptions",t.DdM(14,Et))("nzFooter",a),t.xp6(4),t.Q6J("ngForOf",o.columns),t.xp6(2),t.Q6J("ngForOf",o.dataSet)}},dependencies:[g.HQ,g.N8,g.Uo,g._C,g.Om,g.p0,g.$Z,B.u,r.UX,r._Y,r.JJ,r.JL,r.sg,m.X0,m.T7,p.sL,p.ix,q.w,Q.dQ,x.U5,S.t3,S.SK,x.Lr,l.sg,l.RF,l.n9,F.ZJ,A.PV,A.Ls,k.Qp,Z.LV,r.u5,r.On,d.b1,J.wO,J.u9,d.cm,d.RR,d.wA,l.O5,L,X,G,y.cg,y.SY,V.E,w.Gb,w.Ie],styles:["nz-table[_ngcontent-%COMP%]{table:has(nz-embed-empty) {height: 100%;} overflow: hidden;nz-spin {height: 100%; .ant-spin-container {height: calc(100% - 50px) !important; .ant-table {height: 100%; .ant-table-container {height: 100%; overflow: hidden; .ant-table-body {overflow-x: scroll; overflow-x: hidden; height: calc(100% - 50px);}}}}}}\n\n/*# sourceMappingURL=table.component.ts-angular-inline--1.css.map*/"]})}return e})()},5594:(N,C,s)=>{s.d(C,{E:()=>r});var l=s(248),t=s(1699);let r=(()=>{class m{constructor(p,d){this.el=p,this.permissionService=d}ngOnInit(){this.permissionService.getPermission(this.action)||this.el.nativeElement.style.setProperty("display","none","important")}static#t=this.\u0275fac=function(d){return new(d||m)(t.Y36(t.SBq),t.Y36(l.$))};static#n=this.\u0275dir=t.lG2({type:m,selectors:[["","icomLibsHasPermissionDirective",""]],inputs:{action:"action"},standalone:!0})}return m})()}}]);
//# sourceMappingURL=default-libs_core_components_table_index_ts.js.map