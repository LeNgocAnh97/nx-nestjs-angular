"use strict";(self.webpackChunkicom=self.webpackChunkicom||[]).push([[961],{7786:(L,b,a)=>{a.d(b,{E:()=>e});var m=a(248),f=a(5879);let e=(()=>{class u{constructor(c,l){this.el=c,this.permissionService=l}ngOnInit(){this.permissionService.getPermission(this.action)||this.el.nativeElement.style.setProperty("display","none","important")}static#e=this.\u0275fac=function(l){return new(l||u)(f.Y36(f.SBq),f.Y36(m.$))};static#t=this.\u0275dir=f.lG2({type:u,selectors:[["","icomLibsHasPermissionDirective",""]],inputs:{action:"action"},standalone:!0})}return u})()},9466:(L,b,a)=>{a.d(b,{G:()=>f});var m=a(5879);let f=(()=>{class e{constructor(d,c,l){this.componentFactoryResolver=d,this.appRef=c,this.injector=l}appendComponentToBody(d){const l=this.componentFactoryResolver.resolveComponentFactory(d).create(this.injector);return this.appRef.attachView(l.hostView),document.body.appendChild(l.hostView.rootNodes[0]),l}appendComponentToComponent(d,c){const l=this.componentFactoryResolver.resolveComponentFactory(c);return d.viewContainerRef.createComponent(l)}removeComponentFromBody(d){this.appRef.detachView(d.hostView),d.destroy()}removeComponentFromComponent(d,c){const l=d.viewContainerRef,h=l.indexOf(c.hostView);-1!==h&&l.detach(h),c.destroy()}static#e=this.\u0275fac=function(c){return new(c||e)(m.LFG(m._Vd),m.LFG(m.z2F),m.LFG(m.zs3))};static#t=this.\u0275prov=m.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})()},6961:(L,b,a)=>{a.r(b),a.d(b,{IComLibsSectionDetailComponent:()=>ie});var m=a(5861),f=a(9466),e=a(5879),u=a(6223),d=a(5545),c=a(4729),l=a(3997),h=a(708),y=a(7398),T=a(7921),P=a(6328),V=a(2181),R=a(2096),D=a(6814),k=a(2962),A=a(551),S=a(6254),x=a(2574),B=a(9704),O=a(9382),H=a(8083),M=a(2787),w=a(1221),E=a(3599),v=a(7652),G=a(8111),N=a(2840),z=a(6990),U=a(8125),Z=a(9717),I=a(3304),j=a(1993),Y=a(7786),J=a(7493),F=a(8581),Q=a(855),K=a(1958);function $(r,g){if(1&r&&(e.TgZ(0,"form",6)(1,"div",7)(2,"div",8),e._UZ(3,"formly-form",9),e.qZA()()()),2&r){const t=e.oxw(2);e.Q6J("formGroup",t.form),e.xp6(3),e.Q6J("model",t.model)("fields",t.fields)("form",t.form)("options",t.options)}}function X(r,g){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",11),e.NdJ("click",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.handlerCancel(o))}),e.TgZ(2,"span"),e._uU(3,"H\u1ee7y"),e.qZA()(),e.BQk()}2&r&&(e.xp6(1),e.Q6J("action","add"))}function W(r,g){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",12),e.NdJ("click",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.handlerSave(o))}),e.TgZ(2,"span"),e._uU(3,"L\u01b0u"),e.qZA()(),e.BQk()}if(2&r){const t=e.oxw(3);e.xp6(1),e.Q6J("action","edit")("nzLoading",t.isLoading)}}function q(r,g){1&r&&(e.TgZ(0,"nz-space"),e.YNc(1,X,4,1,"ng-container",10),e.YNc(2,W,4,2,"ng-container",10),e.qZA())}function ee(r,g){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",11),e.NdJ("click",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.handlerEdit(o))}),e.TgZ(2,"span"),e._uU(3,"S\u1eeda"),e.qZA()(),e.BQk()}2&r&&(e.xp6(1),e.Q6J("action","edit"))}function te(r,g){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",13),e.NdJ("click",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.handlerRemove(o))}),e.TgZ(2,"span"),e._uU(3,"X\xf3a"),e.qZA()(),e.BQk()}if(2&r){const t=e.oxw(3);e.xp6(1),e.Q6J("action","delete")("nzLoading",t.isLoading)("nzDanger",!0)}}function oe(r,g){1&r&&(e.TgZ(0,"nz-space"),e.YNc(1,ee,4,1,"ng-container",10),e.YNc(2,te,4,3,"ng-container",10),e.qZA())}function ne(r,g){if(1&r){const t=e.EpF();e.TgZ(0,"nz-page-header",1),e.NdJ("nzBack",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.handlerCancel())}),e.TgZ(1,"nz-page-header-title"),e._uU(2),e.qZA(),e.TgZ(3,"nz-page-header-content",2),e.YNc(4,$,4,5,"form",3),e.qZA(),e.TgZ(5,"nz-page-header-footer",4),e.YNc(6,q,3,0,"nz-space",5),e.YNc(7,oe,3,0,"nz-space",5),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(2),e.Oqu(t.data.name||"T\u1ea1o m\u1edbi"),e.xp6(2),e.Q6J("ngIf",t.shouldRender),e.xp6(2),e.Q6J("ngIf","edit"===t.mode||"add"===t.mode),e.xp6(1),e.Q6J("ngIf","only_view"!==t.mode&&"edit"!==t.mode&&"add"!==t.mode)}}let ie=(()=>{class r{startTimeValidator(t){const n=t.parent?.value?.start_time,o=t.parent?.value?.end_time;return n&&o&&I(o).isBefore(I(n).add(5,"minute"))?{startTimeInvalid5Minutes:!0}:null}constructor(){var t=this;this.form=new u.cw({}),this.options={},this.route=(0,e.f3M)(M.gz),this.cdr=(0,e.f3M)(e.sBO),this.modalService=(0,e.f3M)(w.Sf),this.router=(0,e.f3M)(M.F0),this.localStorage=(0,e.f3M)(J.n),this.iComLibsServicesProjectDynamicHomeService=(0,e.f3M)(c.KL),this.iComLibsServicesProductService=(0,e.f3M)(c.k),this.IComMessageService=(0,e.f3M)(Z.Q),this.icomLibsDynamicComponentService=(0,e.f3M)(f.G),this.initialDataLoaded=!1,this.isFirstChange=!0,this.destroyRef=(0,e.f3M)(e.ktI),this.fields=[],this.shouldRender=!0,this.mode="view",this.form.get("name")?.valueChanges.pipe((0,l.x)()).subscribe(()=>{this.form.get("name")?.updateValueAndValidity()}),this.route.queryParams.pipe((0,j.sL)(this.destroyRef)).subscribe(function(){var n=(0,m.Z)(function*(o){if(o){if(t.mode=o.mode,!o.id)return t.data={content_conf:{status:{value:[]}}},t.model=(0,z.cloneDeep)(t.data),t.setFields(),t.updateFieldReadonlyStatus(),void(t.options={formState:{disabled:!1,required:!1,mainModel:t.model}});const i=o?.id||"",s=yield(0,h.n)(t.iComLibsServicesProjectDynamicHomeService.detail(i));t.data=s?.data||{},v.KB.includes(t.data?.type||"aaa")&&(t.mode="only_view"),t.model=(0,z.cloneDeep)(t.data),t.setFields(),t.updateFieldReadonlyStatus(),t.initialDataLoaded=!0,t.options={formState:{disabled:!1,required:!1,mainModel:t.model}},t.cdr?.detectChanges()}});return function(o){return n.apply(this,arguments)}}())}firstLetterUppercaseValidator(t){return t.value&&!/^\s*[A-Z\xc1\xc0\u1ea2\xc3\u1ea0\u0102\u1eae\u1eb0\u1eb2\u1eb4\u1eb6\xc2\u1ea4\u1ea6\u1ea8\u1eaa\u1eac\xc9\xc8\u1eba\u1ebc\u1eb8\xca\u1ebe\u1ec0\u1ec2\u1ec4\u1ec6\xcd\xcc\u1ec8\u0128\u1eca\xd3\xd2\u1ece\xd5\u1ecc\xd4\u1ed0\u1ed2\u1ed4\u1ed6\u1ed8\u01a0\u1eda\u1edc\u1ede\u1ee0\u1ee2\xda\xd9\u1ee6\u0168\u1ee4\u01af\u1ee8\u1eea\u1eec\u1eee\u1ef0\xdd\u1ef2\u1ef6\u1ef8\u1ef4\u0110].*/.test(t.value)?{firstLetterUppercase:!0}:null}setFields(){const n=this.localStorage.getTokenData().working_site_id;console.log(n),this.fields=[{fieldGroupClassName:"flex flex-col",className:"basis-1/2",key:"",wrappers:["group"],props:{label:"Th\xf4ng tin chung"},expressions:{"props.disabled":"formState.disabled"},fieldGroup:[{key:"name",className:"basis-4/12",type:"input-custom",props:{label:"T\xean",required:!0,maxLength:30,placeholder:"Nh\u1eadp t\xean",readonly:!0},validators:{firstLetterUppercase:{expression:o=>null===this.firstLetterUppercaseValidator(o),message:(o,i)=>"T\xean ph\u1ea3i b\u1eaft \u0111\u1ea7u b\u1eb1ng m\u1ed9t ch\u1eef c\xe1i vi\u1ebft hoa."},validation:[{name:"noWhitespace",options:{errorPath:"value"}}]}},{key:"display_conf.start_time",type:"date",props:{label:"T\u1eeb",ShowTime:!0,required:!0,datepickerOptions:{nzFormat:"dd/MM/yyyy HH:mm"},readonly:!0,format:"dd-MM-yyyy HH:mm",placeholder:"DD-MM-YYYY hh:mm",change:(o,i)=>{o?.parent?.fieldGroup?.find(p=>"display_conf.end_time"===p.key)&&this.form.get("display_conf.end_time")?.updateValueAndValidity()}},validators:{validation:[this.startTimeValidator]}},{key:"display_conf.end_time",type:"date",props:{label:"\u0110\u1ebfn",required:!0,ShowTime:!0,format:"dd-MM-yyyy HH:mm",placeholder:"DD-MM-YYYY hh:mm",datepickerOptions:{nzFormat:"dd/MM/yyyy HH:mm"},readonly:!0,change:(o,i)=>{o?.parent?.fieldGroup?.find(p=>"display_conf.start_time"===p.key)&&this.form.get("display_conf.start_time")?.updateValueAndValidity()}},validators:{validation:[this.startTimeValidator]}},{key:"display_conf.months",type:"select-custom",defaultValue:[],props:{label:"Theo th\xe1ng",multiple:!0,viewValue:"value",readonly:!0,labelProp:"value",valueProp:"id",options:(0,v.JC)(),placeholder:"Ch\u1ecdn th\xe1ng"}},{key:"display_conf.days",type:"select-custom",defaultValue:[],props:{label:"Theo ng\xe0y",multiple:!0,viewValue:"value",readonly:!0,labelProp:"value",valueProp:"id",options:(0,v.Jj)(),placeholder:"Ch\u1ecdn ng\xe0y"}},{key:"display_conf.weekdays",type:"select-custom",defaultValue:[],props:{label:"Theo th\u1ee9",multiple:!0,readonly:!0,viewValue:"value",labelProp:"value",valueProp:"id",options:(0,v.l0)(),placeholder:"Ch\u1ecdn th\u1ee9"}},{key:"display_conf.hours",type:"select-custom",defaultValue:[],props:{label:"Theo gi\u1edd",multiple:!0,readonly:!0,viewValue:"value",labelProp:"value",valueProp:"id",options:(0,v.uv)(),placeholder:"Ch\u1ecdn gi\u1edd"}}]},{fieldGroupClassName:"flex flex-col mt-4",className:"basis-1/2 pl-4 mt-4",key:"",wrappers:["group"],expressions:{"props.disabled":"formState.disabled"},fieldGroup:[{key:"display_conf.membership_rank",type:"select-custom",defaultValue:[],props:{label:"H\u1ea1ng h\u1ed9i vi\xean",viewValue:"value",labelProp:"value",readonly:!0,valueProp:"id",multiple:!0,options:this.iComLibsServicesProjectDynamicHomeService.listMembersShip().pipe((0,y.U)(o=>o?.data))}},{key:"display_conf.city",type:"select-custom",defaultValue:[],props:{label:"T\u1ec9nh/ th\xe0nh ph\u1ed1",viewValue:"value",labelProp:"value",valueProp:"id",multiple:!0,readonly:!0,options:this.iComLibsServicesProjectDynamicHomeService.listCity().pipe((0,y.U)(o=>o?.data))}},{key:"status",type:"radio-custom",defaultValue:"ACTIVE",props:{label:"Tr\u1ea1ng th\xe1i",readonly:!0,viewValue:"value",labelProp:"value",valueProp:"id",options:[{value:"K\xedch ho\u1ea1t",id:"ACTIVE"},{value:"Ng\u1eebng k\xedch ho\u1ea1t",id:"INACTIVE"}]}},{key:"note",type:"textarea-custom",props:{label:"Ghi ch\xfa",rows:5,placeholder:"Nh\u1eadp n\u1ed9i dung",readonly:!0,maxLength:500}}]},{fieldGroupClassName:"flex-col",key:"",wrappers:["group"],props:{label:"N\u1ed9i dung hi\u1ec3n th\u1ecb"},expressions:{"props.disabled":"formState.disabled"},className:"w-full",fieldGroup:[{key:"type",type:"select-custom",className:"w-[500px]",props:{label:"\u0110\u1ed1i t\u01b0\u1ee3ng",viewValue:"value",required:!0,readonly:!0,labelProp:"value",placeholder:"Ch\u1ecdn \u0111\u1ed1i t\u01b0\u1ee3ng hi\u1ec3n th\u1ecb",valueProp:"id",options:this.iComLibsServicesProjectDynamicHomeService.listContentType("edit"===this.mode||"add"===this.mode?{screen_type:"SECTION_CREATE"}:{}).pipe((0,y.U)(o=>{const i=o.data.map(s=>({...s,placeholder:`T\xecm ki\u1ebfm ${s.value}`,...this.getApiServiceByIdType(s.id)}));return console.log(i),i}))},hooks:{onInit:o=>{const i=o?.form;o?.formControl?.valueChanges?.pipe((0,l.x)()).subscribe(s=>{i?.patchValue({layout:"",content_conf:{status:{name:"",value:[]}}},{emitEvent:!0})})}}},{key:"layout",type:"radio-custom",props:{viewValue:"value",labelProp:"value",valueProp:"id",readonly:!0,label:"D\u1ea1ng hi\u1ec3n th\u1ecb",options:[]},hooks:{onInit:o=>{const i=o?.parent?.parent?.form?.get("type");i&&(o.props.options=i.valueChanges.pipe((0,T.O)(i.value),(0,P.b)(s=>this.iComLibsServicesProjectDynamicHomeService.listLayoutByContentType({content_type:s||o?.parent?.parent?.form?.value?.type}).pipe((0,y.U)(C=>0===C?.data?.length?(o.className="hidden",void(o={...o})):(o.props.required=!0,o.className="basis-2/12 flex",C.data.map((_,ae)=>({..._,disabled:_.disable}))))))))}},hideExpression:o=>!o?.type||!o?.type||v.KB.includes(o.type)},{key:"content_conf.no_items",type:"nz-input-number",className:"basis-2/12 flex",defaultValue:F.N.defaultDisplay||5,props:{label:"S\u1ed1 l\u01b0\u1ee3ng hi\u1ec3n th\u1ecb",type:"number",required:!0,readonly:!0,min:1,max:10},hideExpression:(o,i,s)=>!o?.type||"MY_VOUCHERS"!==o?.type},{key:"content_conf",hideExpression:(o,i,s)=>!i?.mainModel?.type||v.KB.includes(i?.mainModel?.type)||"MY_VOUCHERS"===i?.mainModel?.type||"EP_TRACK_ELECTRICITY"===i?.mainModel?.type||"EP_ALERT_THRESHOLD"===i?.mainModel?.type,fieldGroupClassName:"flex-col",fieldGroup:[{key:"status.name",type:"radio-custom",props:{label:"Tr\u1ea1ng th\xe1i",options:[],readonly:!0,viewValue:"value",labelProp:"value",valueProp:"id"},hooks:{onInit:o=>{const i=o?.parent?.parent?.form?.get("type");i&&(o.props.options=i.valueChanges.pipe((0,T.O)(i.value),(0,V.h)(()=>!(this.isFirstChange&&!o.props.readonly&&(this.isFirstChange=!1,1))),(0,P.b)(s=>this.iComLibsServicesProjectDynamicHomeService.listStatusByContentType({content_type:s}).pipe((0,y.U)(p=>{if(p?.data?.length)return o.className="basis-2/12 flex",!1===this.initialDataLoaded&&o.formControl.setValue(p?.data[0].id),this.initialDataLoaded&&(this.initialDataLoaded=!1),p.data.map(C=>({...C}));o.className="hidden"})))))}}},{key:"no_items",type:"nz-input-number",className:"basis-2/12 flex",defaultValue:F.N.defaultDisplay||5,props:{label:"S\u1ed1 l\u01b0\u1ee3ng hi\u1ec3n th\u1ecb",type:"number",required:!0,readonly:!0,min:0,max:10},hideExpression:(o,i,s)=>(console.log(i?.mainModel?.content_conf?.status?.name),!i?.mainModel?.type||"BANNERS"===i?.mainModel?.type||"EP_BANNERS"===i?.mainModel?.type||"selection"===i?.mainModel?.content_conf?.status?.name)},{key:"hidden_name",type:"checkbox",defaultValue:!this.model?.content_conf?.hidden_name,props:{readonly:!0,disabled:!0,label:"Hi\u1ec3n th\u1ecb t\xean section"},hideExpression:(o,i,s)=>!i?.mainModel?.type||"BANNERS"!==i?.mainModel?.type&&"EP_BANNERS"!==i?.mainModel?.type},{key:"slider_speed",type:"nz-input-number",className:"basis-2/12 flex",defaultValue:3,props:{readonly:!0,label:"T\u1ed1c \u0111\u1ed9 tr\u01b0\u1ee3t trong slide (gi\xe2y)",type:"number",required:!0,min:2,max:5},hideExpression:(o,i,s)=>!i?.mainModel?.type||"BANNERS"!==i?.mainModel?.type&&"EP_BANNERS"!==i?.mainModel?.type},{key:"status.value",type:"dropdown-table",defaultValue:[],props:{columns:[{name:"STT",width:"10%",field:"index",type:"index"},{name:"T\xean",width:"30%",field:"value",type:"text"},{name:"H\xe0nh \u0111\u1ed9ng",width:"20%",field:"actions",type:"action"}],placeholder:"",readonly:!0,listOptionDropdown:null,changeItems:o=>{this.model?.content_conf?.status&&(this.model.content_conf.status.value=o||[])}},hideExpression:(o,i,s)=>!i?.mainModel?.type||"selection"!==i?.mainModel?.content_conf?.status?.name,hooks:{onInit:o=>{const i=o.parent?.parent?.fieldGroup?.find(s=>"type"===s.key);i?.formControl&&i.formControl?.valueChanges.pipe((0,T.O)(i?.formControl?.value)).subscribe(s=>{i?.props?.options?.subscribe(p=>{const C=p.find(_=>_.id===s);o.props&&(o.props.placeholder=C?.placeholder),console.log("vao"),o.props&&(o.props.listOptionDropdown=()=>C?.apiObs.pipe((0,y.U)(_=>_.data))),console.log(o),o={...o}})})}}}]}]}],"20984"===n&&(this.fields[1].fieldGroup=this.fields[1]?.fieldGroup?.filter(o=>"display_conf.membership_rank"!==o.key&&"display_conf.city"!==o.key),this.fields[1]?.fieldGroup?.unshift({key:"display_conf.area",type:"select-custom",defaultValue:[],props:{label:"Khu v\u1ef1c",viewValue:"value",labelProp:"value",valueProp:"id",multiple:!0,readonly:!0,options:this.iComLibsServicesProjectDynamicHomeService.listArea().pipe((0,y.U)(o=>o?.data))}})),this.fields=[...this.fields]}handlerCancel(t){t?.stopPropagation(),t?.preventDefault(),"view"!==this.mode&&"only_view"!==this.mode?this.modalService.confirm({nzTitle:this.model?.id?"B\u1ea1n c\xf3 h\u1ee7y b\u1ecf thao t\xe1c ?":"B\u1ea1n c\xf3 mu\u1ed1n h\u1ee7y th\xeam m\u1edbi menu \u0111\u1ed9ng kh\xf4ng?",nzOkText:"\u0110\u1ed3ng \xfd",nzOkType:"primary",nzMaskClosable:!1,nzClosable:!0,nzOnOk:()=>this.router.navigateByUrl("section/list"),nzCancelText:"\u0110\xf3ng"},"info"):this.router.navigateByUrl("section/list")}handlerRemove(t){t.stopPropagation(),this.modalService.confirm({nzTitle:`B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a ${this.data?.name} ?`,nzOkText:"\u0110\u1ed3ng \xfd",nzOkType:"primary",nzOkDanger:!0,nzMaskClosable:!1,nzClosable:!1,nzOnOk:this.processDeleteSection.bind(this,this.data),nzCancelText:"H\u1ee7y b\u1ecf"},"error")}processDeleteSection(t){return(0,h.n)(this.iComLibsServicesProjectDynamicHomeService.delete(t?.id||"")).then(()=>{this.IComMessageService.showAlertMessageDone("Thao t\xe1c th\xe0nh c\xf4ng."),this.router.navigateByUrl("section/list")}).catch(n=>{this.IComMessageService.showAlertMessageError(n?.error?.error_message||"Thao t\xe1c th\u1ea5t b\u1ea1i")})}validate(){return!(!this.model?.content_conf?.status?.value?.length&&"selection"===this.model?.content_conf?.status?.name&&(this.IComMessageService.showAlertMessageError("Tr\u1ea1ng th\xe1i l\xe0 T\xf9y ch\u1ecdn b\u1eaft bu\u1ed9c ph\u1ea3i th\xeam d\u1eef li\u1ec7u."),1))}trimFormFields(){const t=this.model;Object.keys(t).forEach(n=>{"string"==typeof t[n]&&(t[n]=t[n].trim())})}handlerSave(t){var n=this;return(0,m.Z)(function*(){if(t.stopPropagation(),t.preventDefault(),n.trimFormFields(),console.log(n.form),n.form.invalid)(0,G.c2)(n.form);else if(n.validate()){n.model&&n.model.content_conf&&void 0!==n.model.content_conf.hidden_name&&(n.model.content_conf.hidden_name=!n.model.content_conf.hidden_name);try{n.isLoading=!0,n.data?.id?yield(0,h.n)(n.iComLibsServicesProjectDynamicHomeService.edit(n.model)):yield(0,h.n)(n.iComLibsServicesProjectDynamicHomeService.create(n.model)),n.IComMessageService.showAlertMessageDone(n.data?.id?"S\u1eeda m\u1edbi menu \u0111\u1ed9ng th\xe0nh c\xf4ng.":"T\u1ea1o m\u1edbi menu \u0111\u1ed9ng th\xe0nh c\xf4ng."),n.router.navigateByUrl("section/list")}catch(o){console.log(o),n.IComMessageService.showAlertMessageError(o?.error?.error_message||n.data?.id?"S\u1eeda menu \u0111\u1ed9ng th\u1ea5t b\u1ea1i.":"T\u1ea1o m\u1edbi menu \u0111\u1ed9ng th\u1ea5t b\u1ea1i.")}finally{n.isLoading=!1,n.cdr.detectChanges()}}})()}forceRerender(){this.shouldRender=!1,this.cdr?.detectChanges(),setTimeout(()=>{this.shouldRender=!0,this.cdr?.detectChanges()})}handlerEdit(t){t.stopPropagation(),t.preventDefault(),this.mode="edit",this.isFirstChange=!0,this.model=(0,z.cloneDeep)(this.data),this.setFields(),this.updateFieldReadonlyStatus(),this.initialDataLoaded=!0,this.forceRerender(),this.options={formState:{disabled:!1,required:!1,mainModel:this.model}}}getApiServiceByIdType(t){switch(console.log(t),t){case"BRANDS":return{placeholder:"Th\xeam theo t\xean th\u01b0\u01a1ng hi\u1ec7u",apiObs:this.iComLibsServicesProductService.getBrands()};case"POINT_PARTNERS":return{placeholder:"Th\xeam theo \u0111\u1ed1i t\xe1c ho\xe0n \u0111i\u1ec3m",apiObs:this.iComLibsServicesProductService.getPointPartner()};case"CAMPAIGNS":return{placeholder:"Th\xeam theo t\xean campaign",apiObs:this.iComLibsServicesProductService.getCampaign()};case"PRODUCTS":return{placeholder:"Th\xeam theo m\xe3, t\xean s\u1ea3n ph\u1ea9m",apiObs:this.iComLibsServicesProductService.getSearchProduct()};case"BANNERS":return{placeholder:"Th\xeam theo t\xean banner",apiObs:this.iComLibsServicesProductService.getBanners()};case"EP_CAMPAIGNS":return{placeholder:"Th\xeam theo t\xean campaign",apiObs:this.iComLibsServicesProjectDynamicHomeService.getCampaign({limit:99999,offset:1})};case"EP_BANNERS":return{placeholder:"Th\xeam theo t\xean banner",apiObs:this.iComLibsServicesProjectDynamicHomeService.getBanners({limit:99999,offset:1})};case"EP_PRODUCTS":return{placeholder:"Th\xeam theo m\xe3, t\xean s\u1ea3n ph\u1ea9m",apiObs:this.iComLibsServicesProjectDynamicHomeService.getVouchers({limit:99999,offset:1})};default:return(0,R.of)()}}updateFieldReadonlyStatus(){let t=!0;("edit"===this.mode||"add"===this.mode)&&(t=!1),this.fields.forEach(n=>{this.setReadonlyForField(n,t)})}setReadonlyForField(t,n){t.fieldGroup?t.fieldGroup.forEach(o=>this.setReadonlyForField(o,n)):t.props&&(t.props.readonly=n,t.props.disabled=n)}static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-custom-form"]],inputs:{data:"data",mode:"mode"},standalone:!0,features:[e.jDz],decls:1,vars:1,consts:[["class","h-full w-full flex flex-col !absolute top-0 left-0 !py-4 !pl-4 !pr-0 !bg-[#f0f2f5]","nzBackIcon","",3,"nzBack",4,"ngIf"],["nzBackIcon","",1,"h-full","w-full","flex","flex-col","!absolute","top-0","left-0","!py-4","!pl-4","!pr-0","!bg-[#f0f2f5]",3,"nzBack"],[1,"w-full","h-full","flex","overflow-auto","!py-0","!pl-0","!pr-4","flex-col"],["nz-form","",3,"formGroup",4,"ngIf"],[1,"flex","justify-end","mb-4","mr-8"],[4,"ngIf"],["nz-form","",3,"formGroup"],[1,"flex","flex-col"],[1,"w-full","items-center","test"],[3,"model","fields","form","options"],[4,"nzSpaceItem"],["icomLibsHasPermissionDirective","","nz-button","","nzType","default",3,"action","click"],["icomLibsHasPermissionDirective","","nz-button","","nzType","primary",3,"action","nzLoading","click"],["icomLibsHasPermissionDirective","","nz-button","","nzType","primary",3,"action","nzLoading","nzDanger","click"]],template:function(n,o){1&n&&e.YNc(0,ne,8,4,"nz-page-header",0),2&n&&e.Q6J("ngIf",o.data)},dependencies:[d.X0,d.T7,u.UX,u._Y,u.JL,u.sg,D.ez,D.O5,H.ZJ,S.KJ,S.$O,S.u9,S.u5,S.$,x.zf,x.NU,x.$1,O.we,A.PV,k.vh,B.N6,E.U5,E.Lr,N.sL,N.ix,Q.w,K.dQ,U.q6,Y.E],styles:[".test[_ngcontent-%COMP%]     formly-group{display:flex;flex-wrap:wrap}"],changeDetection:0})}return r})()}}]);