{"version":3,"file":"main.js","mappings":"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","names":["AppComponent","constructor","this","title","static","t","core","Xpm","selectors","decls","vars","consts","template","rf","ctx","i0","appRoutes","path","canActivate","AuthGuardService","loadChildren","Promise","all","__webpack_require__","e","then","bind","m","IcomLibsComponentsLayoutModule","ResolveLoginSuccessGuardService","loadComponent","IcomLibsComponentsLoginComponent","AppRoutingModule","oAB","cJS","RouterModule","forRoot","initialNavigation","paramsInheritanceStrategy","IconRegisterService","iconService","http","loadIcons","iconNames","iconFolderPath","forEach","iconName","get","responseType","subscribe","svg","addIconLiteral","i1","i2","Yz7","factory","ɵfac","providedIn","ctx_r0","to","required","label","$event","_r5","ctx_r4","props","OnOpenChange","field","ctx_r6","OnOk","ctx_r7","onDateChange","ctx_r1","formControl","Mode","nzAllowClear","AutoFocus","Backdrop","Disabled","disabled","DisabledDate","PopupStyle","DropdownClassName","Size","format","InputReadOnly","PlaceHolder","placeholder","Borderless","SuffixIcon","Inline","DisabledTime","ShowTime","ShowToday","ShowNow","ctx_r3","value","IcomLibsCoreComponentsFormlyDatepicker","FieldType","ngOnInit","initialValue","model","key","showErr","invalid","touched","event","validateChange","setValue","emitTimeLocal","change","localDate","Date","getTime","getTimezoneOffset","onlyDay","setHours","formattedDate","toISOString","slice","replace","standalone","features","provide","DefaultValueAccessor","useExisting","NG_VALUE_ACCESSOR","multi","FormControlDirective","IcomLibsCoreComponentsFormlyDatepicker_nz_form_label_1_Template","IcomLibsCoreComponentsFormlyDatepicker_ng_container_3_Template","IcomLibsCoreComponentsFormlyDatepicker_ng_template_4_Template","className","readonly","_r2","_c0","NzDatePickerModule","ReactiveFormsModule","FormlyNgZorroAntdModule","NzFormModule","i3","i4","NgIf","FormlyModule","i5","NgClass","DatePipe","encapsulation","IcomLibsCoreComponentsFormlyRangepicker","console","log","IcomLibsCoreComponentsFormlyRangepicker_nz_form_label_1_Template","nzSize","nzShowTime","changeDetection","IcomLibsCoreComponentsFormlyQuillComponent","forwardRef","QuillEditorComponent","IcomLibsCoreComponentsFormlyQuillComponent_nz_form_label_1_Template","_c1","QuillModule","loading","width","height","ctx_r2","avatarUrl","IcomLibsCoreComponentsFormlyUploadComponent","fileList","campaignService","inject","IComLibsServicesProjectCampaignV3Service","msg","NzMessageService","cdr","ChangeDetectorRef","beforeUpload","file","Observable","observer","isJPG","type","error","complete","isLt2M","size","formatSize","checkImageDimension","dimensionRes","next","defaultValue","handleUploadChange","_this","_asyncToGenerator","formData","FormData","append","originFileObj","result","lastValueFrom","uploadImage","data","getBase64","img","detectChanges","callback","reader","FileReader","addEventListener","toString","readAsDataURL","handleChange","info","status","resolve","Image","src","window","URL","createObjectURL","onload","naturalWidth","naturalHeight","revokeObjectURL","sizeInBytes","toFixed","IcomLibsCoreComponentsFormlyUploadComponent_nz_form_label_1_Template","IcomLibsCoreComponentsFormlyUploadComponent_ng_container_4_Template","IcomLibsCoreComponentsFormlyUploadComponent_img_5_Template","accept","nzDisabled","NzUploadModule","NzButtonModule","NzIconModule","i6","i7","_r1","IcomLibsCoreComponentsFormlyPanelWrapperComponent_ng_template_2_span_0_Template","IcomLibsCoreComponentsFormlyPanelWrapperComponent","FieldWrapper","IcomLibsCoreComponentsFormlyPanelWrapperComponent_nz_card_1_Template","IcomLibsCoreComponentsFormlyPanelWrapperComponent_ng_template_2_Template","NzSpaceModule","NzCardModule","styles","EmailValidator","control","match","email","PhoneNumberValidator","phoneNumber","MaxValidatorMessageValidator","maxValidatorMessage","NumberIntMessageValidator","MaxUploadFileSizerValidator","TypeUploadFileSizerValidator","includes","matchingPasswordsValidator","newPassword","confirmPassword","setErrors","errors","fieldMatch","Object","keys","length","emailValidationMessage","phoneNumberValidationMessage","maxError","max","minValidatorMessage","minError","min","maxUploadFileSize","maxSize","noWhitespaceMessage","uniqueSelection","name","TypeUploadFileSizerMessage","NumberIntMessage","fieldMatchValidator","message","noWhitespaceValidator","trim","tmp_0_0","item_r7","valueProp","tmp_2_0","labelProp","FormlyFieldSelect_div_0_ng_template_3_div_0_Template","ctx_r5","isLoading","_r10","ctx_r9","handleAddNew","_r12","ctx_r11","handleKeydown","ctx_r13","loadMore","ctx_r14","onSearch","ctx_r15","FormlyFieldSelect_div_0_ng_container_2_Template","FormlyFieldSelect_div_0_ng_template_3_Template","FormlyFieldSelect_div_0_button_5_Template","classInclude","showError","nzServerSearch","maxMultiSelectItems","ignoreRemoveIcon","multiple","_r4","resolvedOptions","functionAddNew","ctx_r16","getSelectedLabel","FormlyFieldSelect_ng_template_1_span_0_Template","FormlyFieldSelect","pagination","limit","page","searchChange$","Subject","nzSelectComponent","nzOpen","preventDefault","pipe","debounceTime","distinctUntilChanged","switchMap","term","map","option","keySearch","searchData","items","isObservable","options","subscription","emitList","functionCheckExist","searchText","listOptionDropdown","ngOnDestroy","unsubscribe","Array","isArray","val","getLabelForValue","filter","join","selectedOption","find","id","_id","total_pages","search","viewQuery","NzSelectComponent","FormlyFieldSelect_div_0_Template","FormlyFieldSelect_ng_template_1_Template","CommonModule","NzSelectModule","FormlyNzFormFieldModule","FormlySelectModule","FormsModule","NzInputModule","NzSpinModule","field_r1","GridWrapperComponent","GridWrapperComponent_div_1_Template","fieldGroup","NgFor","_r6","add","undefined","markAsDirty","addText","i_r8","index","ctx_r10","remove","ArrayTypeComponent_div_6_div_2_Template","field_r7","removable","hide","ArrayTypeComponent","FieldArrayType","setValidators","Validators","updateValueAndValidity","ArrayTypeComponent_nz_form_label_1_Template","ArrayTypeComponent_nz_form_label_2_Template","ArrayTypeComponent_button_4_Template","ArrayTypeComponent_div_5_Template","ArrayTypeComponent_div_6_Template","formState","MultiCheckboxTypeComponent","disabled2","checked","value2","NzCheckboxModule","handlerClick","ctx_r8","handlerCheck","CollapseWrapperComponent_nz_collapse_0_ng_template_2_Template","CollapseWrapperComponent_nz_collapse_0_div_4_Template","hasContent","CollapseWrapperComponent","stopPropagation","some","changeChecked","setTimeout","markAsTouched","setChecked","CollapseWrapperComponent_nz_collapse_0_Template","NzCollapseModule","FormlyFieldColorPickerComponent","preventInput","addonText","FormlyFieldNzInputNumber","test","FormlyFieldNzInputNumber_nz_form_label_1_Template","FormlyFieldNzInputNumber_nz_input_number_4_Template","FormlyFieldNzInputNumber_span_5_Template","FormlyFieldNzInputNumber_ng_template_6_Template","_r3","NzInputNumberModule","DecimalPipe","IcomLibsCoreComponentFormlyFieldSearchInput","IcomLibsCoreComponentFormlyFieldSearchInput_nz_form_label_1_Template","FormlyWrapperNzSelectTagsComponent","onChange","values","PaginationService","pageSize","currentPage","totalPages","calculateTotalPages","getCurrentPageItems","startIndex","getPageSize","setPageSize","getTotalPages","setItems","splice","push","resetItems","getItems","addItem","item","unshift","removeItem","findIndex","existingItem","product_id","recalculatePagination","itemExists","findPageIndex","Math","floor","setCurrentPage","getCurrentPage","ceil","_r8","inputControl","numberFormatter","numberParser","TableInputComponent_ng_container_0_div_4_small_1_Template","TableInputComponent_ng_container_0_div_4_small_2_Template","TableInputComponent_ng_container_0_div_4_small_3_Template","TableInputComponent_ng_container_0_ng_container_1_Template","TableInputComponent_ng_container_0_ng_template_2_Template","TableInputComponent_ng_container_0_div_4_Template","dirty","TableInputComponent","valueChange","EventEmitter","validators","FormControl","parseNumber","valueChanges","numericValue","emit","functionCheckReadonly","dataRow","save","valid","parseInt","inputs","outputs","TableInputComponent_ng_container_0_Template","TableInputComponent_ng_template_1_Template","item_r4","TableSelectMultiComponent_ng_container_0_nz_option_2_Template","selectControl","item_r6","TableSelectMultiComponent_ng_template_1_li_1_Template","selectedOptions","TableSelectMultiComponent","ngOnChanges","TableSelectMultiComponent_ng_container_0_Template","TableSelectMultiComponent_ng_template_1_Template","ImportModalContentComponent","onSave","IComMessageService","IComMessageFlashSaleService","IComLibsServicesProjectFlashSaleService","nzModalData","NZ_MODAL_DATA","handlerDownloadFile","uploadFile","environment","apiGatewayUrl","suffixCampaignV3","handleImport","uploadVoucher","res","err","showAlertMessageError","error_message","NzAlertModule","ShowTooltipOnOverflowDirective","el","renderer","onMouseEnter","nativeElement","offsetWidth","scrollWidth","setAttribute","removeAttribute","lG2","hostBindings","FormatValuePipe","transform","args","Intl","NumberFormat","Yjl","pure","DropdownTableTypeComponent_nz_select_1_ng_template_1_div_0_Template","_r16","onImageError","option_r14","medias","url","quantity_available_by_gen_code_type","DropdownTableTypeComponent_nz_select_1_ng_container_3_nz_option_1_Template","optionList","option_r19","DropdownTableTypeComponent_nz_select_1_ng_container_4_nz_option_1_Template","_r21","ctx_r20","selectedValue","ctx_r22","handlerSelectChange","ctx_r23","ctx_r24","ctx_r25","onSelectOpenChange","DropdownTableTypeComponent_nz_select_1_ng_template_1_Template","DropdownTableTypeComponent_nz_select_1_ng_container_3_Template","DropdownTableTypeComponent_nz_select_1_ng_container_4_Template","nzOptionHeightPx","_c2","customOption","_r27","ctx_r26","openImportModal","col_r28","hiddenWhenReadonly","ctx_r42","paginationService","i_r30","DropdownTableTypeComponent_tr_10_ng_container_2_ng_container_3_i_1_Template","DropdownTableTypeComponent_tr_10_ng_container_2_ng_container_3_span_2_Template","ctx_r34","ctx_r35","data_r29","col_r33","DropdownTableTypeComponent_tr_10_ng_container_2_div_5_ng_template_2_span_0_Template","DropdownTableTypeComponent_tr_10_ng_container_2_div_5_ng_template_2_span_1_Template","DropdownTableTypeComponent_tr_10_ng_container_2_div_5_ng_template_2_span_2_Template","ctx_r47","isNumber","ignoreParseNumber","isString","DropdownTableTypeComponent_tr_10_ng_container_2_div_5_ng_container_1_Template","DropdownTableTypeComponent_tr_10_ng_container_2_div_5_ng_template_2_Template","_r46","DropdownTableTypeComponent_tr_10_ng_container_2_div_6_a_1_ng_template_2_span_0_Template","DropdownTableTypeComponent_tr_10_ng_container_2_div_6_a_1_ng_template_2_span_1_Template","ctx_r64","_r75","$implicit","clickAction","DropdownTableTypeComponent_tr_10_ng_container_2_div_6_a_1_ng_container_1_Template","DropdownTableTypeComponent_tr_10_ng_container_2_div_6_a_1_ng_template_2_Template","_r63","DropdownTableTypeComponent_tr_10_ng_container_2_div_6_a_1_Template","_r83","ctx_r81","handlerChange","inputType","ctx_r38","_r89","ctx_r87","ctx_r39","_r96","ctx_r94","DropdownTableTypeComponent_tr_10_ng_container_2_ng_container_9_button_1_Template","ctx_r40","DropdownTableTypeComponent_tr_10_ng_container_2_ng_container_3_Template","DropdownTableTypeComponent_tr_10_ng_container_2_ng_container_4_Template","DropdownTableTypeComponent_tr_10_ng_container_2_div_5_Template","DropdownTableTypeComponent_tr_10_ng_container_2_div_6_Template","DropdownTableTypeComponent_tr_10_ng_container_2_ng_container_7_Template","DropdownTableTypeComponent_tr_10_ng_container_2_ng_container_8_Template","DropdownTableTypeComponent_tr_10_ng_container_2_ng_container_9_Template","ctx_r32","DropdownTableTypeComponent_tr_10_ng_container_2_Template","columns","_r98","ctx_r97","ctx_r99","onPageSizeChange","_c3","DropdownTableTypeComponent","super","pagedItems","fallback","modalService","NzModalService","isFirst","icomFunctionControl","reset","updatePageItems","callBackThis","keyGetValue","fieldChanges","changeItems","listDataMapping","dataMapping","product_name","mergeApiDataToSelectedItem","patchValue","handleApiData","updateTable","exists","functionCheckCondition","pageIndex","highlightRow","apiResponse","apiData","dataMap","assign","open","target","confirm","nzTitle","nzOkText","nzOkType","nzMaskClosable","nzClosable","nzOnOk","nzCancelText","drop","prevIndex","previousIndex","newIndex","currentIndex","moveItemInArray","removeHighLight","tableRows","row","classList","rowElement","scrollIntoView","behavior","block","handlerSave","temp","templates","specificValidate","resultSpecificValidate","modalRef","create","nzContent","nzOkLoading","nzData","objectUpload","instance","getContentComponent","take","count","showAlertMessageDone","updateConfig","DropdownTableTypeComponent_nz_select_1_Template","DropdownTableTypeComponent_div_2_Template","DropdownTableTypeComponent_ng_container_8_Template","DropdownTableTypeComponent_tr_10_Template","DropdownTableTypeComponent_nz_pagination_11_Template","DropdownTableTypeComponent_ng_template_12_Template","import","NzTableModule","NgForOf","NzPaginationModule","i8","DragDropModule","i9","NgSwitchCase","NgSwitch","NzImageModule","i10","i11","NzToolTipModule","i12","handleInput","maxLength","FormlyFieldCustomInputComponent","parseFloat","Number","isNaN","FormlyFieldCustomInputComponent_ng_container_1_Template","FormlyFieldCustomInputComponent_ng_template_2_Template","option_r4","FormlyFieldRadio_ng_container_0_label_2_Template","FormlyFieldRadio_ng_template_1_span_0_Template","FormlyFieldRadio","checkAndSetCheckedOption","checkedOption","form","FormlyFieldRadio_ng_container_0_Template","FormlyFieldRadio_ng_template_1_Template","NzRadioModule","rows","FormlyFieldTextareaCustom","FormlyFieldTextareaCustom_ng_container_0_Template","FormlyFieldTextareaCustom_ng_template_1_Template","show","PasswordToggleWrapperComponent","toggleVisibility","PasswordToggleWrapperComponent_nz_form_label_1_Template","PasswordToggleWrapperComponent_ng_template_5_Template","FormlyFieldDrawerLinkComponent","visible","openDrawer","closeDrawer","FormlyFieldDrawerLinkComponent_div_3_Template","NzDrawerModule","antDesignIcons","ArrowLeftOutline","LogoutOutline","UserOutline","EditFill","AppModule","iconRegister","bootstrap","HTTP_INTERCEPTORS","useClass","HeaderInterceptor","ErrorHandlerInterceptor","NZ_I18N","useValue","en_US","NZ_ICONS","imports","BrowserModule","HttpClientModule","BrowserAnimationsModule","NgxsModule","ServiceWorkerModule","register","enabled","production","types","component","wrappers","validation","validationMessages","extras","resetFieldOnHide","enableProdMode","appConfig","providers","importProvidersFrom","developmentMode","__NgCli_bootstrap_1","bootstrapModule","catch","DefineKey","KEY_MENU","FUNCTIONS","PERMISSIONS","formatDatePipe","time","dayjs","defaultValuePipe","convertKeysToLowerCase","lowercaseData","prototype","hasOwnProperty","call","toLowerCase","parseDateRangeToTwoKey","keysParse","split","keyStart","keyEnd","date_range","dataRange","start","end","String","obj","w","g","parseDateRangeDayMonthYearToTwoKey","mergeObjects","obj1","obj2","markFormGroupTouched","formGroup","controls","FormGroup","FormArray","c","request","file_name","keepFileName","ignoreParseTime","xhr","XMLHttpRequest","token","localStorage","getItem","setRequestHeader","blob","Blob","response","downloadUrl","a","document","createElement","contentDisposition","getResponseHeader","dateString","currentDate","getDate","getMonth","getFullYear","filename","matches","exec","href","download","body","appendChild","click","removeChild","onerror","send","JSON","stringify","module","apiGetFileStatic","merchantUrl","suffixCampaign","suffixOrder","suffixDynamicHome","suffixProduct","suffixAdmin","suffixIam","router","route","state","navigate","of","role","jwt_decode","localStorageService","intercept","headers","has","delete","clone","set","handle","tap","finalize","authService","iComMessageService","catchError","errorHandler","errorResponse","HttpErrorResponse","logout","AccessGuard","LocalStorageService","modules","canActivateChild","checkAccess","baseurl","sub_modules","group","actions","action","code","selected","findAccessiblePath","ModuleEpointGuard","setItem","parse","getTokenData","clear","clearAllLocalStorage","_angular_core__WEBPACK_IMPORTED_MODULE_1__","PermissionService","notificationService","functions","location","pathname","showNotification","permission","reduce","acc","getPermission","_angular_core__WEBPACK_IMPORTED_MODULE_2__","ApiService","pathArray","delay","handleSpacebar","keyCode","printPathAndMethod","method","pushPathWithDelay","queryParams","params","setParameter","customHeaders","put","payload","post","patch","HttpHeaders","routerParams","HttpParams","getPathArray","nzModalService","toastService","modalCtrl","destroyRef","DestroyRef","events","NavigationEnd","takeUntilDestroyed","i","len","destroy","showModalByStatus","nzOnCancel","success","warning","afterClose","_angular_core__WEBPACK_IMPORTED_MODULE_0__","IComLibsServicesProjectDynamicHomeService","apiService","edit","detail","list","sortField","order","new_order","listContentType","listLayoutByContentType","listStatusByContentType","listMembersShip","listCity","voucherList","listGroup","deleteGroup","addGroup","editGroup","transactionList","downloadFileVoucher","changeStatusActive","changeStatusInactive","IcomLibsProjectLoginService","login","loginMerchant","Authorization","getRefreshToken","refreshToken","refresh_token","_angular_core__WEBPACK_IMPORTED_MODULE_5__","IComLibsServicesProductService","mode","q","offset","createProduct","updateProduct","deleteProduct","getProduct","productId","addLanguageProduct","updateLanguageProduct","deleteProductLanguage","getProductLanguage","addMediaProduct","updateMediaProduct","uploadMediaProduct","deleteProductMedia","getProductMedia","createProductPrice","updateProductPrice","getProductPrice","searchProduct","getItemsBelongToInventoryProduct","idInventory","idProduct","createProductDiscount","updateProductDiscount","getProductDiscount","maximum_discount_amount","minimum_order_value","valid_from","valid_until","createProductProperties","updateProductProperties","getProductProperties","expiry_date","expiry_param","expiry_policy","voucher_type","createProductConfig","updateProductConfig","getProductConfig","getOptionType","getBrand","orgId","getStore","isMerchantService","getOrg","getBrandByOrg","getStoreByBrand","brandId","getCategoryForSelect","getCatalogForSelect","getGroupForSelect","getInventoryProducts","getProductInventories","getProductFromCampaigns","getBrands","getPointPartner","getCampaign","getSearchProduct","getBanners","IComLibsServicesInventoryService","listInventory","listInventoryFlashSale","createInventory","updateInventory","getInventory","searchInventory","searchProductInventory","deleteInventory","getListProductOfInventory","inventoryId","getListProductFlashSaleOfInventory","getListProductsInventories","inventory_id","createTicket","listTicket","detailTicket","deleteTicket","updateTicket","getQuantityProduct","getStatus","IComLibsServicesProjectCampaignStatisticService","getSumRewardPointByCampaign","getCountCustomerByCampaign","getListMissionByByCampaign","getTotalRewardPointGroup","getListApiStatisticByPathCampaign","apiPath","downloadFileTransactionDetail","IComLibsServicesProjectCampaignService","listTransaction","createCampaign","updateCampaign","CampaignId","general","membership_info","getCampaignTransaction","TransactionId","addLanguageCampaign","updateLanguageCampaign","addMediaCampaign","updateMediaCampaign","createCampaignPrice","updateCampaignPrice","getCampaignPrice","searchCampaign","createCampaignDiscount","updateCampaignDiscount","getCampaignDiscount","createCampaignConfig","updateCampaignConfig","getCampaignConfig","getTransactionTags","getPool","getSubPoolByIdPool","poolId","pool_id","getMessageTemplate","deleteInformation","dataDelete","detailTransaction","transaction_id","retryTransaction","gid","getCountCampaignStatus","batchRewarPreview","batchRewardSubmit","IComLibsServicesProjectOrderService","forceStopTransaction","orderId","getStatusTransactionOrder","getStatusTransactionTypes","updateTransaction","getPaymentMethod","addEditCampaign","getTypeMissions","getActionMission","getContributor","getSubPool","getRewardLevel","getRewardForm","getTypeReward","getListStatus","getListTimeStart","getListTimeEnd","getListOrderAction","getListOrderActionBy","getListActionType","getListActionParam","action_type_code","IComLibsServicesProjectFlashSaleStatisticService","getCountGroupBrand","getVoucher","getViewCategorySuccess","IComLibsServicesProjectAdminUserService","getDetailHistory","getUserHistoryList","getActivityFeatures","getActivityActions","IComLibsServicesProjectIamRoleService","listAccount","listDefaultRole","deleteRow","IcomLibsProjectIamAccountService"],"sourceRoot":"webpack:///","sources":["./apps/shell/src/app/app.component.ts","./apps/shell/src/app/app.component.html","./apps/shell/src/app/app.routing.module.ts","./libs/core/services/common/icon-load.service.ts","./libs/core/components/formly/datepicker.component.ts","./libs/core/components/formly/range-picker/range-picker.component.html","./libs/core/components/formly/range-picker/range-picker.component.ts","./libs/core/components/formly/quill.component.ts","./libs/core/components/formly/upload.component.ts","./libs/core/components/formly/group-wrapper.component.ts","./libs/core/components/formly/validator.define.ts","./libs/core/components/formly/select.component.ts","./libs/core/components/formly/grid-wrapper.component.ts","./libs/core/components/formly/array.type.ts","./libs/core/components/formly/checkbox-group.type.ts","./libs/core/components/formly/collapse-expand.type.ts","./libs/core/components/formly/color.type.ts","./libs/core/components/formly/input-number.type.ts","./libs/core/components/formly/input/input.component.html","./libs/core/components/formly/input/input.component.ts","./libs/core/components/formly/tags.type.ts","./libs/core/components/formly/dropdown-table/service/pagination.service.ts","./libs/core/components/formly/dropdown-table/templates/input.component.ts","./libs/core/components/formly/dropdown-table/templates/select.component.ts","./libs/core/components/formly/dropdown-table/templates/modal.component.ts","./libs/core/components/formly/dropdown-table/directive/tooltip.directive.ts","./libs/core/components/formly/dropdown-table/pipes/format-value.pipe.ts","./libs/core/components/formly/dropdown-table/dropdown-table.component.html","./libs/core/components/formly/dropdown-table/dropdown-table.component.ts","./libs/core/components/formly/input.type.ts","./libs/core/components/formly/radio.type.ts","./libs/core/components/formly/textarea.type.ts","./libs/core/components/formly/password.type.ts","./libs/core/components/formly/text-link-drawer.type.ts","./apps/shell/src/app/app.module.ts","./apps/shell/src/main.ts","./libs/core/defines/key.define.ts","./libs/core/defines/static.define.ts","./libs/core/environments/epoint/environment.ts","./libs/core/services/authenticate/auth-guard.service.ts","./libs/core/services/authenticate/resolve-login-success-guard.service.ts","./libs/core/services/authenticate/header.interceptor.ts","./libs/core/services/authenticate/error.interceptor.ts","./libs/core/services/authenticate/router-guard.service.ts","./libs/core/services/authenticate/epoint-guard.service.ts","./libs/core/services/authenticate/local-storage.service.ts","./libs/core/services/authenticate/permission.service.ts","./libs/core/services/common/http.service.ts","./libs/core/services/common/modal.service.ts","./libs/core/services/projects/dynamic-home/dynamic-home.service.ts","./libs/core/services/projects/flash-sale/flash-sale.service.ts","./libs/core/services/projects/iam/login.service.ts","./libs/core/services/projects/product/product.service.ts","./libs/core/services/projects/inventory/inventory.service.ts","./libs/core/services/projects/campaign/statistic.service.ts","./libs/core/services/projects/campaign/campaign.service.ts","./libs/core/services/projects/order/order.service.ts","./libs/core/services/projects/campaign/campaign_v3.service.ts","./libs/core/services/projects/flash-sale/statistic.service.ts","./libs/core/services/projects/admin/user.service.ts","./libs/core/services/projects/iam/role.service.ts","./libs/core/services/projects/iam/account.service.ts"],"sourcesContent":["import { Component } from '@angular/core';\n@Component({\n  selector: 'icom-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss'],\n})\nexport class AppComponent {\n  title = 'icom';\n}\n","<div class=\"w-full h-full min-w-[1366px]\">\n  <router-outlet></router-outlet>\n</div>\n ","import { NgModule, importProvidersFrom } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { AuthGuardService, ResolveLoginSuccessGuardService } from '@icom/services/authenticate'\nimport { NgxsModule } from '@ngxs/store';\nexport const appRoutes: Routes = [\n\t{\n\t\tpath: '',\n\t\tcanActivate: [AuthGuardService],\n\t\tloadChildren: () => import('@icom/layout').then(m => m.IcomLibsComponentsLayoutModule),\n\t},\n  \t{\n\t\tpath: 'login',\n\t\tcanActivate: [ResolveLoginSuccessGuardService],\n\t\tloadComponent: () => import('@icom/login').then(m => m.IcomLibsComponentsLoginComponent),\n\t},\n\t\n];\n@NgModule({\n\timports: [\n\t\tRouterModule.forRoot(appRoutes, {\n\t\t\tinitialNavigation: 'enabledBlocking',\n\t\t\tparamsInheritanceStrategy: 'always',\n\t\t}),\n\t],\n\texports: [RouterModule],\n})\nexport class AppRoutingModule { }\n","import { Injectable, Inject } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { NzIconService } from 'ng-zorro-antd/icon';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class IconRegisterService {\n  constructor(\n    private iconService: NzIconService,\n    private http: HttpClient\n  ) {}\n\n  loadIcons(iconNames: string[], iconFolderPath: string): void {\n    // this.iconService.changeAssetsSource('assets/icons');\n    iconNames.forEach((iconName) => {\n      this.http.get(`${iconFolderPath}/${iconName}.svg`, { responseType: 'text' }).subscribe(svg => {\n        this.iconService.addIconLiteral(iconName, svg);\n      });\n    });\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { NzDatePickerModule } from 'ng-zorro-antd/date-picker';\nimport { FieldType, FormlyFieldConfig, FormlyModule } from '@ngx-formly/core';\nimport { DefaultValueAccessor, NG_VALUE_ACCESSOR, FormControlDirective, ReactiveFormsModule } from '@angular/forms';\nimport { FormlyNgZorroAntdModule } from '@ngx-formly/ng-zorro-antd';\nimport { NzFormModule } from 'ng-zorro-antd/form';\nimport { DatePipe, NgClass, NgIf } from '@angular/common';\nimport { NzUploadModule } from 'ng-zorro-antd/upload';\n\n@Component({\n  selector: 'icom-libs-core-components-formly-datepicker',\n  template: `\n    <nz-form-item class=\"ant-form-item ant-row {{ to.className }}\">\n      <nz-form-label *ngIf=\"to.label\" [nzRequired]=\"to.required\">{{ to.label }}</nz-form-label>\n      <nz-form-control class=\"ant-form-item-control\">\n      <ng-container *ngIf=\"!to.readonly; else readonlyTemplate\">\n      <nz-date-picker \n        [formControl]=\"$any(formControl)\"\n        [nzMode]=\"props.Mode\"\n        [nzAllowClear]=\"(props.nzAllowClear === false)  ?  false :  true\"\n        [nzAutoFocus]=\"props.AutoFocus\"\n        [nzBackdrop]=\"props.Backdrop\"\n        [nzDisabled]=\"props.Disabled || props.disabled || formControl.disabled\"\n        [nzDisabledDate]=\"props.DisabledDate\"\n        [nzPopupStyle]=\"props.PopupStyle\"\n        [nzDropdownClassName]=\"props.DropdownClassName\"\n        [nzSize]=\"props.Size\"\n        [nzFormat]=\"props.format\"\n        [nzInputReadOnly]=\"props.InputReadOnly\"\n        [nzPlaceHolder]=\"props.PlaceHolder || props.placeholder\"\n        [nzBorderless]=\"props.Borderless\"\n        [nzSuffixIcon]=\"props.SuffixIcon\"\n        [nzInline]=\"props.Inline\"\n        (nzOnOpenChange)=\"props.OnOpenChange?.($event, field)\"\n        [nzDisabledTime]=\"props.DisabledTime\"\n        [nzShowTime]=\"props.ShowTime\"\n        [nzShowToday]=\"props.ShowToday\"\n        [nzShowNow]=\"props.ShowNow\"\n        (nzOnOk)=\" props.OnOk?.($event, field)\"\n        (ngModelChange)=\"onDateChange($event)\"\n        ngDefaultControl>\n      </nz-date-picker>\n      </ng-container>\n      <ng-template #readonlyTemplate>\n          <span>{{ formControl.value | date: to.format }}</span>\n        </ng-template>\n\n      <div class=\"ant-form-item-explain\" [ngClass]=\"{'ant-form-item-explain-connected' : !showErr(field)}\">\n          <div class=\"ant-form-item-explain-error\">\n            <formly-validation-message [field]=\"field\"></formly-validation-message>\n          </div>\n        </div>\n      </nz-form-control>\n      \n    </nz-form-item>\n\n  `,\n  standalone: true,\n  imports: [\n    NzDatePickerModule,\n    ReactiveFormsModule,\n    FormlyNgZorroAntdModule,\n    NzFormModule,\n    NgIf,\n    FormlyNgZorroAntdModule,\n    FormlyModule,\n    NgIf,\n    NzFormModule,\n    NgClass,\n    DatePipe\n  ],\n  providers: [\n    { provide: DefaultValueAccessor, useExisting: IcomLibsCoreComponentsFormlyDatepicker },\n    { provide: NG_VALUE_ACCESSOR, useExisting: IcomLibsCoreComponentsFormlyDatepicker, multi: true },\n    FormControlDirective\n  ],\n})\nexport class IcomLibsCoreComponentsFormlyDatepicker extends FieldType implements OnInit {\n  initialValue: any; // Biến lưu trữ giá trị trước khi chọn\n  ngOnInit(): void {\n    this.initialValue = this.model[this.key as string];\n  }\n\n  showErr(field: FormlyFieldConfig) {\n    return field.formControl && field.formControl.invalid && field.formControl.touched;\n  }\n\n  onDateChange(event: Date): void {\n    if (this.props.validateChange && !this.props.validateChange(this.field, event)) {\n      this.formControl.setValue(this.initialValue);\n      return;\n    }\n    if (!this.field?.props?.emitTimeLocal) {\n      this.props.change && this.props.change(this.field, event);\n      return;\n    }\n    const localDate = new Date(event.getTime() - (event.getTimezoneOffset() * 60000));\n    if (this.field?.props?.onlyDay) {\n      localDate.setHours(0, 0, 0, 0);\n    }\n    const formattedDate = localDate.toISOString().slice(0, -1).replace('T', ' ');\n    this.formControl.setValue(formattedDate);\n    this.props.change && this.props.change(this.field, event);\n  }\n}\n","<nz-form-item class=\"ant-form-item ant-row ant-form-item-required {{ to.className }}\">\n  <nz-form-label *ngIf=\"to.label\" [nzRequired]=\"to.required\">{{\n    to.label\n  }}</nz-form-label>\n  <nz-form-control class=\"ant-form-item-control\">\n    <nz-range-picker\n      #instance\n      [formControl]=\"$any(formControl)\"\n      [nzSize]=\"props.nzSize\"\n      [nzFormat]=\"props.format\"\n      [nzShowTime]=\"props.nzShowTime\"\n      ngDefaultControl\n    >\n    </nz-range-picker>\n    <div class=\"ant-form-item-explain\" [ngClass]=\"{'ant-form-item-explain-connected' : !showErr(field)}\">\n      <div class=\"ant-form-item-explain-error\">\n        <formly-validation-message [field]=\"field\"></formly-validation-message>\n      </div>\n    </div>\n  </nz-form-control>\n</nz-form-item>\n","import { ChangeDetectionStrategy, Component, Input, OnInit } from '@angular/core';\nimport { ReactiveFormsModule, DefaultValueAccessor, NG_VALUE_ACCESSOR, FormControlDirective } from '@angular/forms';\nimport { FieldType, FormlyFieldConfig, FormlyModule } from '@ngx-formly/core';\nimport { FormlyNgZorroAntdModule } from '@ngx-formly/ng-zorro-antd';\nimport { NzDatePickerModule } from 'ng-zorro-antd/date-picker';\nimport { IcomLibsCoreComponentsFormlyDatepicker } from '../datepicker.component';\nimport { NgClass, NgIf } from '@angular/common';\nimport { NzFormModule } from 'ng-zorro-antd/form';\n\n@Component({\n  selector: 'icom-libs-core-components-formly-range_picker',\n  templateUrl: './range-picker.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: true,\n  imports :[\n    NzDatePickerModule,\n    ReactiveFormsModule,\n    FormlyNgZorroAntdModule,\n    FormlyModule,\n    NgIf,\n    NzFormModule,\n    NgClass,\n    \n  ],\n  providers: [\n    { provide: DefaultValueAccessor, useExisting: IcomLibsCoreComponentsFormlyDatepicker },\n    { provide: NG_VALUE_ACCESSOR, useExisting: IcomLibsCoreComponentsFormlyDatepicker, multi: true },\n    FormControlDirective // Import và thêm FormControlDirective vào danh sách providers\n  ],\n})\nexport class IcomLibsCoreComponentsFormlyRangepicker extends FieldType { \n\n  ngOnInit() {\n    console.log(this.formControl)\n  }\n\n  showErr(field: FormlyFieldConfig) {\n\t\treturn field.formControl && field.formControl.invalid && field.formControl.touched;\n\t}\n}\n","import { Component, forwardRef } from '@angular/core';\nimport { FieldType, FormlyFieldConfig, FormlyModule } from '@ngx-formly/core';\nimport { DefaultValueAccessor, FormControl, FormControlDirective, NG_VALUE_ACCESSOR, ReactiveFormsModule } from '@angular/forms';\nimport { QuillEditorComponent, QuillModule } from 'ngx-quill';\nimport { FormlyNgZorroAntdModule } from '@ngx-formly/ng-zorro-antd';\nimport { NzFormModule } from 'ng-zorro-antd/form';\nimport { NgIf, NgClass } from '@angular/common';\nimport { NzDatePickerModule } from 'ng-zorro-antd/date-picker';\n\n@Component({\n  selector: 'icom-libs-core-components-formly-quill',\n  template: `\n    <nz-form-item>\n      <nz-form-label *ngIf=\"to.label\" [nzRequired]=\"to.required\">{{ to.label }}</nz-form-label>\n      <div class=\"nz-input-group\">\n        <quill-editor [formControl]=\"$any(formControl)\" [styles]=\"{height: '250px'}\" [theme]=\"'snow'\" [placeholder]=\"'Nhập nội dung'\" [formlyAttributes]=\"field\" format=\"html\"></quill-editor>\n      </div>\n\n      <div class=\"ant-form-item-explain\" [ngClass]=\"{'ant-form-item-explain-connected' : !showErr(field)}\">\n        <div class=\"ant-form-item-explain-error\">\n          <formly-validation-message [field]=\"field\"></formly-validation-message>\n        </div>\n      </div>\n    </nz-form-item>\n  \n  `,\n  standalone: true,\n  imports: [\n    NzDatePickerModule,\n    ReactiveFormsModule,\n    FormlyNgZorroAntdModule,\n    FormlyModule,\n    NgIf,\n    NzFormModule,\n    NgClass,\n    QuillModule\n  ],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => QuillEditorComponent),\n      multi: true,\n    },\n    FormControlDirective\n  ],\n})\nexport class IcomLibsCoreComponentsFormlyQuillComponent extends FieldType {\n\n  showErr(field: FormlyFieldConfig) {\n\t\treturn field.formControl && field.formControl.invalid && field.formControl.touched;\n\t}\n}\n","import { NgIf, NgClass, JsonPipe } from '@angular/common';\nimport { ChangeDetectionStrategy, ChangeDetectorRef, Component, OnInit, inject } from '@angular/core';\nimport { DefaultValueAccessor, NG_VALUE_ACCESSOR, FormControlDirective, ReactiveFormsModule } from '@angular/forms';\nimport { IComLibsServicesProjectCampaignV3Service } from '@icom/services/projects';\nimport { FieldType, FormlyFieldConfig, FormlyModule } from '@ngx-formly/core';\nimport { FormlyNgZorroAntdModule } from '@ngx-formly/ng-zorro-antd';\nimport { NzButtonModule } from 'ng-zorro-antd/button';\nimport { NzFormModule } from 'ng-zorro-antd/form';\nimport { NzIconModule } from 'ng-zorro-antd/icon';\nimport { NzMessageService } from 'ng-zorro-antd/message';\nimport { NzUploadFile, NzUploadModule } from 'ng-zorro-antd/upload';\nimport { Observable, Observer, lastValueFrom } from 'rxjs';\n@Component({\n  selector: 'icom-libs-core-components-formly-upload',\n  template: `\n    <nz-form-item class=\"flex-col\">\n      <nz-form-label *ngIf=\"to.label\" [nzRequired]=\"to.required\">{{ to.label }}</nz-form-label>\n      <div class=\"nz-input-group\">\n        <nz-upload\n          class=\"avatar-uploader {{props.className}}\"\n          ngDefaultControl\n          nzName=\"avatar\"\n          [formControl]=\"$any(formControl)\" \n          [formlyAttributes]=\"field\"\n          [nzAccept]=\"props['accept']\"\n          nzName=\"avatar\"\n          [nzShowUploadList]=\"false\"\n          [nzDisabled]=\"props.nzDisabled || props.disabled || formControl.disabled\"\n          [nzMultiple]=\"false\"\n          [(nzFileList)]=\"fileList\"\n          nzListType=\"picture-card\"\n          [nzBeforeUpload]=\"beforeUpload\"\n          (nzChange)=\"handleUploadChange($event)\">\n          <ng-container *ngIf=\"!avatarUrl\">\n            <div class=\"flex flex-col\">\n              <div class=\"flex items-center\">  \n                <span class=\"upload-icon\" nz-icon [nzType]=\"loading ? 'loading' : 'plus'\"></span>\n                <div class=\"ant-upload-text ml-4\">Upload</div> \n              </div>\n              <p style=\"color: #00000073; font-size: 20px;\">{{ props.width || 80 }} X {{ props.height || 80 }}</p>\n\n            </div>\n            \n          \n          </ng-container>\n            <img class=\"object-contain w-full h-full\" style=\"    object-fit: contain;\" *ngIf=\"avatarUrl\" [src]=\"avatarUrl\" />\n              </nz-upload> \n        </div>\n\n        <div class=\"ant-form-item-explain\" [ngClass]=\"{'ant-form-item-explain-connected' : !showErr(field)}\">\n          <div class=\"ant-form-item-explain-error\">\n            <formly-validation-message [field]=\"field\"></formly-validation-message>\n          </div>\n        </div>\n    </nz-form-item>\n  `,\n  standalone: true,\n  imports: [\n    NzUploadModule,\n    NzButtonModule,\n    NzIconModule,\n    FormlyModule,\n    NgIf,\n    NzFormModule,\n    NgClass,\n    ReactiveFormsModule,\n    FormlyNgZorroAntdModule,\n    JsonPipe\n  ],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [\n    { provide: DefaultValueAccessor, useExisting: IcomLibsCoreComponentsFormlyUploadComponent },\n    { provide: NG_VALUE_ACCESSOR, useExisting: IcomLibsCoreComponentsFormlyUploadComponent, multi: true },\n    FormControlDirective\n  ]\n})\nexport class IcomLibsCoreComponentsFormlyUploadComponent extends FieldType implements OnInit {\n  protected fileList: NzUploadFile[] = [];\n  protected loading = false;\n  protected avatarUrl?: string;\n\n  private campaignService = inject(IComLibsServicesProjectCampaignV3Service);\n  private msg = inject(NzMessageService);\n  private cdr = inject(ChangeDetectorRef);\n\n  ngOnInit() {\n    if (this.formControl && (this.formControl as any)['defaultValue']) {\n      this.avatarUrl = (this.formControl as any)['defaultValue'];\n    }\n  }\n\n  protected async handleUploadChange(event: any) {\n    const formData = new FormData();\n    formData.append('image', event.file.originFileObj as File);\n    try {\n      this.loading = true;\n      const result: any = await lastValueFrom(this.campaignService?.uploadImage(formData));\n      this.formControl.setValue(result?.data?.path || '');\n      this.getBase64(event.file!.originFileObj!, (img: string) => {\n        this.loading = false;\n        this.avatarUrl = img;\n        this.cdr.detectChanges();\n      });\n\n    } catch (err) {\n    } finally {\n      this.loading = false;\n    }\n  }\n\n  protected showErr(field: FormlyFieldConfig) {\n    return field.formControl && field.formControl.invalid && field.formControl.touched;\n  }\n\n  beforeUpload = (file: NzUploadFile) => {\n    return new Observable((observer: Observer<boolean>) => {\n      const isJPG = file.type === 'image/png' || file.type === 'image/jpg' || file.type === 'image/jpeg';\n      if (!isJPG) {\n        this.msg.error('Hệ thống chỉ hỗ trợ định dạng file png, jpg, jpeg.');\n        observer.complete();\n        return;\n      }\n      const isLt2M = (file?.size  || 0) < this.props['size'];\n      if (!isLt2M) {\n        this.msg.error(`Hệ thống chỉ hỗ trợ file có dung lượng nhỏ hơn ${this.formatSize(this.props['size'] as number)}`);\n        observer.complete();\n        return;\n      }\n      this.checkImageDimension(file).then(dimensionRes => {\n        if (!dimensionRes) {\n          this.msg.error(`Hệ thống chỉ hỗ trợ file có kích thước nhỏ hơn ${this.props.width || 80} pixel X ${this.props.height || 80} pixel`);\n          observer.complete();\n          return;\n        }\n        observer.next(isJPG && isLt2M && dimensionRes);\n        observer.complete();\n      });\n    });\n  }\n\n  private getBase64(img: File, callback: (img: string) => void): void {\n    const reader = new FileReader();\n    reader.addEventListener('load', () => callback(reader.result!.toString()));\n    reader.readAsDataURL(img);\n  }\n\n  handleChange(info: { file: NzUploadFile }): void {\n    switch (info.file.status) {\n      case 'uploading':\n        this.loading = true;\n        break;\n      case 'done':\n        this.getBase64(info.file!.originFileObj!, (img: string) => {\n          this.loading = false;\n          this.avatarUrl = img;\n        });\n        break;\n      case 'error':\n        this.msg.error('Network error');\n        this.loading = false;\n        break;\n\n    }\n  }\n\n  private checkImageDimension(file: NzUploadFile | undefined): Promise<boolean> {\n    return new Promise(resolve => {\n      const img = new Image(); // create image\n      if (!file) {\n        return;\n      }\n      img.src = window.URL.createObjectURL(file as any);\n      img.onload = () => {  \n        const width = img.naturalWidth;\n        const height = img.naturalHeight;\n        window.URL.revokeObjectURL(img.src);\n        resolve((width <= (this.props.width || 80)) && (height <= (this.props.height || 80)));\n      };\n    });\n  }\n\n  private formatSize(sizeInBytes: number): string {\n    if (sizeInBytes < 1024) {\n        return `${sizeInBytes} B`;\n    } else if (sizeInBytes < 1024 * 1024) {\n        return `${(sizeInBytes / 1024).toFixed(2)} KB`;\n    } else {\n        return `${(sizeInBytes / (1024 * 1024)).toFixed(2)} MB`;\n    }\n}\n}","import { Component } from '@angular/core';\nimport { FieldWrapper } from '@ngx-formly/core';\nimport { NzSpaceModule } from 'ng-zorro-antd/space';\nimport { NzCardModule } from 'ng-zorro-antd/card';\nimport { NgIf } from '@angular/common';\n\n@Component({\n  selector: 'icom-libs-core-components-formly-wrapper_panel',\n  template: `\n    <nz-space nzDirection=\"vertical\" class=\"w-full\" [nzSize]=\"'small'\">\n      <nz-card  *nzSpaceItem [nzTitle]=\"props.label ? titleTemplate: ''\" [nzSize]=\"'small'\" class=\"custom-card\">\n        <ng-container #fieldComponent></ng-container>\n      </nz-card>\n\n      <ng-template #titleTemplate>\n        <span *ngIf=\"props.label\" class=\"font-bold text-sm\">{{ props.label }}</span>\n      </ng-template>\n    </nz-space>\n  `,\n  styles: [`\n    .custom-card {\n      border: 1px solid #d9d9d9; /* Màu border */\n      border-radius: 8px; /* Bo góc */\n      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Bóng đổ */\n    }\n  `],\n  standalone: true,\n  imports: [NzSpaceModule, NzCardModule, NgIf],\n})\nexport class IcomLibsCoreComponentsFormlyPanelWrapperComponent extends FieldWrapper {}\n","import { AbstractControl, FormArray, FormControl, FormGroup, ValidationErrors } from '@angular/forms';\nimport { FormlyFieldConfig } from '@ngx-formly/core';\n\nexport const EMAIL_REGEX =\n  '^(?=.{1,64}@)[A-Za-z0-9\\\\+_-]+(\\\\.[A-Za-z0-9\\\\+_-]+)*@[^-][A-Za-z0-9\\\\+-]+(\\\\.[A-Za-z0-9\\\\+-]+)*(\\\\.[A-Za-z]{2,})$';\n\nexport const PHONE_NUMBER_REGEX =\n  '^(\\\\+\\\\d{1,3}( )?)?((\\\\(\\\\d{3}\\\\))|\\\\d{3})[- .]?\\\\d{3}[- .]?\\\\d{4}$' +\n  '|^(\\\\+\\\\d{1,3}( )?)?(\\\\d{3}[ ]?){2}\\\\d{3}$' +\n  '|^(\\\\+\\\\d{1,3}( )?)?(\\\\d{3}[ ]?)(\\\\d{2}[ ]?){2}\\\\d{1}$';\n\nexport function EmailValidator(control: AbstractControl): ValidationErrors | null {\n  return !control?.value?.match(EMAIL_REGEX) ? { email: true } : null;\n}\n\nexport function PhoneNumberValidator(control: AbstractControl): ValidationErrors | null {\n  return !control?.value?.match(PHONE_NUMBER_REGEX) ? { phoneNumber: true } : null;\n}\n\nexport function MaxValidatorMessageValidator(control: AbstractControl): ValidationErrors | null {\n  return (control?.value < 5) ? null : { maxValidatorMessage: true };\n}\n\n\nexport function NumberIntMessageValidator(control: AbstractControl): ValidationErrors | null {\n  return (control?.value < 0) ? null : { maxValidatorMessage: true };\n}\n\n\n\nexport function MaxUploadFileSizerValidator(control: AbstractControl): ValidationErrors | null {\n  const file = control.value;\n  if (file) {\n    if (file.size > 1024 * 1024) { // 2MB\n      return { 'max-upload-file': true };\n    }\n  }\n  return null;\n}\n\nexport function TypeUploadFileSizerValidator(control: AbstractControl): ValidationErrors | null {\n  const file = control.value;\n  const fileType = file.type;\n  const acceptedFileTypes = ['application/vnd.ms-excel', 'text/csv']; // Excel and CSV MIME types\n\n  if (!acceptedFileTypes.includes(fileType || '')) {\n    return { 'type-upload-file': true };\n  }\n  return null;\n};\n\nexport function matchingPasswordsValidator(control: AbstractControl): ValidationErrors | null {\n  const newPassword = control.get('newPassword')?.value;\n  const confirmPassword = control.get('confirmPassword')?.value;\n  console.log('vo day');\n  // Set or clear the error on the confirmPassword control\n  if (newPassword !== confirmPassword) {\n    control.get('confirmPassword')?.setErrors({ ...control.get('confirmPassword')?.errors, fieldMatch: true });\n    return { fieldMatch: true }; // Return an error for the form group\n  } else {\n    const errors = control.get('confirmPassword')?.errors;\n    if (errors) {\n      delete errors['fieldMatch']; // Remove the fieldMatch error\n      if (Object.keys(errors).length === 0) {\n        control.get('confirmPassword')?.setErrors(null); // Clear errors if no other errors left\n      } else {\n        control.get('confirmPassword')?.setErrors(errors); // Update the errors object\n      }\n    }\n    return null; // No errors for the form group\n  }\n}\n\n\n\nexport const requiredValidationMessage = (err = {}, field: FormlyFieldConfig) => {\n  return `Please Enter ${field.templateOptions?.label || field.parent?.templateOptions?.label}`;\n};\n\nexport const emailValidationMessage = () => `Please Enter Valid Email`;\nexport const phoneNumberValidationMessage = () => `Please Enter Valid Phone Number`;\n\nexport const maxValidatorMessage = (maxError: { max: number; actual: number }) => {\n  return `Vui lòng nhập số nhỏ hơn ${maxError['max']}`;\n};\n\nexport const minValidatorMessage = (minError: { min: number; actual: number }) => {\n  return `Vui lòng nhập số lớn hơn ${minError['min']}`;\n};\n\nexport const maxUploadFileSize = (maxSize: { max: number; actual: number }) => {\n  return `Maximum value file is ${maxSize['max']}`;\n};\n\nexport const noWhitespaceMessage = () => {\n  return `Trường này là bắt buộc`;\n};\n\nexport const uniqueSelection = (name: string) => {\n  return `${name} không được trùng nhau.`;\n};\n\nexport const TypeUploadFileSizerMessage = (maxSize: { max: number; actual: number }) => {\n  return `Type Upload File Not Correct`;\n};\n\nexport const NumberIntMessage = (maxSize: { max: number; actual: number }) => {\n  return `Value min is 0`;\n};\n\nexport function fieldMatchValidator(control: AbstractControl): ValidationErrors | null {\n  const { type, value } = control.value;\n  if(type === 'PRODUCT_DISCOUNT_TYPE_PERCENT') {\n    return (value >= 0 && value < 100) ? null : { fieldMatch: { message: 'Require Value to 0 to 100' } };\n  }\n\n  if(type === \"PRODUCT_DISCOUNT_TYPE_VALUE\") {\n    return (value >= 0) ? null :{ fieldMatch: { message: 'Require Value more than 0' } };\n  }\n\n  return { maxValidatorMessage: true };\n};\n\n\nexport function noWhitespaceValidator(control: AbstractControl): ValidationErrors | null {\n  // Kiểm tra nếu trường không bắt buộc và giá trị là chuỗi rỗng hoặc chỉ chứa khoảng trắng\n  if (!control.value || (typeof control.value === 'string' && !control.value.trim().length)) {\n    // Trả về null nếu trường không bắt buộc và rỗng\n    return null;\n  }\n\n  // Trả về lỗi nếu giá trị chỉ chứa khoảng trắng\n  if (typeof control.value === 'string' && !control.value.trim().length) {\n    return { noWhitespaceMessage: true };\n  }\n\n  return null;\n}","import { Component, ChangeDetectionStrategy, ViewChild, Type, inject, ChangeDetectorRef } from '@angular/core';\nimport {\n  FieldType,\n  FieldTypeConfig,\n  FormlyFieldConfig,\n  FormlyModule,\n} from '@ngx-formly/core';\nimport {\n  FormlyFieldProps,\n  FormlyNzFormFieldModule,\n} from '@ngx-formly/ng-zorro-antd/form-field';\nimport {\n  FormlyFieldSelectProps,\n  FormlySelectModule,\n} from '@ngx-formly/core/select';\nimport { AsyncPipe, CommonModule, NgClass, NgIf } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { NzSelectModule } from 'ng-zorro-antd/select';\nimport { FormlyNgZorroAntdModule } from '@ngx-formly/ng-zorro-antd';\nimport { NzFormModule } from 'ng-zorro-antd/form';\nimport { NzInputModule } from 'ng-zorro-antd/input';\nimport { Observable, Subject, Subscription, debounceTime, distinctUntilChanged, isObservable, switchMap, take, takeUntil } from 'rxjs';\nimport { NzSelectComponent } from 'ng-zorro-antd/select';\nimport { NzButtonModule } from 'ng-zorro-antd/button';\nimport { NzSpinModule } from 'ng-zorro-antd/spin';\n\n@Component({\n  selector: 'formly-field-nz-select',\n  template: `\n    <div [class]=\"props.classInclude\" *ngIf=\"!to.readonly; else readonlyTemplate\">\n      <nz-select\n        class=\"max-w-md\"\n        [class.ng-dirty]=\"showError\"\n        [nzPlaceHolder]=\"'Chọn giá trị'\"\n        [formControl]=\"formControl\"\n        [formlyAttributes]=\"field\"\n        [nzServerSearch]=\"props.nzServerSearch || false\"\n        [nzShowSearch]=\"true\"\n        [nzMaxMultipleCount]=\"props?.maxMultiSelectItems || 999999\"\n        [nzAllowClear]=\"props.ignoreRemoveIcon ? false : true\"\n        [nzMode]=\"props.multiple ? 'multiple' : 'default'\"\n        (keydown.enter)=\"handleKeydown($event)\"\n        [nzDropdownRender]=\"renderTemplate\"\n        (nzScrollToBottom)=\"loadMore()\"\n        (nzOnSearch)=\"onSearch($event)\"\n        (ngModelChange)=\"props.change && props.change(field, $event)\">\n        <ng-container\n           *ngFor=\"let item of resolvedOptions\">\n          <nz-option\n            [nzValue]=\"$any(item)?.[props.valueProp || 'value']\"\n            [nzDisabled]=\"item.disabled\"\n            [nzLabel]=\"$any(item)?.[props.labelProp || 'label']\"\n          ></nz-option>\n        </ng-container>\n\n        <ng-template #renderTemplate>\n          <div *ngIf=\"isLoading\" class=\"loading-container absolute top-5 left-1/2\">\n            <nz-spin nzSize=\"large\"></nz-spin>\n          </div>\n      </ng-template>\n\n      </nz-select>\n      <button *ngIf=\"props.functionAddNew\" nz-button nzType=\"link\" class=\"add-new-button\" (click)=\"handleAddNew()\">\n        <span nz-icon nzType=\"plus\" nzTheme=\"outline\"></span> Thêm mới\n      </button>\n    </div>\n    \n    <ng-template #readonlyTemplate>\n      <span *ngIf=\"resolvedOptions && resolvedOptions?.length \">{{ getSelectedLabel(formControl.value) }}</span>\n    </ng-template>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: true,\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    NzSelectModule,\n    FormlyNzFormFieldModule,\n    FormlySelectModule,\n    FormsModule,\n    FormlyModule,\n    ReactiveFormsModule,\n    FormlyNgZorroAntdModule,\n    NzFormModule,\n    NgIf,\n    FormlyNgZorroAntdModule,\n    FormlyModule,\n    NgIf,\n    NzFormModule,\n    NgClass,\n    NzInputModule,\n    AsyncPipe,\n    NzButtonModule,\n    NzSpinModule\n  ],\n})\nexport class FormlyFieldSelect extends FieldType<FieldTypeConfig> {\n  resolvedOptions: any[] = [];\n  protected isLoading!: boolean;\n\n  protected pagination: any = {\n    limit: 15,\n    page: 1\n  };\n  searchChange$ = new Subject<any>();\n\n  protected keySearch!: string;\n  protected values!: string[];\n  private subscription?: Subscription;\n  private cdr = inject(ChangeDetectorRef);\n\n  @ViewChild(NzSelectComponent, { static: false }) nzSelectComponent!: NzSelectComponent;\n\n  handleKeydown(event: any): void {\n    if (event.key === 'Enter' && this.nzSelectComponent.nzOpen) {\n      event.preventDefault();\n    }\n  }\n\n  ngOnInit(): void {\n    this.searchChange$.pipe(\n      debounceTime(1000),\n      distinctUntilChanged(),\n      switchMap((term: string) => {\n        this.isLoading = true;\n        this.resolvedOptions = this.resolvedOptions?.map(option => ({ ...option, disabled: true }));\n        this.cdr.detectChanges();\n        this.keySearch = term;\n        return this.searchData(term);\n      })\n    ).subscribe((data: any) => {\n      this.isLoading = false;\n      this.resolvedOptions = data?.items;\n      this.pagination = data?.pagination;\n      this.cdr.detectChanges();\n    });\n\n    if (isObservable(this.field?.props?.options)) {\n      this.subscription = this.field?.props?.options?.pipe().subscribe(options => {\n        this.resolvedOptions = options;\n        this.props.emitList && this.props.emitList(this.resolvedOptions, this.field);\n        this.props?.functionCheckExist && this.props?.functionCheckExist(this.field, this.resolvedOptions);\n        this.cdr?.detectChanges();\n      });\n    } else {\n      this.resolvedOptions = this.field?.props?.options as any[];\n      this.props?.functionCheckExist && this.props?.functionCheckExist(this.field, this.resolvedOptions);\n      this.props.emitList && this.props.emitList(this.resolvedOptions, this.field);\n      this.cdr?.detectChanges();\n    }\n\n    // if (this.props.multiple && this.props.maxMultiSelectItems) {\n    //   this.formControl.valueChanges.pipe().subscribe(values => {\n    //     if (Array.isArray(values) && values.length > this.props.maxMultiSelectItems) {\n    //       // const trimmedValues = values.slice(values.length - this.props.maxMultiSelectItems);\n    //       // console.log(trimmedValues);\n    //       this.formControl.setValue(this.values, { emitEvent: false });\n\n    //       return;\n    //     }\n    //     this.values = values;\n    //   });\n    // }\n  \n  }\n\n  onSearch(searchText: string) {\n    if (!this.props.nzServerSearch) {\n      return;\n    }\n    this.searchChange$.next(searchText);\n  }\n\n  private searchData(term: string): Observable<any[]> {\n\n    return this.props.listOptionDropdown(1, { name: term });\n  }\n\n\n  ngOnDestroy(): void {\n    this.subscription?.unsubscribe();\n  }\n\n  getSelectedLabel(value: any | any[]): string {\n    if (!this.resolvedOptions || value == null) {\n      return 'Chưa có dữ liệu';\n    }\n\n    // Xử lý khi multi = true (value là mảng)\n    if (Array.isArray(value)) {\n      if (!value?.length) {\n        return 'Chưa có dữ liệu';\n      }\n      return value\n        .map(val => this.getLabelForValue(val))\n        .filter(label => label)\n        .join(', ');\n    }\n    return this.getLabelForValue(value);\n  }\n\n  private getLabelForValue(val: any): string {\n    const selectedOption = this.resolvedOptions.find(option => (option.id === val || option._id === val));\n    return selectedOption ? (selectedOption.value || selectedOption.title || selectedOption.name) : 'Chưa có dữ liệu';\n  }\n\n  loadMore(): void {\n    if (!this.props.nzServerSearch) {\n      return;\n    }\n    if (this.pagination.total_pages === this.pagination.page) {\n      return;\n    }\n    this.isLoading = true;\n    this.resolvedOptions = this.resolvedOptions?.map(option => ({ ...option, disabled: true }));\n    this.props.listOptionDropdown(this.pagination.page + 1, { search: this.keySearch }).subscribe((data: any) => {\n      this.isLoading = false;\n      this.resolvedOptions = [...this.resolvedOptions, ...data?.items];\n      this.resolvedOptions = this.resolvedOptions?.map(option => ({ ...option, disabled: false }));\n      this.pagination = data?.pagination;\n      this.cdr.detectChanges();\n    });\n  }\n\n  protected handleAddNew(): void {\n    if (this.props.functionAddNew) {\n      this.props.functionAddNew(this.field, () => {\n        this.ngOnInit();\n        this.cdr.detectChanges();\n      });\n    }\n  }\n\n}\n","import { NgFor } from '@angular/common';\nimport { Component } from '@angular/core';\nimport { FieldWrapper, FormlyModule } from '@ngx-formly/core';\n\n@Component({\n  selector: 'app-grid-wrapper',\n  template: `\n    <div class=\"grid-container\">\n      <div *ngFor=\"let field of field.fieldGroup; let i = index\" class=\"grid-item\">\n        <formly-field [field]=\"field\"></formly-field>\n      </div>\n    </div>\n  `,\n  styles: [`.grid-container {\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    gap: 10px;\n  }\n  \n  .grid-item {\n    padding: 10px;\n  }\n  `],\n  standalone: true,\n  imports: [\n    NgFor,\n    FormlyModule\n  ]\n})\nexport class GridWrapperComponent extends FieldWrapper { }\n","import { JsonPipe, NgFor, NgIf } from '@angular/common';\nimport { Component, OnInit } from '@angular/core';\nimport { ReactiveFormsModule, Validators } from '@angular/forms';\nimport { FieldArrayType, FormlyModule } from '@ngx-formly/core';\nimport { FormlyNgZorroAntdModule } from '@ngx-formly/ng-zorro-antd';\nimport { NzButtonModule } from 'ng-zorro-antd/button';\nimport { NzDatePickerModule } from 'ng-zorro-antd/date-picker';\nimport { NzFormModule } from 'ng-zorro-antd/form';\n\n@Component({\n  selector: 'formly-array-type',\n  template: `\n   <nz-form-item class=\"flex-col\" style=\"flex-direction: column; align-items: start\">\n   <nz-form-label *ngIf=\"props.label && props.required\" [nzRequired]=\"true\">{{ props.label }}</nz-form-label>\n      <nz-form-label *ngIf=\"props.label && !props.required\">{{ props.label }}</nz-form-label>\n      <div class=\"flex justify-start w-full\">\n        <!-- Chỉ hiển thị nút \"Thêm\" nếu không phải là readonly và không disabled -->\n        <button nz-button\n          *ngIf=\"!props.readonly && !options?.formState?.disabled\"\n          nzType=\"primary\"\n          (click)=\"add(undefined, undefined, { markAsDirty: true })\">\n          <span>{{ props.addText }}</span>\n        </button>\n      </div>\n\n      <div class=\"ant-form-item-explain-error\" *ngIf=\"showError && formControl.errors\">\n        <formly-validation-message [field]=\"field\"></formly-validation-message>\n      </div>\n\n      <div *ngFor=\"let field of field.fieldGroup; let i = index\" class=\"row align-items-start mt-2 w-full flex\">\n        <formly-field class=\"col w-full\" [field]=\"field\"></formly-field>\n        <!-- Chỉ hiển thị nút \"Xóa\" nếu không phải là readonly và không disabled -->\n        <div *ngIf=\"!props.readonly && field.props?.removable !== false && !field.hide\" class=\"col-2 ml-2 text-right\">\n          <button nz-button\n            [nzType]=\"'default'\" [nzDanger]=\"true\" \n            (click)=\"remove(i, { markAsDirty: true })\">\n            <span>{{ 'Xóa' }}</span>\n          </button>\n        </div>\n      </div>\n    </nz-form-item>\n  `,\n  standalone: true,\n  imports: [\n    NzDatePickerModule,\n    ReactiveFormsModule,\n    FormlyNgZorroAntdModule,\n    FormlyModule,\n    NgIf,\n    NgFor,\n    NzFormModule,\n    NzButtonModule,\n    JsonPipe\n  ],\n})\nexport class ArrayTypeComponent extends FieldArrayType implements OnInit {\n  ngOnInit() {\n    if (this.props.required) {\n      this.formControl.setValidators([Validators.required]);\n      this.formControl.updateValueAndValidity();\n    }\n  }\n}\n","import { NgIf, NgClass } from '@angular/common';\nimport { Component, OnInit } from '@angular/core';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { FieldType, FormlyModule } from '@ngx-formly/core';\nimport { FormlyNgZorroAntdModule } from '@ngx-formly/ng-zorro-antd';\nimport { NzCheckboxModule } from 'ng-zorro-antd/checkbox';\nimport { NzDatePickerModule } from 'ng-zorro-antd/date-picker';\nimport { NzFormModule } from 'ng-zorro-antd/form';\n@Component({\n  selector: 'formly-multi-checkbox-field',\n  template: `\n    <nz-form-item>\n       <nz-form-control>\n        <nz-checkbox-group\n          [nzDisabled]=\"to.disabled\"\n          [formControl]=\"$any(formControl)\"\n          [formlyAttributes]=\"field\"\n          [ngModel]=\"props.options\"\n          (ngModelChange)=\"to.change && to.change(field, $event?.[0]?.checked)\">\n        </nz-checkbox-group>\n      </nz-form-control>\n    </nz-form-item>\n  `,\n  standalone: true,\n  imports: [\n    NzCheckboxModule,\n    NzDatePickerModule,\n    ReactiveFormsModule,\n    FormlyNgZorroAntdModule,\n    NzFormModule,\n    NgIf,\n    FormlyModule,\n    NgIf,\n    NgClass\n  ]\n})\nexport class MultiCheckboxTypeComponent extends FieldType implements OnInit {\n\n  ngOnInit() {\n    this.props.options = (this.props.options as any[])?.map(option => ({\n      ...option,\n      disabled: this.props.disabled2,\n      checked: this.props.value2\n    }));\n    if (this.props.change) {\n      this.props.change(this.field, this.props.value2);\n    }\n  }\n}\n","import { NgClass, NgIf } from '@angular/common';\nimport { NzCollapseModule } from 'ng-zorro-antd/collapse';\nimport { Component, OnInit } from '@angular/core';\nimport { FieldWrapper, FormlyModule } from '@ngx-formly/core';\nimport { NzCheckboxModule } from 'ng-zorro-antd/checkbox';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { FormlyNgZorroAntdModule } from '@ngx-formly/ng-zorro-antd';\nimport { NzDatePickerModule } from 'ng-zorro-antd/date-picker';\nimport { NzFormModule } from 'ng-zorro-antd/form';\n\n@Component({\n  selector: 'formly-wrapper-collapse',\n  template: `\n    <nz-collapse *ngIf=\"props\" nzAccordion [nzExpandIconPosition]=\"'right'\">\n      <nz-collapse-panel\n        \n          [nzHeader]=\"headerTemplate\"\n          [nzActive]=\"true\"\n          [nzDisabled]=\"props.readonly\"\n          [nzShowArrow]=\"!props.readonly\">\n          <ng-template #headerTemplate let-field>\n            <label  class=\"text-sm font-semibold\" [nzDisabled]=\"props.readonly\" nz-checkbox [(ngModel)]=\"checked\" (click)=\"handlerClick($event)\" (nzCheckedChange)=\"handlerCheck($event)\">\n              {{ props.label }}\n            </label>\n\n            <i nz-icon nzType=\"caret-right\" class=\"panel-toggle-icon\"></i>\n          </ng-template>\n          <div *ngIf=\"hasContent()\">\n            <ng-container #fieldComponent></ng-container>\n          </div>\n      </nz-collapse-panel>\n    </nz-collapse>\n  `,\n  standalone: true,\n  imports: [NgIf, NzCollapseModule, NzCheckboxModule, FormsModule,\n    NzCheckboxModule,\n    NzDatePickerModule,\n    ReactiveFormsModule,\n    FormlyNgZorroAntdModule,\n    NzFormModule,\n    FormlyNgZorroAntdModule,\n    FormlyModule,\n    NgIf,\n    NzFormModule,\n    NgClass\n  ]\n})\nexport class CollapseWrapperComponent extends FieldWrapper implements OnInit {\n  protected checked!: boolean;\n\n  protected handlerClick(event: Event) {\n    event.stopPropagation();\n    event.preventDefault();\n  }\n\n  hasContent(): boolean {\n    return this.field.fieldGroup && this.field.fieldGroup.some(field => !field.hide) || true;\n  }\n\n  protected handlerCheck(checked: boolean) {\n    if (this.props.changeChecked) {\n      this.props.changeChecked(checked, this.field);\n      setTimeout(() => {\n        this.formControl.markAsTouched(); // Đánh dấu là đã \"chạm\" vào để trigger validation\n        this.options.detectChanges && this.options.detectChanges(this.field);\n      }, 100)\n\n    }\n  }\n\n  ngOnInit() {\n    if (this.props.setChecked) {\n      this.checked = this.props.setChecked(this.field);\n    }\n  }\n\n}\n\n","import { NgIf, NgClass } from '@angular/common';\nimport { Component, OnInit } from '@angular/core';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { FieldType, FormlyModule } from '@ngx-formly/core';\nimport { FormlyNgZorroAntdModule } from '@ngx-formly/ng-zorro-antd';\nimport { NzCheckboxModule } from 'ng-zorro-antd/checkbox';\nimport { NzDatePickerModule } from 'ng-zorro-antd/date-picker';\nimport { NzFormModule } from 'ng-zorro-antd/form';\nimport { NzInputModule } from 'ng-zorro-antd/input';\n\n@Component({\n  selector: 'formly-field-nz-color-picker',\n  template: `\n    <nz-form-item>\n      <nz-form-control [nzSm]=\"14\"  [nzXs]=\"24\" [nzErrorTip]=\"to.error\">\n        <input nz-input [formControl]=\"$any(formControl)\" [formlyAttributes]=\"field\" type=\"color\" />\n      </nz-form-control>\n    </nz-form-item>\n  `,\n  standalone: true,\n  imports : [\n    NzCheckboxModule,\n    NzDatePickerModule,\n    ReactiveFormsModule,\n    FormlyNgZorroAntdModule,\n    NzFormModule,\n    NgIf,\n    FormlyModule,\n    NgIf,\n    NzFormModule,\n    NzInputModule,\n    NgClass,\n  ]\n})\nexport class FormlyFieldColorPickerComponent extends FieldType implements OnInit {\n  ngOnInit() {\n    if (!this.formControl.value) {\n      this.formControl.setValue('#ffffff'); // Default color\n    }\n  }\n}\n","// nz-input-number.type.ts\nimport { NgIf, NgFor, NgClass, JsonPipe, DecimalPipe } from '@angular/common';\nimport { Component } from '@angular/core';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { FieldType, FormlyFieldConfig, FormlyModule } from '@ngx-formly/core';\nimport { FormlyNgZorroAntdModule } from '@ngx-formly/ng-zorro-antd';\nimport { NzButtonModule } from 'ng-zorro-antd/button';\nimport { NzDatePickerModule } from 'ng-zorro-antd/date-picker';\nimport { NzFormModule } from 'ng-zorro-antd/form';\nimport { NzInputNumberModule } from 'ng-zorro-antd/input-number';\n\n@Component({\n  selector: 'formly-field-nz-input-number',\n  template: `\n    <nz-form-item class=\"ant-form-item ant-row ant-form-item-required {{ to.className }}\">\n      <nz-form-label *ngIf=\"to.label\" [nzRequired]=\"to.required\">{{ to.label }}</nz-form-label>\n      <nz-form-control class=\"ant-form-item-control\">\n      <nz-input-number-group>\n        <nz-input-number *ngIf=\"!to.readonly; else readonlyTemplate\"\n          [ngClass]=\"{'!w-[120px]':  props.type === 'number'}\"\n          [formControl]=\"$any(formControl)\"\n          [formlyAttributes]=\"field\"\n          [nzMin]=\"1\"\n          [nzStep]=\"1\"\n          style=\"width: 100%\"\n          [nzPlaceHolder]=\"props.placeholder || 'Nhập số'\"\n          (keydown)=\"preventInput($event)\">\n        </nz-input-number>\n        <span *ngIf=\"to.addonText && !to.readonly\" class=\"input-addon\">{{ to.addonText }}</span>\n      </nz-input-number-group>\n      <ng-template #readonlyTemplate>\n        <span>{{ formControl.value | number : '1.0-2'   }}</span>\n        <span class=\"input-addon ml-4\">{{ to.addonText }}</span>\n      </ng-template>\n      <div class=\"ant-form-item-explain\" [ngClass]=\"{'ant-form-item-explain-connected' : !showErr(field)}\">\n        <div class=\"ant-form-item-explain-error\">\n          <formly-validation-message [field]=\"field\"></formly-validation-message>\n        </div>\n      </div>\n    </nz-form-control>\n    </nz-form-item>\n  `,\n  standalone: true,\n  styles: [`\n  .custom-input-container {\n    display: flex;\n    align-items: center;\n  }\n  .input-addon {\n    margin-left: 8px;\n  }\n`],\n  imports: [\n    NzDatePickerModule,\n    ReactiveFormsModule,\n    FormlyNgZorroAntdModule,\n    FormlyModule,\n    NgIf,\n    NgFor,\n    NzFormModule,\n    NzButtonModule,\n    NzInputNumberModule,\n    NgClass,\n    JsonPipe,\n    DecimalPipe\n  ],\n})\nexport class FormlyFieldNzInputNumber extends FieldType {\n\n  showErr(field: FormlyFieldConfig) {\n    return field.formControl && field.formControl.invalid && field.formControl.touched;\n  }\n\n  preventInput(event: KeyboardEvent) {\n    // Cho phép các phím điều hướng và điều khiển\n    const allowedKeys = ['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'Backspace', 'Tab', 'Delete', 'End', 'Home'];\n    if (event.key === 'Enter') {\n      // Nếu phím nhấn là Enter, ngăn chặn sự kiện\n      event.preventDefault();\n      return;\n    }\n\n    if (allowedKeys.includes(event.key)) {\n      return; // Cho phép các phím điều hướng và điều khiển\n    }\n  \n    const char = event.key;\n    const regex = /^[0-9]$/; // Chỉ cho phép số từ 0 đến 9\n  \n    if (!regex.test(char)) {\n      event.preventDefault(); // Ngăn chặn nhập ký tự không phải số\n    }\n  }\n}\n","<nz-form-item\n  class=\"ant-form-item ant-row ant-form-item-required {{ to.className }}\"\n>\n  <nz-form-label *ngIf=\"to.label\" [nzRequired]=\"to.required\">{{\n    to.label\n  }}</nz-form-label>\n  <nz-form-control class=\"ant-form-item-control\">\n    <nz-input-group nzPrefixIcon=\"search\">\n      <input\n        type=\"text\"\n        nz-input\n        [formControl]=\"$any(formControl)\"\n        [formlyAttributes]=\"field\"\n      />\n    </nz-input-group>\n\n    <div\n      class=\"ant-form-item-explain\"\n      [ngClass]=\"{ 'ant-form-item-explain-connected': !showErr(field) }\"\n    >\n      <div class=\"ant-form-item-explain-error\">\n        <formly-validation-message [field]=\"field\"></formly-validation-message>\n      </div>\n    </div>\n  </nz-form-control>\n</nz-form-item>\n","// search-input.type.ts\nimport { NgIf, NgClass } from '@angular/common';\nimport { ChangeDetectionStrategy, Component } from '@angular/core';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { FieldType, FormlyFieldConfig, FormlyModule } from '@ngx-formly/core';\nimport { FormlyNgZorroAntdModule } from '@ngx-formly/ng-zorro-antd';\nimport { NzCheckboxModule } from 'ng-zorro-antd/checkbox';\nimport { NzDatePickerModule } from 'ng-zorro-antd/date-picker';\nimport { NzFormModule } from 'ng-zorro-antd/form';\nimport { NzInputModule } from 'ng-zorro-antd/input';\n\n@Component({\n  selector: 'icon-libs-core-components-formly-input',\n  templateUrl: './input.component.html',\n  standalone: true,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  imports: [\n    NzCheckboxModule,\n    NzDatePickerModule,\n    ReactiveFormsModule,\n    FormlyNgZorroAntdModule,\n    NzFormModule,\n    NgIf,\n    FormlyNgZorroAntdModule,\n    FormlyModule,\n    NgIf,\n    NzFormModule,\n    NgClass,\n    NzInputModule\n  ]\n})\nexport class IcomLibsCoreComponentFormlyFieldSearchInput extends FieldType {\n\n  showErr(field: FormlyFieldConfig) {\n\t\treturn field.formControl && field.formControl.invalid && field.formControl.touched;\n\t}\n}\n","import { CommonModule } from '@angular/common';\nimport { Component, OnInit } from '@angular/core';\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\nimport { FieldWrapper, FormlyModule } from '@ngx-formly/core';\nimport { FormlySelectModule } from '@ngx-formly/core/select';\nimport { FormlyNzFormFieldModule } from '@ngx-formly/ng-zorro-antd/form-field';\nimport { NzSelectModule } from 'ng-zorro-antd/select';\n\n@Component({\n  selector: 'formly-wrapper-nz-select',\n  template: `\n    <nz-select\n      class=\"w-full\"\n      nzMode=\"tags\"\n      [formControl]=\"$any(formControl)\"\n      [formlyAttributes]=\"field\"\n      nzPlaceHolder=\"Nhập và ấn enter\"\n      (ngModelChange)=\"props.change && props.change(field, $event)\"\n    >\n      <!-- <nz-option *ngFor=\"let option of props.options | async\" [nzValue]=\"option.value\" [nzLabel]=\"option.label\">\n      </nz-option> -->\n    </nz-select>\n  `,\n  standalone: true,\n  imports: [\n    NzSelectModule,\n    CommonModule,\n    ReactiveFormsModule,\n    NzSelectModule,\n    FormlyNzFormFieldModule,\n    FormlySelectModule,\n    FormsModule,\n    FormlyModule\n  ]\n})\nexport class FormlyWrapperNzSelectTagsComponent extends FieldWrapper implements OnInit {\n  ngOnInit() {\n    // Đảm bảo rằng model là một mảng để nz-select có thể hiển thị tags\n    if (!Array.isArray(this.formControl.value)) {\n      this.formControl.setValue([]);\n    }\n  }\n\n  onChange(values: any[]): void {\n    // Cập nhật giá trị của form control khi có sự thay đổi\n    this.formControl.setValue(values);\n  }\n}\n","import { Inject, Injectable } from \"@angular/core\";\nimport { cloneDeep } from \"lodash\";\n\nexport class PaginationService {\n  private pageSize: number = 10;\n  private items: any[] = [];\n  private currentPage: number = 1;\n  private totalPages: number;\n\n  constructor() {\n    this.totalPages = this.calculateTotalPages();\n  }\n\n  public getCurrentPageItems(): any[] {\n    const startIndex = (this.currentPage - 1) * this.pageSize;\n    return this.items?.slice(startIndex < 0 ? 0 : startIndex, (startIndex + this.pageSize) || 10) ;\n  }\n\n  public getPageSize(): number {\n    return this.pageSize;\n  }\n\n\n setPageSize(pageSize: number): void {\n   this.pageSize = pageSize;\n   this.totalPages = this.calculateTotalPages();\n }\n\n  public getTotalPages(): number {\n    return this.totalPages;\n  }\n\n  public setItems(data: any) {\n    this.items.splice(0, this.items.length);\n    this.items.push(...data);\n  }\n\n  public resetItems() {\n    this.items.length = 0;\n  }\n\n  public getItems() {\n    return this.items;\n  }\n\n  public addItem(item: any): void {\n    this.items?.unshift(item);\n  }\n\n  public removeItem(item: any): void {\n    const index = this.items?.findIndex((existingItem) => (existingItem.id && item.id) ? (existingItem.id === item.id) : (existingItem.product_id === item.product_id));\n  if (index > -1) {\n      this.items?.splice(index, 1);\n      this.recalculatePagination();\n    }\n  }\n\n  itemExists(item: any): boolean {\n    return this.items?.some((existingItem) => (existingItem.id && item.id) ? (existingItem.id === item.id) : (existingItem.product_id === item.product_id));\n  }\n\n  findPageIndex(item: any): number {\n    const index = this.items?.findIndex(existingItem => existingItem.id === item.id);\n    return Math.floor(index / this.pageSize);\n  }\n\n  public setCurrentPage(page: number): void {\n    if (page >= 1 && page <= this.totalPages) {\n      this.currentPage = page;\n    }\n  }\n\n  public getCurrentPage() {\n    return this.currentPage;\n  }\n\n  private calculateTotalPages(): number {\n    return Math.ceil(this.items?.length / this.pageSize);\n  }\n\n  public recalculatePagination(): void {\n    this.totalPages = this.calculateTotalPages();\n    if (this.currentPage > this.totalPages) {\n      this.currentPage = this.totalPages;\n    }\n  }\n}\n","import { NgIf } from '@angular/common';\nimport { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { FormControl, Validators } from '@angular/forms';\nimport { NzInputModule } from 'ng-zorro-antd/input';\nimport { NzInputNumberModule } from 'ng-zorro-antd/input-number';\nimport { distinctUntilChanged } from 'rxjs';\n\n@Component({\n  selector: 'app-table-input',\n  template: `\n    <ng-container *ngIf=\"!readonly; else readonlyTemplate\">\n      <ng-container *ngIf=\"type === 'number'; else textInput\">\n        <nz-input-number\n          class=\"!w-full\"\n          [formControl]=\"inputControl\"\n          [nzPlaceHolder]=\"placeholder || 'Nhập số'\"\n          [nzFormatter]=\"numberFormatter\"\n          [nzParser]=\"numberParser\"\n          (keydown)=\"preventInput($event)\">\n        </nz-input-number>\n      </ng-container>\n      <ng-template #textInput>\n        <input\n          nz-input\n          [formControl]=\"inputControl\"\n          [type]=\"type\"\n          [placeholder]=\"placeholder || 'Nhập số'\" />\n      </ng-template>\n      <div *ngIf=\"inputControl?.invalid && (inputControl?.dirty || inputControl?.touched)\" class=\"mt-1\">\n        <small class=\"text-red-600 text-xs\" *ngIf=\"inputControl.errors?.['required']\">Trường này là bắt buộc</small>\n        <small class=\"text-red-600 text-xs\" *ngIf=\"inputControl.errors?.['min']\">Giá trị tối thiểu là {{ min }}</small>\n        <small class=\"text-red-600 text-xs\" *ngIf=\"inputControl.errors?.['max']\">Giá trị tối đa là {{ max }}</small>\n      </div>\n    </ng-container>\n    <ng-template #readonlyTemplate>\n      <span>{{ value || '' }}</span>\n    </ng-template>\n  `,\n  styles: [],\n  standalone: true,\n  imports: [\n    NzInputModule,\n    NzInputNumberModule,\n    ReactiveFormsModule,\n    NgIf\n  ]\n})\nexport class TableInputComponent implements OnInit {\n  protected inputControl!: FormControl;\n\n  @Input() type: 'text' | 'number' = 'number';\n  @Input() value: any;\n  @Input() readonly!: boolean | undefined;\n  @Input() placeholder: string = '';\n  @Input() required: boolean = false;\n  @Input() max: number | undefined;\n  @Input() min: number | undefined;\n  @Input() dataRow: any;\n  @Input() props: any;\n\n  @Output() valueChange = new EventEmitter<number>();\n\n  ngOnInit() {\n    const validators: any[] = [];\n    if (this.required) validators.push(Validators.required);\n    if (this.min !== undefined) validators.push(Validators.min(this.min || 1));\n    if (this.max !== undefined) validators.push(Validators.max(this.max || 99999999));\n  \n    // Tạo FormControl với giá trị ban đầu đã được format\n    this.inputControl = new FormControl((this.parseNumber(this.value)), validators);\n  \n    this.inputControl.valueChanges.pipe(distinctUntilChanged()).subscribe(value => {\n      const numericValue = this.parseNumber(value);\n      // Cập nhật lại giá trị cho FormControl với giá trị đã format, nhưng không phát sinh sự kiện valueChanges mới\n      this.inputControl.updateValueAndValidity();\n\n      // this.inputControl.setValue(this.numberFormatter(numericValue), { emitEvent: false });\n      // Phát sinh sự kiện valueChange với giá trị số (không có dấu phẩy)\n      this.valueChange.emit(numericValue);\n    });\n  \n    this.props && this.props.functionCheckReadonly && (this.readonly = this.props.functionCheckReadonly(this.dataRow));\n  }\n  \n  \n  save() {\n    this.inputControl.markAsTouched();\n    return { valid: !this.readonly ? this.inputControl.valid : true, dataRow: this.dataRow };\n  }\n\n  numberFormatter(value: number): string {\n    // Chuyển đổi giá trị số thành định dạng có dấu phẩy ngăn cách hàng nghìn\n    return value.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n  }\n\n  numberParser(value: string): string {\n    return value.replace(/,/g, '');\n  }\n\n  parseNumber(value: string): any {\n    // Loại bỏ dấu phẩy và chuyển đổi sang số\n    return value && parseInt(value.toString().replace(/,/g, ''), 10) || '';\n  }\n\n  preventInput(event: KeyboardEvent) {\n\n    // Cho phép các phím điều hướng và điều khiển\n    const allowedKeys = ['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'Backspace', 'Tab', 'Delete', 'End', 'Home'];\n    if (event.key === 'Enter') {\n      // Nếu phím nhấn là Enter, ngăn chặn sự kiện\n      event.preventDefault();\n      return;\n    }\n \n    if (allowedKeys.includes(event.key)) {\n      return; // Cho phép các phím điều hướng và điều khiển\n    }\n  \n    if (this.inputControl?.value?.toString()?.length > 16) {\n      // Nếu phím nhấn là Enter, ngăn chặn sự kiện\n      event.preventDefault();\n      return;\n    }\n\n    \n    const char = event.key;\n    const regex = /^[0-9]$/; // Chỉ cho phép số từ 0 đến 9\n  \n    if (!regex.test(char)) {\n      event.preventDefault(); // Ngăn chặn nhập ký tự không phải số\n    }\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { Component, EventEmitter, Input, OnChanges, OnInit, Output } from '@angular/core';\nimport { FormControl, ReactiveFormsModule, Validators } from '@angular/forms';\nimport { NzSelectModule } from 'ng-zorro-antd/select';\nimport { Observable, distinctUntilChanged, take } from 'rxjs';\n\n@Component({\n  selector: 'app-table-select-multi',\n  template: `\n    <ng-container *ngIf=\"!readonly; else readonlyTemplate\">\n      <nz-select\n        class=\"w-full\"\n        \n        nzMode=\"multiple\"\n        [formControl]=\"selectControl\"\n        [nzPlaceHolder]=\"placeholder || 'Chọn nhóm'\"\n        [nzNotFoundContent]=\"'Không tìm thấy dữ liệu'\"\n      >\n        <nz-option\n          *ngFor=\"let item of options | async\"\n          [nzValue]=\"item.id || item?._id\"\n          [nzLabel]=\"item.name\"\n        ></nz-option>\n      </nz-select>\n    </ng-container>\n    <ng-template #readonlyTemplate>\n      <ul class=\"list-disc pl-5\">\n        <li *ngFor=\"let item of selectedOptions\">{{ item.name }}</li>\n      </ul>\n    </ng-template>\n  `,\n  styles: [],\n  standalone: true,\n  imports: [CommonModule, ReactiveFormsModule, NzSelectModule],\n})\nexport class TableSelectMultiComponent implements OnInit {\n  @Input() options!: Observable<any[]>;\n  @Input() value!: any[];\n  @Input() placeholder: string | undefined;\n  @Input() readonly!: boolean | undefined;\n  @Input() required: boolean = false;\n\n  @Output() valueChange = new EventEmitter<any[]>();\n\n  selectControl!: FormControl;\n  selectedOptions: { id: any, name: string }[] = [];\n\n  constructor() {\n\n  }\n\n  ngOnInit() {\n    this.selectControl = new FormControl(this.value);\n    this.selectControl?.valueChanges?.pipe(distinctUntilChanged()).subscribe(value => {\n      this.valueChange.emit(value);\n      this.selectControl.updateValueAndValidity();\n    });\n  }\n\n  ngOnChanges(): void {\n    if (this.options) {\n      this.options.subscribe(options => {\n        this.selectedOptions = options.filter(option => this.value.includes(option.id));\n      });\n    }\n  }\n\n  save() {\n    this.selectControl.markAsTouched();\n    return this.selectControl.valid;\n  }\n\n}\n","import { Component, EventEmitter, Output, inject } from '@angular/core';\nimport { NzIconModule } from 'ng-zorro-antd/icon';\nimport { NzMessageService } from 'ng-zorro-antd/message';\nimport { NzUploadFile, NzUploadModule } from 'ng-zorro-antd/upload';\nimport { NgIf } from '@angular/common';\nimport { NzAlertModule } from 'ng-zorro-antd/alert';\nimport { IComMessageService } from '../../../../services/common/index';\nimport { IComLibsServicesProjectFlashSaleService } from '../../../../services/projects/flash-sale/flash-sale.service';\nimport { map } from 'rxjs';\nimport { uploadFile } from '../../../../defines/static.define';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport { environment } from '../../../../environments/environment';\nimport { NZ_MODAL_DATA } from 'ng-zorro-antd/modal';\n@Component({\n  selector: 'app-import-modal-content',\n  template: `\n  <span class=\"text-xs\">\n    (Tải về file mẫu:\n    <a nz-button nzType=\"link\" (click)=\"handlerDownloadFile($event)\">Excel file</a>):\n  </span>\n    <nz-alert\n      class=\"text-xs\"\n      nzType=\"warning\"\n      nzBanner\n      [nzShowIcon]=\"false\"\n      nzMessage=\"Lưu ý\"\n      nzDescription=\"Hệ thống cho phép nhập tối đa 100 voucher mỗi lần từ file\">\n    </nz-alert>\n\n    <nz-upload\n      nzAction=\"URL_TO_UPLOAD_ENDPOINT\"\n      [(nzFileList)]=\"fileList\"\n      [nzBeforeUpload]=\"beforeUpload\"\n      (nzChange)=\"handleChange($event)\"\n      nzListType=\"text\"\n      [nzShowUploadList]=\"{ showRemoveIcon: true }\">\n      <button nz-button>\n        <i nz-icon nzType=\"upload\"></i><span class=\"ml-2\">Chọn file dữ liệu</span>\n      </button>\n    </nz-upload>\n   \n  `,\n  standalone: true,\n  imports: [\n    NzUploadModule,\n    NgIf,\n    NzIconModule,\n    NzAlertModule\n  ]\n})\nexport class ImportModalContentComponent {\n  fileList: NzUploadFile[] = [];\n  isLoading!: boolean;\n\n  @Output() onSave: EventEmitter<any> = new EventEmitter<any>();\n\n  protected IComMessageService = inject(IComMessageService);\n  protected IComMessageFlashSaleService = inject(IComLibsServicesProjectFlashSaleService);\n  public readonly nzModalData = inject(NZ_MODAL_DATA);\n\n  constructor(private msg: NzMessageService) {}\n\n  beforeUpload = (file: NzUploadFile, fileList: NzUploadFile[]): boolean => {\n    // Tạo một đối tượng file mới với trạng thái \"uploading\"\n    // const newFile: NzUploadFile = {\n    //   ...file,\n    //   // status: 'uploading',\n    //   // Tùy chỉnh thêm các thông tin khác nếu cần\n    // };\n\n    // Thêm file mới vào danh sách file\n    this.fileList = fileList;\n    return false; // Ngăn chặn việc tự động upload\n  };\n\n  handleChange(info: { file: any; fileList: any }): void {\n    if (info.file.status === 'removed') {\n      // Handle removed file\n    }\n  }\n\n  handlerDownloadFile(e: Event) {\n    e.stopPropagation();\n    e.preventDefault();\n    uploadFile(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/flashsale/voucher/examfile`, 'MauFileImportSanPham', this.IComMessageService, undefined, true);\n  }\n\n\n  handleImport() {\n    this.isLoading = true;\n    const formData = new FormData();\n    formData.append('excel', this.fileList[0] as any);\n  \n    // Lặp qua các khóa của nzModalData và append vào formData\n    if (this.nzModalData) {\n      for (const key in this.nzModalData) {\n        if (this.nzModalData[key]) { // Kiểm tra nếu giá trị không phải là null hoặc undefined\n          formData.append(key, this.nzModalData[key]);\n        }\n      }\n    }\n  \n    this.IComMessageFlashSaleService.uploadVoucher(formData).subscribe({\n      next: (res) => {\n        this.onSave.emit(res.data?.data);\n        this.isLoading = false;\n      },\n      error: (err) => {\n        this.IComMessageService.showAlertMessageError((err as HttpErrorResponse)?.error?.error_message);\n        this.isLoading = false;\n        this.onSave.emit(false);\n      },\n    });\n  }\n}\n","import { Directive, Input, ElementRef, Renderer2, HostListener } from \"@angular/core\";\n\n@Directive({\n  selector: '[appShowTooltipOnOverflow]',\n  standalone: true\n})\nexport class ShowTooltipOnOverflowDirective {\n  @Input() text!: string;\n\n  constructor(private el: ElementRef, private renderer: Renderer2) {}\n\n  @HostListener('mouseenter')\n  onMouseEnter() {\n    const el: HTMLElement = this.el.nativeElement;\n    if (el.offsetWidth < el.scrollWidth) {\n      // The text is overflowing, show the tooltip.\n      this.renderer.setAttribute(el, 'nz-tooltip', 'true');\n      this.renderer.setAttribute(el, 'nzTooltipTitle', 'ahihi');\n    } else {\n      this.renderer.removeAttribute(el, 'nz-tooltip');\n    }\n  }\n}","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'formatValue',\n  standalone: true\n})\nexport class FormatValuePipe implements PipeTransform {\n\n  transform(value: any, ...args: any[]): any {\n    if (value === null || value === undefined) {\n      return '–'; // Ký tự đặc biệt (gạch ngang)\n    }\n\n    if (typeof value === 'number') {\n      return new Intl.NumberFormat().format(value); // Sử dụng NumberFormat để định dạng số\n    }\n\n    return value; // Trả về giá trị không thay đổi nếu không phải số hoặc null/undefined\n  }\n}\n","<div class=\"flex items-center w-full h-full flex-col pt-4\">\n  <nz-select\n    *ngIf=\"!props?.readonly\"\n    style=\"width: 300px\"\n    [nzServerSearch]=\"props?.nzServerSearch\"\n    [nzShowSearch]=\"true\"\n    [(ngModel)]=\"selectedValue\"\n    [nzPlaceHolder]=\"to.placeholder || ''\"\n    (ngModelChange)=\"handlerSelectChange($event)\"\n    (nzScrollToBottom)=\"loadMore()\"\n    nzAllowClear\n    [nzMaxMultipleCount]=\"5\"\n    [nzOptionHeightPx]=\"props.nzOptionHeightPx || 32\"\n    [nzDropdownMatchSelectWidth]=\"false\"\n    [nzDropdownStyle]=\"{ 'max-height.px': $any(props?.nzOptionHeightPx * 5 || 32 * 5) , 'overflow-y': 'auto' }\"\n    [nzDropdownRender]=\"renderTemplate\"\n    (nzOnSearch)=\"onSearch($event)\"\n    (nzOpenChange)=\"onSelectOpenChange($event)\"\n  >\n    <ng-template #renderTemplate>\n      <div *ngIf=\"isLoading\" class=\"loading-container absolute top-5 left-1/2\">\n        <nz-spin nzSize=\"large\"></nz-spin>\n      </div>\n    </ng-template>\n\n    <ng-container *ngIf=\"props?.customOption\">\n      <nz-option\n        *ngFor=\"let option of optionList\"\n        [nzValue]=\"option.id\"\n        [nzDisabled]=\"option.disabled\"\n        appShowTooltipOnOverflow\n        nzCustomContent\n      >\n        <div>\n          <div class=\"option-content flex items-center\">\n            <div class=\"option-image mr-2\">\n              <img\n                nz-image\n                [nzSrc]=\"\n                  option?.medias?.[0]?.url ||\n                  'data:image/png;base64,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'\n                \"\n                (error)=\"onImageError($event)\"\n                (click)=\"$event.preventDefault()\"\n                alt=\"Voucher Image\"\n                class=\"h-12 w-12 object-cover pointer-events-none\"\n              />\n            </div>\n            <div\n              class=\"flex flex-col justify-between h-full w-full overflow-hidden\"\n            >\n              <div class=\"voucher-info\">\n                <div\n                  class=\"overflow-hidden text-ellipsis whitespace-nowrap\"\n                  appShowTooltipOnOverflow\n                  nz-tooltip\n                  [nzTooltipTitle]=\"option.name\"\n                >\n                  {{ option?.name || '-' }}\n                </div>\n                <div class=\"voucher-details text-sm\">\n                  <div class=\"flex justify-between\">\n                    <span>ID: {{ option.id }}</span>\n                  </div>\n\n                  <div class=\"flex justify-between\">\n                    <span\n                      >Tồn:\n                      {{\n                        option?.quantity_available_by_gen_code_type\n                          | formatValue\n                      }}</span\n                    >\n                    <div></div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </nz-option>\n    </ng-container>\n    <ng-container *ngIf=\"!props?.customOption\">\n      <nz-option\n        *ngFor=\"let option of optionList\"\n        [nzValue]=\"option.id\"\n        [nzLabel]=\"option.value || option.name || option.title\"\n      ></nz-option>\n    </ng-container>\n  </nz-select>\n\n  <div\n    *ngIf=\"props?.import && !props?.readonly\"\n    class=\"w-full justify-end flex my-2\"\n  >\n    <button nz-button [nzType]=\"'primary'\" (click)=\"openImportModal($event)\">\n      <span nz-icon nzType=\"plus\" nzTheme=\"outline\"></span>\n      Nhập file excel\n    </button>\n  </div>\n\n  <div class=\"w-full h-full mt-4 overflow-hidden\">\n    <nz-table\n      [nzFrontPagination]=\"false\"\n      [nzPageSize]=\"10\"\n      class=\"mt-2 w-full\"\n      #nzTable\n      [nzBordered]=\"true\"\n      [nzNoResult]=\"noResultTemplate\"\n      [nzData]=\"pagedItems\"\n      [nzTableLayout]=\"'fixed'\"\n    >\n      <thead>\n        <tr>\n          <ng-container *ngFor=\"let col of props.columns\">\n            <th\n              [nzWidth]=\"col.width\"\n              [hidden]=\"col.hiddenWhenReadonly && props.readonly\"\n              class=\"text-xs font-semibold\"\n            >\n              {{ col.name }}\n            </th>\n          </ng-container>\n        </tr>\n      </thead>\n      <tbody cdkDropList (cdkDropListDropped)=\"drop($event)\">\n        <tr\n          #tableRow\n          id=\"row-{{ data.id || data.product_id }}\"\n          *ngFor=\"let data of pagedItems; let i = index\"\n          cdkDrag\n        >\n          <ng-container *ngFor=\"let col of props.columns\">\n            <td\n              [hidden]=\"col.hiddenWhenReadonly && props.readonly\"\n              class=\"text-xs overflow-hidden text-ellipsis !p-3\">\n              <ng-container [ngSwitch]=\"col.type\">\n                <ng-container *ngSwitchCase=\"'index'\">\n                  <i\n                    *ngIf=\"!props?.readonly\"\n                    nz-icon\n                    class=\"cursor-pointer\"\n                    nzType=\"menu\"\n                    cdkDragHandle\n                  ></i>\n                  <span *ngIf=\"props?.readonly\">{{ ((!getCurrentPage ? 0 : getCurrentPage - 1)) * ($any(paginationService?.getPageSize() || 10)) + i + 1 }}</span>\n                </ng-container>\n                <ng-container *ngSwitchCase=\"'stt'\">\n                  <span>{{((!getCurrentPage ? 0 : getCurrentPage - 1)) * ($any(paginationService?.getPageSize() || 10)) + i + 1 }}</span>\n                </ng-container>\n                <div\n                  *ngSwitchCase=\"'text'\"\n                  class=\"overflow-hidden text-ellipsis whitespace-nowrap\"\n                  nz-tooltip\n                  [nzTooltipTitle]=\"data[col.field]\"\n                >\n                  <ng-container\n                    *ngIf=\"\n                      data[col.field] === null || data[col.field] === undefined;\n                      else notNullValue\n                    \"\n                  >\n                    <span>-</span>\n                  </ng-container>\n                  <ng-template #notNullValue>\n                    <span\n                      *ngIf=\"\n                        isNumber(data[col.field]) && !col?.ignoreParseNumber\n                      \"\n                      >{{ data[col.field] | formatValue }}</span\n                    >\n                    <span\n                      *ngIf=\"\n                        isNumber(data[col.field]) && col?.ignoreParseNumber\n                      \"\n                      >{{ data[col.field] }}</span\n                    >\n                    <span *ngIf=\"isString(data[col.field])\">{{\n                      data[col.field]\n                    }}</span>\n                  </ng-template>\n                </div>\n\n                <div *ngSwitchCase=\"'text-link'\">\n                  <a\n                    *ngIf=\"col?.props?.clickAction\"\n                    nz-button\n                    [nzSize]=\"'default'\"\n                    nzType=\"link\"\n                    (click)=\"col?.props?.clickAction(data)\"\n                  >\n                    <ng-container\n                      *ngIf=\"\n                        data[col.field] === null ||\n                          data[col.field] === undefined;\n                        else notNullValue\n                      \"\n                    >\n                      <span>-</span>\n                    </ng-container>\n                    <ng-template #notNullValue>\n                      <span *ngIf=\"isNumber(data[col.field])\">{{\n                        data[col.field] | formatValue\n                      }}</span>\n                      <span *ngIf=\"isString(data[col.field])\">{{\n                        data[col.field]\n                      }}</span>\n                    </ng-template>\n                  </a>\n                </div>\n\n                <ng-container *ngSwitchCase=\"'input'\">\n                  <app-table-input\n                    #templates\n                    class=\"w-full\"\n                    [type]=\"col.inputType\"\n                    [value]=\"data[col.field] || ''\"\n                    [readonly]=\"props.readonly\"\n                    [placeholder]=\"col.placeholder\"\n                    [required]=\"col.required\"\n                    [max]=\"col.max\"\n                    [min]=\"col.min\"\n                    [dataRow]=\"data\"\n                    [props]=\"col?.props\"\n                    (valueChange)=\"handlerChange($event, data, col.field)\"\n                  >\n                  </app-table-input>\n                </ng-container>\n                <ng-container *ngSwitchCase=\"'multi-select'\">\n                  <app-table-select-multi\n                    class=\"w-full\"\n                    [options]=\"col.options\"\n                    [value]=\"data[col.field]\"\n                    [readonly]=\"props.readonly\"\n                    [placeholder]=\"col.placeholder\"\n                    (valueChange)=\"handlerChange($event, data, col.field)\"\n                  >\n                  </app-table-select-multi>\n                </ng-container>\n                <ng-container *ngSwitchCase=\"'action'\">\n                  <button\n                    *ngIf=\"!props?.readonly\"\n                    nz-button\n                    nzType=\"primary\"\n                    [nzDanger]=\"true\"\n                    (click)=\"removeItem($event, data)\"\n                  >\n                    Xóa\n                  </button>\n                </ng-container>\n              </ng-container>\n            </td>\n          </ng-container>\n        </tr>\n      </tbody>\n    </nz-table>\n  </div>\n  <nz-pagination\n    *ngIf=\"pagedItems && pagedItems.length\"\n    [nzTotal]=\"totalPages * 10\"\n    [nzPageIndex]=\"getCurrentPage\"\n    nzShowSizeChanger [nzPageSize]=\"10\"\n    [nzPageSizeOptions]=\"[10, 20, 30, 50, 100]\"\n    (nzPageIndexChange)=\"setCurrentPage($event)\"\n    (nzPageSizeChange)=\"onPageSizeChange($event)\"  \n  ></nz-pagination>\n</div>\n\n<ng-template #noResultTemplate>\n  <div class=\"flex flex-col items-center justify-center h-52\">\n    <i nz-icon nzType=\"frown\" nzTheme=\"outline\" class=\"text-4xl mb-2\"></i>\n    <span class=\"block\">Không có dữ liệu</span>\n  </div>\n</ng-template>\n","import { NgIf, NgForOf, AsyncPipe, NgStyle, NgClass, NgSwitchCase, NgSwitch, DecimalPipe, JsonPipe } from '@angular/common';\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Output,\n  QueryList,\n  ViewChildren,\n  inject,\n} from '@angular/core';\nimport { CdkDragDrop, moveItemInArray } from '@angular/cdk/drag-drop';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { FieldType, FieldTypeConfig, FormlyModule } from '@ngx-formly/core';\nimport { FormlyNgZorroAntdModule } from '@ngx-formly/ng-zorro-antd';\nimport { NzButtonModule } from 'ng-zorro-antd/button';\nimport { NzIconModule } from 'ng-zorro-antd/icon';\nimport { NzSelectModule } from 'ng-zorro-antd/select';\nimport { NzTableModule } from 'ng-zorro-antd/table';\nimport { Subject, Observable, debounceTime, distinctUntilChanged, lastValueFrom, switchMap, take } from 'rxjs';\nimport { PaginationService } from './service/pagination.service';\nimport { NzPaginationModule } from 'ng-zorro-antd/pagination';\nimport { DragDropModule } from '@angular/cdk/drag-drop';\nimport { NzModalService } from 'ng-zorro-antd/modal';\nimport { TableInputComponent } from './templates/input.component';\nimport { TableSelectMultiComponent } from './templates/select.component';\nimport { ImportModalContentComponent } from './templates/modal.component';\nimport { NzImageModule } from 'ng-zorro-antd/image';\nimport { IComMessageService } from '../../../services/common';\nimport { ShowTooltipOnOverflowDirective } from './directive/tooltip.directive';\nimport { NzSpinModule } from 'ng-zorro-antd/spin';\nimport { FormlyValueChangeEvent } from '@ngx-formly/core/lib/models';\nimport { NzToolTipModule } from 'ng-zorro-antd/tooltip';\nimport { FormatValuePipe } from './pipes/format-value.pipe';\nimport { cloneDeep } from 'lodash';\n@Component({\n  selector: 'icom-libs-core-component-dropdown-table',\n  templateUrl: './dropdown-table.component.html',\n  standalone: true,\n  changeDetection: ChangeDetectionStrategy.Default,\n  imports: [\n    NzTableModule,\n    NzSelectModule,\n    ReactiveFormsModule,\n    FormlyNgZorroAntdModule,\n    FormlyModule,\n    NgIf,\n    NgForOf,\n    FormsModule,\n    AsyncPipe,\n    NzButtonModule,\n    NzIconModule,\n    NzPaginationModule,\n    DragDropModule,\n    NgStyle, NgClass, NgSwitchCase, NgSwitch,\n    TableInputComponent,\n    TableSelectMultiComponent,\n    DecimalPipe,\n    NzImageModule,\n    ShowTooltipOnOverflowDirective,\n    NzSpinModule,\n    JsonPipe,\n    NzToolTipModule,\n    NzSpinModule,\n    NzButtonModule,\n    FormatValuePipe\n  ],\n  providers: [PaginationService],\n  styles: [\n    `\n      ::ng-deep .cdk-drag-preview {\n        display: table;\n      }\n\n      ::ng-deep .cdk-drag-placeholder {\n        td {\n          height: 60px;\n          opacity: 0;\n        }\n      }\n      .loading-container {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        height: 100%;\n      }\n      ::ng-deep .cdk-drag-preview {\n        display: table;\n      }\n      .placeholder-td {\n        height: 100px;\n        text-align: center;\n        border: 2px dashed gray;\n        background-color: #eeeeee;\n      }\n      .highlighted {\n        background-color: yellow; /* Màu tô màu cho dòng được chọn */\n      }\n    `,\n  ],\n})\nexport class DropdownTableTypeComponent extends FieldType<FieldTypeConfig>   {\n  protected selectedValue: any;\n  public pagedItems: any[] = [];\n  public totalPages: number = 0;\n  protected getCurrentPage: number = 0;\n  protected fallback =\n    'data:image/png;base64,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';\n  protected isLoading!: boolean;\n\n  protected optionList: any[] = [];\n  protected pagination: any;\n  protected searchChange$ = new Subject<any>();\n  protected keySearch!: string;\n\n  protected IComMessageService = inject(IComMessageService);\n  protected cdr = inject(ChangeDetectorRef);\n  protected paginationService = inject(PaginationService);\n  protected modalService = inject(NzModalService);\n  protected isFirst: boolean = true;\n  protected valueCurrent: any;\n\n  @ViewChildren('tableRow') tableRows!: QueryList<ElementRef>;\n  @ViewChildren('templates') templates!: QueryList<any>;\n\n  @Output() icomFunctionControl: EventEmitter<any> = new EventEmitter();\n\n  constructor() {\n    super();\n  }\n\n  async ngOnInit() {\n    this.searchChange$.pipe(\n      debounceTime(1000),\n      distinctUntilChanged(),\n      switchMap((term: string) => {\n        this.isLoading = true;\n        this.optionList = this.optionList.map(option => ({ ...option, disabled: true }));\n        this.cdr.detectChanges();\n        this.keySearch = term;\n        return this.searchData(term);\n      })\n    ).subscribe((data: any) => {\n      this.isLoading = false;\n      this.optionList = data?.length ? data : data?.items;\n      this.pagination = data?.pagination;\n      this.cdr.detectChanges();\n    }, (err) => {\n      this.isLoading = false;\n      this.cdr.detectChanges();\n    });\n    this.icomFunctionControl.emit({\n      reset: () => {\n        this.pagedItems = [];\n        this.updatePageItems();\n      }\n    })\n    this.props?.callBackThis && this.props?.callBackThis(this);\n    this.props.keyGetValue && this.field.options?.fieldChanges?.subscribe((result: FormlyValueChangeEvent) => {\n      if (result.field.key === this.props.keyGetValue) {\n        this.paginationService.resetItems();\n        this.updatePageItems();\n        this.props.changeItems && this.props.changeItems(this.pagedItems, this.field);\n        this.cdr.detectChanges();\n      }\n    });\n\n    if (this.props?.listDataMapping) {\n      const dataMapping: any = this.props?.listDataMapping;\n      let result;\n      if (dataMapping instanceof Observable) {\n        result = await lastValueFrom(dataMapping);\n      } else {\n        result = dataMapping;\n      }\n      if (result) {\n        result.forEach((item: any) => {\n          item.name = item.product_name;\n        });\n        this.mergeApiDataToSelectedItem(result, this.formControl.value);\n        this.formControl.patchValue(this.formControl.value);\n        this.paginationService.setItems(this.formControl.value);\n        this.updatePageItems();\n        this.cdr?.detectChanges();\n      }\n      this.cdr.detectChanges();\n      return;\n    } else {\n      this.formControl.patchValue(this.formControl.value);\n      this.paginationService.setItems(this.formControl.value);\n      this.updatePageItems();\n      this.cdr.detectChanges();\n    }\n  }\n\n  private searchData(term: string): Observable<any[]> {\n    return this.props.listOptionDropdown(1, { search: term });\n  }\n\n  isNumber(value: any): boolean {\n    return typeof value === 'number';\n  }\n\n  isString(value: any): boolean {\n    return typeof value === 'string';\n  }\n\n\n  loadMore(): void {\n    if (!this.props?.nzServerSearch) {\n      return;\n    }\n    if (this.pagination.total_pages === this.pagination.page) {\n      return;\n    }\n    this.isLoading = true;\n    this.optionList = this.optionList.map(option => ({ ...option, disabled: true }));\n    this.props?.listOptionDropdown && this.props?.listOptionDropdown(this.pagination.page + 1, { search: this.keySearch }).subscribe((data: any) => {\n      this.isLoading = false;\n      const dataPush = (data?.length) ? data : data?.items;\n      this.optionList = [...this.optionList, ...dataPush];\n\n      this.optionList = this.optionList.map(option => ({ ...option, disabled: false }));\n      this.pagination = data?.pagination;\n      this.cdr.detectChanges();\n    });\n  }\n\n  onSearch(searchText: string) {\n    if (!this.props?.nzServerSearch) {\n      return;\n    }\n    this.searchChange$.next(searchText);\n  }\n\n  protected handlerSelectChange(value: any) {\n    const selectedOption = this.optionList.find((option: any) => option.id === value);\n    if (this.props.mergeApiDataToSelectedItem) {\n      this.handleApiData(selectedOption);\n      return;\n    }\n    this.updateTable(selectedOption);\n  }\n\n  protected updateTable(selectedOption: any): boolean {\n    let exists = false;\n    if (selectedOption) {\n      if (this.props?.functionCheckCondition) {\n        exists = this.props?.functionCheckCondition(selectedOption);\n      }\n      if (!exists) {\n        exists = this.paginationService.itemExists(selectedOption);\n      }\n      if (!exists) {\n        this.addItem(selectedOption);\n        this.selectedValue = undefined;\n        this.cdr?.detectChanges();\n      } else {\n        const pageIndex = this.paginationService.findPageIndex(selectedOption);\n        this.setCurrentPage(pageIndex + 1);\n        this.highlightRow(selectedOption);\n        this.selectedValue = undefined;\n        this.cdr?.detectChanges();\n      }\n      this.props.changeItems && this.props.changeItems(this.paginationService.getItems(), this.field);\n    }\n    return exists;\n  }\n\n  protected handlerChange(event: any, data: any, field: string) {\n    if (!data[field]) {\n      data[field] = '';\n    }\n    data[field] = event;\n    this.props.changeItems && this.props.changeItems(this.paginationService.getItems(), this.field);\n  }\n\n  private handleApiData(selectedOption: any) {\n    this.props.mergeApiDataToSelectedItem([selectedOption.id]).subscribe({\n      next: (apiResponse: any) => {\n        this.mergeApiDataToSelectedItem(apiResponse, [selectedOption]);\n      },\n      error: (err: any) => {\n        console.error('Error fetching data from API:', err);\n      }\n    });\n  }\n\n  protected mergeApiDataToSelectedItem(apiData: any[], selectedOption: any) {\n    selectedOption && selectedOption?.forEach((dataMapping: any) => {\n      const dataMap = apiData.find((item => (item.product_id === dataMapping.id || item.product_id === dataMapping.product_id)));\n      dataMap && Object.assign(dataMapping, dataMap);\n      this.updateTable(dataMapping);\n    });\n  }\n\n  onSelectOpenChange(open: boolean): void {\n    if (open) {\n      this.isLoading = true;\n      this.props?.listOptionDropdown && (this.props?.listOptionDropdown(1, {}) as any).subscribe(\n        (data: any) => {\n          this.isLoading = false;\n          this.optionList = data?.length ? data : data?.items;\n          this.pagination = data?.pagination;\n          this.cdr.detectChanges();\n        }, (err: any) => {\n          this.isLoading = false;\n          this.cdr.detectChanges();\n        }\n      )\n    }\n  }\n\n  onImageError(event: any) {\n    if (event.target.src === 'data:image/png;base64,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') {\n      return;\n    }\n    event.target.src = 'data:image/png;base64,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'; // Đường dẫn ảnh mặc định\n  }\n\n  public addItem(item: any): void {\n    this.paginationService.addItem(item);\n    this.pagedItems = this.paginationService.getItems();\n    this.cdr.detectChanges();\n  }\n\n  public removeItem(e: Event, item: any): void {\n    e.stopPropagation();\n    e.preventDefault();\n    this.modalService.confirm(\n      {\n        nzTitle: `Bạn có chắc chắn muốn xóa không?`,\n        nzOkText: 'Đồng ý',\n        nzOkType: 'primary',\n        nzMaskClosable: false,\n        nzClosable: false,\n        nzOnOk: () => {\n          this.paginationService.removeItem(item);\n          this.updatePageItems();\n          this.cdr.detectChanges();\n          this.props.changeItems && this.props.changeItems(this.paginationService.getItems(), this.field);\n        },\n        nzCancelText: 'Hủy bỏ',\n      },\n      'error'\n    );\n  }\n\n  public setCurrentPage(page: number): void {\n    this.paginationService.setCurrentPage(page);\n    this.updatePageItems();\n  }\n\n  private updatePageItems(): void {\n    this.paginationService.recalculatePagination();\n    this.getCurrentPage = this.paginationService.getCurrentPage();\n    this.pagedItems = this.paginationService.getCurrentPageItems();\n    this.totalPages = this.paginationService.getTotalPages();\n    this.cdr?.detectChanges();\n  }\n\n  protected drop(event: CdkDragDrop<string[]>): void {\n    if (this.props.readonly) {\n      return;\n    }\n    const prevIndex = event.previousIndex + (this.paginationService.getCurrentPage() - 1) * this.paginationService.getPageSize();\n    const newIndex = event.currentIndex + (this.paginationService.getCurrentPage() - 1) * this.paginationService.getPageSize();\n    moveItemInArray(this.paginationService.getItems(), prevIndex, newIndex);\n    this.updatePageItems();\n    this.props.changeItems && this.props.changeItems(this.paginationService.getItems(), this.field);\n    this.cdr.detectChanges();\n  }\n\n  private removeHighLight() {\n    this.tableRows.forEach((row) => {\n      row.nativeElement.classList.remove('highlighted');\n    });\n  }\n\n  private highlightRow(item: any) {\n    const rowElement = this.tableRows?.find(\n      (row) => row.nativeElement.id === 'row-' + item.id\n    );\n    if (rowElement) {\n      rowElement.nativeElement.classList.add('highlighted');\n      rowElement.nativeElement.scrollIntoView({\n        behavior: 'smooth',\n        block: 'nearest',\n      });\n    }\n    this.cdr.detectChanges();\n  }\n\n  protected onPageSizeChange(page: number) {\n    this.paginationService.setPageSize(page);\n    this.updatePageItems();\n  }\n\n  public handlerSave() {\n    let valid = true;\n    for (let temp of this.templates) {\n      const result = temp.save();\n      this.cdr.detectChanges();\n      if (!result.valid) {\n        valid = false;\n        this.highlightRow(result.dataRow);\n      }\n      if (this.props.specificValidate) {\n        const resultSpecificValidate = this.props.specificValidate(result.dataRow);\n        !resultSpecificValidate && this.highlightRow(result.dataRow);\n        !resultSpecificValidate && (valid = false);\n      }\n    };\n    return valid;\n  }\n\n  public openImportModal(e: Event): void {\n    e.stopPropagation();\n    e.preventDefault();\n    const modalRef = this.modalService.create({\n      nzTitle: 'Nhập voucher từ File dữ liệu',\n      nzContent: ImportModalContentComponent,\n      nzOkLoading: false,\n      nzCancelText: 'Hủy bỏ',\n      nzOkText: 'Đồng ý',\n      nzOkType: 'primary',\n      nzData: this.props?.objectUpload,\n      nzOnOk: () => new Promise((resolve) => {\n        const instance = modalRef.getContentComponent();\n        instance.onSave.pipe(take(1)).subscribe(result => {\n          if (result) {\n            let count  = 0;\n            result && result.length && result.forEach((item: any) => {\n              count += (!this.updateTable(item) ? 1 : 0);\n            })\n            this.cdr?.detectChanges();\n            this.IComMessageService.showAlertMessageDone(`Đã import thành công ${count || 0} bản ghi`);\n            resolve(true);\n          } else {\n            resolve(false);\n            modalRef.updateConfig({ nzOkLoading: false });\n            this.cdr?.detectChanges();\n          }\n        });\n        instance.handleImport();\n      }),\n    });\n  }\n}\n","import { Component, ChangeDetectionStrategy } from '@angular/core';\nimport { FieldType, FieldTypeConfig, FormlyModule } from '@ngx-formly/core';\nimport { NzInputModule } from 'ng-zorro-antd/input';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { CommonModule, NgClass, NgIf } from '@angular/common';\nimport { FormlyNgZorroAntdModule } from '@ngx-formly/ng-zorro-antd';\n\n@Component({\n  selector: 'formly-field-input-custom',\n  template: `\n    <div class=\"custom-input-container\">\n      <ng-container *ngIf=\"!to.readonly; else readonlyTemplate\">\n        <input nz-input\n          class=\"max-w-md\"\n          [ngClass]=\"{'!w-[150px]':  props.type === 'number'}\"\n          [formControl]=\"$any(formControl)\"\n          [formlyAttributes]=\"field\"\n          [type]=\"props.type || 'text'\"\n          [max]=\"props.maxLength || 99999999\"\n          [placeholder]=\"props.placeholder\"\n          (keydown)=\"preventInput($event)\"\n          (input)=\"handleInput($event)\" />\n        <span class=\"input-addon\">{{ to.addonText }}</span>\n      </ng-container>\n      <ng-template #readonlyTemplate>\n        <span>{{ formControl.value }}</span>\n        <span class=\"input-addon ml-4\">{{ to.addonText }}</span>\n      </ng-template>\n    </div>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  styles: [`\n    .custom-input-container {\n      display: flex;\n      align-items: center;\n    }\n    .input-addon {\n      margin-left: 8px;\n    }\n  `],\n  standalone: true,\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    NzInputModule,\n    FormsModule,\n    NgIf,\n    FormlyNgZorroAntdModule,\n    FormlyModule,\n    NgClass\n  ]\n})\nexport class FormlyFieldCustomInputComponent extends FieldType<FieldTypeConfig> { \n  handleInput(event: any) {\n    // if (this.props.maxLength && event.target.value.length > this.props.maxLength) {\n    //   event.preventDefault();\n    //   return;\n    // }\n    if (this.props.type === 'number') {\n      const value = parseFloat(event.target.value);\n      this.formControl.setValue(Number.isNaN(value) ? null : value);\n    }\n  }\n\n  preventInput(event: KeyboardEvent) {\n    // Cho phép các phím điều hướng và điều khiển\n    if (event.key === 'Enter') {\n      // Nếu phím nhấn là Enter, ngăn chặn sự kiện\n      event.preventDefault();\n      return;\n    }\n  \n  }\n}\n","import { CommonModule, NgIf, NgClass, AsyncPipe } from '@angular/common';\nimport {\n  ChangeDetectorRef,\n  Component,\n  OnDestroy,\n  OnInit,\n  inject,\n} from '@angular/core';\nimport { ReactiveFormsModule, FormsModule, Validators } from '@angular/forms';\nimport { FieldType, FormlyFieldConfig, FormlyModule } from '@ngx-formly/core';\nimport { FormlySelectModule } from '@ngx-formly/core/select';\nimport { FormlyNgZorroAntdModule } from '@ngx-formly/ng-zorro-antd';\nimport { FormlyNzFormFieldModule } from '@ngx-formly/ng-zorro-antd/form-field';\nimport { NzFormModule } from 'ng-zorro-antd/form';\nimport { NzInputModule } from 'ng-zorro-antd/input';\nimport { NzRadioModule } from 'ng-zorro-antd/radio';\nimport { NzSelectModule } from 'ng-zorro-antd/select';\nimport { Subscription, isObservable } from 'rxjs';\n@Component({\n  selector: 'formly-field-nz-radio',\n  template: `\n    <ng-container *ngIf=\"!to.readonly; else readonlyTemplate\">\n      <nz-radio-group\n        [formControl]=\"$any(formControl)\"\n        [nzDisabled]=\"to.disabled\"\n      >\n        <label\n          nz-radio\n          *ngFor=\"\n            let option of props.options | formlySelectOptions : field | async\n          \"\n          [nzValue]=\"option.value\"\n          [nzDisabled]=\"option.disabled\"\n        >\n          {{ option.label }}\n        </label>\n      </nz-radio-group>\n    </ng-container>\n\n    <ng-template #readonlyTemplate>\n      <span *ngIf=\"resolvedOptions && resolvedOptions?.length\">{{\n        getSelectedLabel(formControl.value)\n      }}</span>\n    </ng-template>\n  `,\n  standalone: true,\n  imports: [\n    NzRadioModule,\n    CommonModule,\n    ReactiveFormsModule,\n    NzSelectModule,\n    FormlyNzFormFieldModule,\n    FormlySelectModule,\n    FormsModule,\n    FormlyModule,\n    ReactiveFormsModule,\n    FormlyNgZorroAntdModule,\n    NzFormModule,\n    NgIf,\n    FormlyNgZorroAntdModule,\n    FormlyModule,\n    NgIf,\n    NzFormModule,\n    NgClass,\n    NzInputModule,\n    AsyncPipe,\n  ],\n})\nexport class FormlyFieldRadio extends FieldType implements OnInit, OnDestroy {\n  resolvedOptions: any[] = [];\n  private subscription?: Subscription;\n  private cdr = inject(ChangeDetectorRef);\n\n  ngOnInit(): void {\n    if (isObservable(this.field?.props?.options)) {\n      this.subscription = this.field?.props?.options?.subscribe((options) => {\n        this.resolvedOptions = options;\n        this.checkAndSetCheckedOption();\n        this.cdr.detectChanges();\n      });\n    } else {\n      this.resolvedOptions = this.field?.props?.options as any[];\n      this.checkAndSetCheckedOption();\n      this.cdr.detectChanges();\n    }\n    if (this.props?.required) {\n      this.formControl.setValidators(Validators.required);\n    }\n  }\n  \n  private checkAndSetCheckedOption() {\n    const checkedOption = this.resolvedOptions.find(option => option.checked);\n    if (checkedOption) {\n      !this.form?.value[this.key as string] && this.formControl.setValue(checkedOption.id);\n    }\n  }\n  \n\n  ngOnDestroy(): void {\n    this.subscription?.unsubscribe();\n  }\n\n  showErr(field: FormlyFieldConfig) {\n    return (\n      field.formControl &&\n      field.formControl.invalid &&\n      field.formControl.touched\n    );\n  }\n\n  getSelectedLabel(value: any | any[]): string {\n    if (!this.resolvedOptions || value == null) {\n      return '';\n    }\n\n    // Xử lý khi multi = true (value là mảng)\n    if (Array.isArray(value)) {\n      return value\n        .map((val) => this.getLabelForValue(val))\n        .filter((label) => label) // Loại bỏ những nhãn không tìm thấy\n        .join(', '); // Nối các nhãn bằng dấu phẩy\n    }\n    console.log(value);\n    return this.getLabelForValue(value);\n  }\n\n  private getLabelForValue(val: any): string {\n    const selectedOption = this.resolvedOptions.find(\n      (option) => (option.id === val)\n    );\n    // console.log(selectedOption);\n    return selectedOption ? selectedOption.value  || selectedOption.label  || selectedOption.name  : 'Chưa có dữ liệu';\n  } \n}\n","import { Component } from '@angular/core';\nimport { FieldType } from '@ngx-formly/core';\nimport { NzInputModule } from 'ng-zorro-antd/input';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { FormlyModule } from '@ngx-formly/core';\nimport { FormlyNgZorroAntdModule } from '@ngx-formly/ng-zorro-antd';\n\n@Component({\n  selector: 'formly-field-textarea-custom',\n  template: `\n   <ng-container *ngIf=\"!to.readonly; else viewMode\">\n  <textarea class=\"text-xs no-resize break-words max-w-md\"  [rows]=\"5\" nz-input [formControl]=\"$any(formControl)\" [formlyAttributes]=\"field\" [rows]=\"to.rows || 4\"\n    [placeholder]=\"props?.placeholder || ''\"></textarea>\n  </ng-container>\n  <ng-template #viewMode>\n    <div class=\"text-xs break-words\">\n      {{ formControl.value || 'Chưa có dữ liệu' }}\n    </div>\n  </ng-template>\n  `,\n  standalone: true,\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    NzInputModule,\n    FormsModule,\n    FormlyModule,\n    FormlyNgZorroAntdModule\n  ],\n  styles: [`\n  .break-words {\n    word-break: break-word;\n  }\n  .no-resize {\n  resize: none;\n}\n`],\n})\n\nexport class FormlyFieldTextareaCustom extends FieldType {}\n","import { CommonModule, NgIf, NgClass } from '@angular/common';\nimport { Component } from '@angular/core';\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\nimport { FieldType, FieldWrapper, FormlyFieldConfig, FormlyModule } from '@ngx-formly/core';\nimport { FormlyNgZorroAntdModule } from '@ngx-formly/ng-zorro-antd';\nimport { NzFormModule } from 'ng-zorro-antd/form';\nimport { NzIconModule } from 'ng-zorro-antd/icon';\nimport { NzInputModule } from 'ng-zorro-antd/input';\n\n\n@Component({\n  selector: 'app-password-toggle-wrapper',\n  template: `\n    <nz-form-item class=\"ant-form-item ant-row ant-form-item-required {{ to.className }}\">\n      <nz-form-label *ngIf=\"to.label\" [nzRequired]=\"to.required\">{{ to.label }}</nz-form-label>\n      <nz-form-control class=\"ant-form-item-control\">\n        <nz-input-group [nzSuffix]=\"suffixTemplate ?? ''\">\n        <input nz-input [type]=\"show ? 'text' : 'password'\" [formControl]=\"$any(formControl)\" [formlyAttributes]=\"field\" />\n        </nz-input-group>\n        <ng-template #suffixTemplate>\n          <span\n            class=\"cursor-pointer\"\n            nz-icon\n            [nzType]=\"show ? 'eye-invisible' : 'eye'\"\n            (click)=\"show = !show\"\n          ></span>\n        </ng-template> \n        <div class=\"ant-form-item-explain\" [ngClass]=\"{'ant-form-item-explain-connected' : !showErr(field)}\">\n          <div class=\"ant-form-item-explain-error\">\n            <formly-validation-message [field]=\"field\"></formly-validation-message>\n          </div>\n        </div>\n      </nz-form-control>\n    </nz-form-item>\n  `,\n  standalone: true,\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    NzInputModule,\n    FormsModule,\n    NgIf,\n    FormlyNgZorroAntdModule,\n    FormlyModule,\n    NgClass,\n    NzInputModule,\n    NzIconModule,\n    NzFormModule\n  ]\n})\nexport class PasswordToggleWrapperComponent extends FieldType {\n  show = false;\n\n  showErr(field: FormlyFieldConfig) {\n    return field.formControl && field.formControl.invalid && field.formControl.touched;\n  }\n  toggleVisibility() {\n    this.show = !this.show;\n  }\n}","import { CommonModule } from '@angular/common';\nimport { Component } from '@angular/core';\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\nimport { FieldType, FormlyModule } from '@ngx-formly/core';\nimport { FormlySelectModule } from '@ngx-formly/core/select';\nimport { FormlyNzFormFieldModule } from '@ngx-formly/ng-zorro-antd/form-field';\nimport { NzDrawerModule } from 'ng-zorro-antd/drawer';\nimport { NzSelectModule } from 'ng-zorro-antd/select';\n\n@Component({\n  selector: 'formly-field-drawer-link',\n  standalone: true,\n  imports: [\n    NzSelectModule,\n    CommonModule,\n    ReactiveFormsModule,\n    NzSelectModule,\n    FormlyNzFormFieldModule,\n    FormlySelectModule,\n    FormsModule,\n    FormlyModule,\n    NzDrawerModule\n  ],\n  template: `\n    <a class=\"font-sm\" (click)=\"openDrawer()\">{{ 'Xem chi tiết'}}</a>\n    <nz-drawer [nzVisible]=\"visible\" (nzOnClose)=\"visible = false\" [nzWidth]=\"700\">\n      <div *nzDrawerContent [innerHTML]=\"formControl.value\"></div>\n    </nz-drawer>\n`,\n})\nexport class FormlyFieldDrawerLinkComponent extends FieldType {\n  visible: boolean = false;\n\n  openDrawer(): void {\n    this.visible = true;\n  }\n\n  closeDrawer(): void {\n    this.visible = false;\n  }\n}","import { HTTP_INTERCEPTORS, HttpClientModule } from \"@angular/common/http\";\nimport { NgModule, inject } from \"@angular/core\";\nimport { BrowserModule } from \"@angular/platform-browser\";\nimport { AppComponent } from \"./app.component\";\nimport { AppRoutingModule } from \"./app.routing.module\";\nimport { AuthGuardService, ErrorHandlerInterceptor, HeaderInterceptor } from \"@icom/services/authenticate\";\nimport { IComMessageService, IconRegisterService } from \"@icom/services/common\";\nimport { NzModalService } from \"ng-zorro-antd/modal\";\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { FormlyModule } from '@ngx-formly/core';\nimport { ArrayTypeComponent, CollapseWrapperComponent, DropdownTableTypeComponent, EmailValidator, FormlyFieldColorPickerComponent, FormlyFieldCustomInputComponent, FormlyFieldDrawerLinkComponent, FormlyFieldNzInputNumber, FormlyFieldRadio, FormlyFieldSelect, FormlyFieldTextareaCustom, FormlyWrapperNzSelectTagsComponent, GridWrapperComponent, IcomLibsCoreComponentFormlyFieldSearchInput, IcomLibsCoreComponentsFormlyDatepicker, IcomLibsCoreComponentsFormlyPanelWrapperComponent, IcomLibsCoreComponentsFormlyQuillComponent, IcomLibsCoreComponentsFormlyRangepicker, IcomLibsCoreComponentsFormlyUploadComponent, MaxUploadFileSizerValidator, MaxValidatorMessageValidator, MultiCheckboxTypeComponent, NumberIntMessage, NumberIntMessageValidator, PasswordToggleWrapperComponent, PhoneNumberValidator, TypeUploadFileSizerMessage, TypeUploadFileSizerValidator, emailValidationMessage, fieldMatchValidator, matchingPasswordsValidator, maxUploadFileSize, maxValidatorMessage, minValidatorMessage, noWhitespaceMessage, noWhitespaceValidator, phoneNumberValidationMessage, uniqueSelection } from '@icom/components/formly';\nimport { NZ_I18N, en_US } from \"ng-zorro-antd/i18n\";\nimport { NZ_ICONS } from \"ng-zorro-antd/icon\";\nimport { ArrowLeftOutline, LogoutOutline, UserOutline, EditFill } from '@ant-design/icons-angular/icons';\nimport { NgxsModule } from \"@ngxs/store\";\nimport { ServiceWorkerModule } from '@angular/service-worker';\nimport { environment } from \"libs/core/environments/environment\";\n\nconst antDesignIcons = [ArrowLeftOutline, LogoutOutline, UserOutline, EditFill]\n\n@NgModule({\n\timports: [\n\t\tBrowserModule,\n\t\tHttpClientModule,\n\t\tAppRoutingModule,\n\t\tBrowserAnimationsModule,\n\t\tNgxsModule.forRoot([]),\n\t\tServiceWorkerModule.register('/ngsw-worker.js', { enabled: !environment.production }),\n\t\tFormlyModule.forRoot({\n\t\t\ttypes: [\n\t\t\t\t{ name: 'date', component: IcomLibsCoreComponentsFormlyDatepicker },\n\t\t\t\t{ name: 'icom-range-picker', component: IcomLibsCoreComponentsFormlyRangepicker },\n\t\t\t\t{ name: 'upload', component: IcomLibsCoreComponentsFormlyUploadComponent },\n\t\t\t\t{ name: 'quill-editor', component: IcomLibsCoreComponentsFormlyQuillComponent },\n\t\t\t\t{ name: 'array', component: ArrayTypeComponent },\n\t\t\t\t{\n\t\t\t\t\tname: 'select-custom',\n\t\t\t\t\tcomponent: FormlyFieldSelect,\n\t\t\t\t\twrappers: ['form-field'],\n\t\t\t\t},\n\t\t\t\t{ name: 'multi-checkbox', component: MultiCheckboxTypeComponent },\n\t\t\t\t{ name: 'search-input', component: IcomLibsCoreComponentFormlyFieldSearchInput },\n\t\t\t\t{\n\t\t\t\t\tname: 'color-picker',\n\t\t\t\t\tcomponent: FormlyFieldColorPickerComponent,\n\t\t\t\t\twrappers: ['form-field'],\n\t\t\t\t},\n\t\t\t\t{ name: 'dropdown-table', component: DropdownTableTypeComponent },\n\t\t\t\t{ name: 'nz-input-number', component: FormlyFieldNzInputNumber },\n\t\t\t\t{ name: 'tags', component: FormlyWrapperNzSelectTagsComponent},\n\t\t\t\t{ name: 'input-custom', component: FormlyFieldCustomInputComponent,\twrappers: ['form-field'], },\n\t\t\t\t{ name: 'radio-custom', component: FormlyFieldRadio,\twrappers: ['form-field'], },\n\t\t\t\t{ name: 'textarea-custom', component: FormlyFieldTextareaCustom,\twrappers: ['form-field'], },\n\t\t\t\t{ name: 'password-custom', component: PasswordToggleWrapperComponent },\n\t\t\t\t{\n          name: 'drawer-link',\n          component: FormlyFieldDrawerLinkComponent,\n          wrappers: ['form-field'], // Hoặc wrapper tùy chỉnh nếu bạn cần\n        },\n\t\t\t],\n\t\t\tvalidators: [\n\t\t\t\t{ name: 'email', validation: EmailValidator },\n\t\t\t\t{ name: 'phoneNumber', validation: PhoneNumberValidator },\n\t\t\t\t{ name: 'max-upload-file', validation: MaxUploadFileSizerValidator },\n\t\t\t\t{\n\t\t\t\t\tname: 'type-upload-file', validation: TypeUploadFileSizerValidator\n\t\t\t\t},\n\t\t\t\t{ name: 'max', validation: MaxValidatorMessageValidator },\n\t\t\t\t{ name: 'iniMin0', validation: NumberIntMessageValidator },\n\t\t\t\t{ name: 'fieldMatch', validation: fieldMatchValidator },\n\t\t\t\t{ name: 'noWhitespace', validation: noWhitespaceValidator },\n\t\t\t\t{ name: 'matchingPasswordsValidator', validation: matchingPasswordsValidator }\n\t\t\t],\n\t\t\tvalidationMessages: [\n\t\t\t\t{ name: 'required', message: 'Trường này là bắt buộc' },\n\t\t\t\t{ name: 'email', message: emailValidationMessage },\n\t\t\t\t{ name: 'phoneNumber', message: phoneNumberValidationMessage },\n\t\t\t\t{ name: 'max', message: maxValidatorMessage },\n\t\t\t\t{ name: 'min', message: minValidatorMessage },\n\t\t\t\t{ name: 'max-upload-file', message: maxUploadFileSize },\n\t\t\t\t{ name: 'type-upload-file', message: TypeUploadFileSizerMessage },\n\t\t\t\t{ name: 'iniMin0', message: NumberIntMessage },\n\t\t\t\t{ name: 'noWhitespaceMessage', message: noWhitespaceMessage },\n\t\t\t\t{ name: 'uniqueName', message: 'Tên này đã được sử dụng.' },\n\t\t\t\t{ name: 'startTimeInvalid', message: 'Thời gian kết thúc  không được nhỏ hơn thời gian bắt đầu' },\n\t\t\t\t{ name: 'startTimeInvalid5Minutes', message: 'Thời gian đến cần > Thời gian từ ít nhất là 5 phút.' },\n\t\t\t\t{ name: 'uniqueSelection', message: uniqueSelection}\n\t\t\t],\n\t\t\twrappers: [\n\t\t\t\t{ name: 'group', component: IcomLibsCoreComponentsFormlyPanelWrapperComponent },\n\t\t\t\t{ name: 'collapse', component: CollapseWrapperComponent },\n\t\t\t\t{ name: 'grid', component: GridWrapperComponent }\n\t\t\t],\n\t\t\textras: {\n\t\t\t\tresetFieldOnHide: false,\n\t\t\t},\n\t\t}),\n\t\tIcomLibsCoreComponentsFormlyRangepicker,\n\t\tIcomLibsCoreComponentsFormlyDatepicker,\n\t\tIcomLibsCoreComponentsFormlyQuillComponent,\n\t],\n\tdeclarations: [\n\t\tAppComponent,\n\n\t],\n\tproviders:\n\t\t[\n\t\t\tAuthGuardService, IComMessageService, NzModalService,\n\t\t\t{ provide: HTTP_INTERCEPTORS, useClass: HeaderInterceptor, multi: true },\n\t\t\t{\n\t\t\t\tprovide: HTTP_INTERCEPTORS,\n\t\t\t\tuseClass: ErrorHandlerInterceptor,\n\t\t\t\tmulti: true,\n\t\t\t},\n\t\t\t{ provide: NZ_I18N, useValue: en_US },\n\t\t\t{ provide: NZ_ICONS, useValue: antDesignIcons },\n\t\t],\n\n\tbootstrap: [AppComponent],\n})\nexport class AppModule {\n\tprotected iconRegister = inject(IconRegisterService);\n\tconstructor() {\n\t\tthis.iconRegister.loadIcons(['job', 'gift', 'point'], 'assets/icons');\n\t}\n}\n","import { ApplicationConfig, enableProdMode, importProvidersFrom } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport { ServiceWorkerModule } from '@angular/service-worker';\nimport { AppModule } from './app/app.module';\nimport { NgxsModule } from '@ngxs/store';\nimport { environment } from 'libs/core/environments/environment';\n// import { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\n// if ('serviceWorker' in navigator) {\n//   window.addEventListener('load', () => {\n//     navigator.serviceWorker.register('/ngsw-worker.js');\n//   });\n// // }\n// }\n\n\nexport const appConfig: any = {\n  providers: [\n    // importProvidersFrom(\n    //   ServiceWorkerModule.register('ngsw-worker.js', {\n    //     enabled: true,\n    //     registrationStrategy: 'registerWhenStable:30000'\n    //   }),\n    // ),\n    importProvidersFrom(NgxsModule.forRoot([], {developmentMode: !environment.production})),\n  ]\n};\n\nplatformBrowserDynamic()\n\t.bootstrapModule(AppModule, appConfig)\n\t.catch((err) => console.error(err));\n","export class DefineKey {\n  public static readonly KEY_MENU = \"menu\";\n  public static readonly FUNCTIONS = 'functions'\n  public static readonly PERMISSIONS = 'permission';\n}","import { PipeTransform } from \"@angular/core\";\nimport { FormArray, FormControl, FormGroup } from \"@angular/forms\";\nimport * as dayjs from 'dayjs';\n\nexport const formatDatePipe = (): PipeTransform => {\n  return {\n    transform(time: string) {\n      if (!time) {\n        return '-';\n      }\n      return dayjs(time).format('DD/MM/YYYY HH:mm');\n    },\n  }\n}\n\nexport const defaultValuePipe = (): PipeTransform => {\n  return {\n    transform(value: string) {\n      if (!value) {\n        return '-';\n      }\n      return value;\n    },\n  }\n}\n\nexport const convertKeysToLowerCase = (data: any): any => {\n  if (Array.isArray(data)) {\n    return data.map((item: any) => convertKeysToLowerCase(item));\n  } else if (typeof data === 'object' && data !== null) {\n    const lowercaseData: any = {};\n    for (const key in data) {\n      if (Object.prototype.hasOwnProperty.call(data, key)) {\n        const newKey = key.replace(/([A-Z])/g, '_$1').toLowerCase();\n        lowercaseData[newKey] = convertKeysToLowerCase(data[key]);\n      }\n    }\n    return lowercaseData;\n  } else {\n    return data;\n  }\n}\n\nexport const parseDateRangeToTwoKey = (data: any, keys?: string, format?: string) => {\n  let keysParse = ['start_time', 'end_time'];\n  if (keys) {\n    keysParse = keys.split(',');\n  }\n  const [keyStart, keyEnd] = keysParse;\n  if (!data.date_range || !data.date_range.length) {\n    return;\n  }\n  const dataRange = data.date_range;\n  const [start, end] = dataRange;\n  if (start instanceof String && end instanceof String) {\n    return;\n  }\n\n  const obj = {\n    [keyStart]: dayjs(start),\n    [keyEnd]: dayjs(end)\n  };\n  data[keyStart] = obj[keyStart];\n  data[keyEnd] = obj[keyEnd];\n  delete data.date_range;\n}\n\nexport const parseDateRangeDayMonthYearToTwoKey = (data: any, keys?: string, format?: string) => {\n  let keysParse = ['start_time', 'end_time'];\n  if (keys) {\n    keysParse = keys.split(',');\n  }\n  const [keyStart, keyEnd] = keysParse;\n  if (!data.date_range || !data.date_range.length) {\n    return;\n  }\n  const dataRange = data.date_range;\n  const [start, end] = dataRange;\n  if (start instanceof String && end instanceof String) {\n    return;\n  }\n\n  const obj = {\n    [keyStart]: dayjs(start).format('YYYY-MM-DDT00:00:00') + 'Z',\n    [keyEnd]: dayjs(end).format('YYYY-MM-DDT00:00:00') + 'Z'\n  };\n  data[keyStart] = obj[keyStart];\n  data[keyEnd] = obj[keyEnd];\n  delete data.date_range;\n}\n\n\nexport const formatNumber = (value: string | number): string => {\n\n  // if (lang === LANGUAGE.EN) {\n  //   return `${value}`.replace(/[,]/g, '');\n  // }\n\n  return `${value}`.replace(/[.]/g, '').replace(/[,]/g, '.');\n};\n\nexport const mergeObjects = (obj1: any, obj2: any) => {\n  for (const key in obj1) {\n    // if (obj2.hasOwnProperty(key)) {\n    //   if (obj1.hasOwnProperty(key)) {\n    obj2[key] = obj1[key];\n    // } else {\n    //   obj1[key] = obj2[key];\n    // }\n    // }\n  }\n}\n\nexport const markFormGroupTouched = (formGroup: FormGroup) => {\n  Object.values(formGroup.controls).forEach(control => {\n    control.markAsTouched();\n\n    if (control instanceof FormGroup) {\n      markFormGroupTouched(control);\n    } else if (control instanceof FormArray) {\n      (control as any).controls.forEach((c: any) => {\n        if (c instanceof FormGroup) {\n          markFormGroupTouched(c);\n        } else if (c instanceof FormControl) {\n          c.markAsTouched();\n        }\n      });\n    }\n  });\n}\n\nexport const uploadFile = (request: string, file_name: string, IComMessageService: any, data?: any, keepFileName?: boolean, ignoreParseTime?: boolean) => {\n  const xhr = new XMLHttpRequest();\n\n  xhr.open('POST', request, true);\n  xhr.responseType = 'blob';\n  let token = localStorage?.getItem('token');\n  while(token?.includes('\"')){\n    token = token?.replace('\"', \"\");\n }\n  xhr.setRequestHeader(\"Authorization\", `Bearer ${token}`);\n  xhr.onload = () => {\n    if (xhr.status === 200) {\n      const blob = new Blob([xhr.response], { type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' });\n      const downloadUrl = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      const contentDisposition = xhr.getResponseHeader('Content-Disposition');\n      let dateString = '';\n      if(!keepFileName) {\n        const currentDate = new Date();\n        dateString = `${currentDate.getDate()}_${currentDate.getMonth() + 1}_${currentDate.getFullYear()}`;\n      }\n      let filename = `${file_name}_${dateString}`;\n      if (contentDisposition) {\n        const filenameRegex = /filename[^;=\\n]*=((['\"]).*?\\2|[^;\\n]*)/;\n        const matches = filenameRegex.exec(contentDisposition);\n        if (matches != null && matches[1]) {\n          filename = matches[1].replace(/['\"]/g, '');\n        }\n      }\n\n      a.href = downloadUrl;\n      a.download = filename;  // Tên tệp xuất\n      document.body.appendChild(a);\n      a.click();\n\n      URL.revokeObjectURL(downloadUrl);\n      document.body.removeChild(a);\n      IComMessageService.showAlertMessageDone('Tải file thành công.');\n    } else {\n      IComMessageService.showAlertMessageDone('Tải file thất bại.');\n    }\n  };\n\n  xhr.onerror = function () {\n    console.error('Request error');\n  };\n\n  xhr.setRequestHeader('Content-Type', 'application/json');\n  data && ignoreParseTime && parseDateRangeDayMonthYearToTwoKey(data);\n  xhr.send(JSON.stringify(data));\n}","import { IEnvironment } from \"./environment.model\";\n\nexport const environment: IEnvironment = {\n\tproduction: false,\n\tmodule: \"ep\",\n\tapiGetFileStatic: \"https://api.sandbox.mypoint.com.vn/\",\n\tapiGatewayUrl: \"https://api.sandbox.evnpoint.com/20984/\",\n\tmerchantUrl: 'http://222.252.26.153:9355/v1/',\n\tsuffixCampaign: \"gup2start/admin/rest/campaign-service/api/v2.0/\",\n\tsuffixCampaignV3: \"gup2start/admin/rest/campaign-service-v3/api/v3.0/\",\n\tsuffixOrder: \"gup2start/admin/rest/order/api/v1.0/\",\n\tsuffixDynamicHome: \"gup2start/admin/rest/dynamic-home/api\",\n\tsuffixProduct: \"gup2start/admin/rest/product/api/\",\n\tsuffixAdmin: \"/gup2start/admin/rest/user/api/\",\n\tsuffixIam: \"gup2start/rest/iam/\",\n};\n","import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot } from '@angular/router';\nimport { Observable, of } from 'rxjs';\nimport jwt_decode from 'jwt-decode';\n\n@Injectable()\nexport class AuthGuardService implements CanActivate {\n  constructor(private router: Router) {}\n\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean> {\n    const url = state.url;\n    const token = localStorage.getItem('token');\n\n    if (!token) {\n      if (url !== '/login') {\n        this.router.navigate(['/login']);\n        localStorage.removeItem('token');\n      }\n      return of(false);\n    }\n    try {\n      const role = jwt_decode<any>(token).role;\n      const isAuthorized = role === 'cms_admin' || role === 'root_user';\n      if (!isAuthorized) {\n        // Redirect only if the current URL is not the login page\n        if (url !== '/login') {\n          this.router.navigate(['/login']);\n          localStorage.removeItem('token');\n        }\n        return of(false);\n      }\n      return of(true);\n    } catch (error) {\n      if (url !== '/login') {\n        this.router.navigate(['/login']);\n        localStorage.removeItem('token');\n      }\n      return of(false);\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { CanActivate, Router } from '@angular/router';\n\n@Injectable({\n\tprovidedIn: 'root',\n})\nexport class ResolveLoginSuccessGuardService implements CanActivate {\n\tconstructor(private route: Router) { }\n\n\tcanActivate() {\n\t\tconst token = localStorage.getItem('token') || null;\n\t\tconst isLogged = token != null ? true : false;\n\t\tif (isLogged) {\n\t\t\tthis.route.navigate(['/']);\n\t\t\treturn false;\n\t\t} else {\n\t\t\treturn true;\n\t\t}\n\t}\n}\n","import { HttpEvent, HttpHandler, HttpInterceptor, HttpRequest } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { finalize, tap } from 'rxjs/operators';\nimport { LocalStorageService} from './local-storage.service';\n@Injectable()\nexport class HeaderInterceptor implements HttpInterceptor {\n\tconstructor(private localStorageService: LocalStorageService) { }\n\n\tintercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n\t\tconst hideloader = request.headers.has('hideloader');\n\t\tif (hideloader) {\n\t\t\tconst headers = request.headers.delete('hideloader');\n\t\t\trequest = request.clone({ headers });\n\t\t} else {\n\t\t\t// this.loader.showSpinner();\n\t\t}\n\t\t// add authorization header with basic auth credentials if available\n\t\tlet token = this.localStorageService.getItem('token') || null;\n\t\tconst isMerchantService = request.headers.has('isMerchantService');\n\t\tif (isMerchantService) {\n\t\t\ttoken = this.localStorageService.getItem('merchantToken') || null;\n\t\t}\n\t\tif (token) {\n\t\t\trequest = request.clone({\n\t\t\t\turl: request.url,\n\t\t\t\theaders: request.headers\n\t\t\t\t\t.set('Authorization', 'Bearer ' + `${token}`)\n\t\t\t\t\t.delete('isMerchantService', 'yes'),\n\t\t\t});\n\t\t\tif (!request.headers.has('Content-Type')) {\n\t\t\t\trequest = request.clone({\n\t\t\t\t\turl: request.url,\n\t\t\t\t\theaders: request.headers.set('content-type', 'application/json')\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (request.headers.get('Content-Type') === 'clear') {\n\t\t\t\trequest = request.clone({\n\t\t\t\t\turl: request.url,\n\t\t\t\t\theaders: request.headers.delete('Content-Type', 'clear'),\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\treturn next.handle(request).pipe(\n\t\t\ttap((data) => data),\n\t\t\tfinalize(() => {\n\t\t\t\t// this.loader.hideSpinner();\n\t\t\t})\n\t\t);\n\t}\n}\n","import { HttpErrorResponse, HttpEvent, HttpHandler, HttpInterceptor, HttpRequest, HttpStatusCode } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\nimport { IcomLibsProjectLoginService } from '../projects/iam/login.service';\nimport { IComMessageService } from '../common';\n\n@Injectable()\nexport class ErrorHandlerInterceptor implements HttpInterceptor {\n\tconstructor(\n\t\tprivate authService: IcomLibsProjectLoginService,\n\t\tprivate iComMessageService: IComMessageService\n\t\t) { }\n\n\tintercept(request: HttpRequest<unknown>, next: HttpHandler): Observable<HttpEvent<unknown>> {\n\t\treturn next.handle(request).pipe(\n\t\t\tcatchError((error) => {\n\t\t\t\treturn this.errorHandler(error);\n\t\t\t})\n\t\t);\n\t}\n\n\tprivate errorHandler(errorResponse: HttpErrorResponse): Observable<HttpEvent<unknown>> {\n\t\tif (errorResponse instanceof HttpErrorResponse) {\n\t\t\t// if (errorResponse.status === HttpStatusCode.InternalServerError) {\n\t\t\t// \tconsole.log(' vo')\n\t\t\t// \tthis.iComMessageService.showAlertMessageError('Có lỗi kết nối với server.')\n\t\t\t// }\n\t\t\tif (errorResponse.status === HttpStatusCode.Unauthorized) {\n\t\t\t\tthis.authService.logout();\n\t\t\t}\n\t\t}\n\t\tthrow errorResponse;\n\t}\n}\n","import { Injectable, inject } from '@angular/core';\nimport { CanActivateChild, ActivatedRouteSnapshot, RouterStateSnapshot, Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { LocalStorageService } from './local-storage.service';\nimport { ISubModuleAction } from '@icom/interfaces';\n\ninterface Module {\n  sub_modules?: SubModule[];\n}\n\ninterface SubModule {\n  path: string;\n  actions: Action[];\n}\n\ninterface Action {\n  selected: boolean;\n  id?: string;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\n\n\n\nexport class AccessGuard implements CanActivateChild {\n  private localStorageService = inject(LocalStorageService);\n  private modules = this.localStorageService.getItem('permission');\n\n  constructor(private router: Router) { }\n\n  canActivateChild(\n    next: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot): Observable<boolean> | Promise<boolean> | boolean {\n    const targetUrl = state.url;\n    if (targetUrl === '/user/change-password') {\n      return true;\n    }\n    if (targetUrl === '/home') {\n      return true;\n    }\n    // const hasAccess = this.checkAccess(targetUrl);\n\n    // if (!hasAccess) {\n    //   const redirectUrl = this.findAccessiblePath();\n    //   if (redirectUrl) {\n    //     this.router.navigate([redirectUrl]);\n    //   } else {\n    //     this.router.navigate(['/404']); // Chuyển hướng đến trang 404\n    //   }\n    //   return false;\n    // }\n    // console.log('vao')\n    return true;\n  }\n\n  private checkAccess(url: string): boolean {\n    if (url.includes('detail')) {\n      const baseurl = url.replace('detail', '');\n\n      return this.modules?.some((module: Module) =>\n        module.sub_modules?.some((group: SubModule) =>\n          baseurl.includes(group.path) &&\n          group.actions.some((action: ISubModuleAction) => action.code === 'view' && action.selected)\n        )\n      ) || false;\n    } else {\n      return this.modules?.some((module: Module) =>\n        module.sub_modules?.some((group: SubModule) =>\n          group.path === url &&\n          group.actions.some(action => action.selected)\n        )\n      ) || false;\n    }\n  }\n\n  private findAccessiblePath(): string | null {\n    for (const module of this.modules) {\n      for (const group of module.sub_modules) {\n        if (group.actions.some((action: any) => action.selected)) {\n          return group.path;\n        }\n      }\n    }\n    return null;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { CanActivate, Router } from '@angular/router';\nimport { environment } from '../../environments/environment';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ModuleEpointGuard implements CanActivate {\n  constructor(private router: Router) {}\n\n  canActivate(): boolean {\n    if (environment?.module === 'ep') {\n      return false;\n    }\n    return true;\n  }\n}","import { Injectable } from '@angular/core';\nimport jwt_decode from 'jwt-decode';\n\n@Injectable({ providedIn: 'root' })\nexport class LocalStorageService {\n\tpublic setItem(key: string, data: unknown): void {\n\t\tlocalStorage.setItem(key, JSON.stringify(data));\n\t}\n\n\tpublic getItem(key: string) {\n\t\tconst value = localStorage.getItem(key) ?? '';\n\t\treturn value ? JSON.parse(value) : null;\n\t}\n\n\tpublic getTokenData(): any {\n\t\tconst value = localStorage.getItem('token') ?? '';\n\t\ttry {\n\t\t\treturn jwt_decode(value);\n\t\t  } catch(Error) {\n\t\t\treturn null;\n\t\t  }\n\t}\n\n\n\tpublic removeItem(key: string): void {\n\t\tlocalStorage.removeItem(key);\n\t}\n\n\tpublic clear() {\n\t\tlocalStorage.clear();\n\t}\n\n\tclearAllLocalStorage() {\n\t\tlocalStorage.clear();\n\t}\n}\n","import { Injectable, inject } from '@angular/core';\nimport { LocalStorageService } from './local-storage.service';\nimport { NzNotificationService } from 'ng-zorro-antd/notification';\nimport { DefineKey } from '@icom/defines';\nimport { IIcomLibsCoreAction, IIcomLibsCoreModuleFunction } from '../../components/login/src/login/interfaces/login.interface';\nimport { Router } from '@angular/router';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PermissionService {\n  private functions: IIcomLibsCoreModuleFunction[];\n  private permission!: any;\n\n  constructor(private notificationService: NzNotificationService,\n    private router: Router) {\n    const localStorageService = inject(LocalStorageService);\n    this.functions = localStorageService.getItem(DefineKey.FUNCTIONS) || [];\n    const actions = this.functions.filter(m => location.pathname.includes(m.path || ''));\n    if (!actions) {\n      this.showNotification('No action found');\n      this.permission = {};\n    }\n\n    this.permission = actions?.reduce((acc, action) => {\n      action.code &&   ((acc as any)[action.code] = action.selected || false);\n      return acc;\n    }, {}) || {};\n  }\n\n\n  private showNotification(message: string): void {\n    this.notificationService.error('Permission Denied', message);\n  }\n\n  getPermission(key: string): boolean {\n    return this.permission?.[key] || false;\n  }\n}\n","import { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Params } from '@angular/router';\nimport { Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ApiService {\n  private pathArray: string[] = [];\n  private delay: number = 1000; // Delay set to 1000 milliseconds\n  \n  // constructor(private http: HttpClient) {\n  //   window.addEventListener('click', () => {\n  //     this.pathArray.length = 0;\n  //   });\n  // }\n\n  constructor(private http: HttpClient) {\n    // Add keydown event listener to listen for spacebar events\n    window.addEventListener('keydown', this.handleSpacebar.bind(this));\n  }\n\n  private handleSpacebar(event: KeyboardEvent): void {\n    // Check if the pressed key is 'Space'\n    if (event.code === 'Space' || event.keyCode === 32) {\n      this.pathArray.length = 0;\n    }\n  }\n\n\n  private printPathAndMethod(method: string, path: string): void {\n    const print = `${method} : ${path}`;\n    this.pathArray.push(print);\n    // console.log(this.pathArray);\n  }\n\n  private pushPathWithDelay(method: string, path: string): void {\n    setTimeout(() => {\n      \n      this.printPathAndMethod(method, path);\n    }, this.delay);\n  }\n\n  get<T>(path: string, queryParams: Params = {}, headers = {}): Observable<T> {\n    this.pushPathWithDelay('GET', path);\n    let params: Params = {};\n    if (queryParams) {\n      params = this.setParameter(queryParams);\n    }\n    headers = this.customHeaders(headers);\n    return this.http.get<T>(this.path(path), { headers: headers, params });\n  }\n\n  put<T>(path: string, payload = {}, headers = {}): Observable<T> {\n    this.pushPathWithDelay('PUT', path);\n    headers = this.customHeaders(headers);\n    return this.http.put<T>(this.path(path), payload, { headers: headers });\n  }\n\n  post<T>(path: string, payload = {}, headers = {}, queryParams: Params = {}): Observable<T> {\n    this.pushPathWithDelay('POST', path);\n    let params: Params = {};\n    if (queryParams) {\n      params = this.setParameter(queryParams);\n    }\n    headers = this.customHeaders(headers);\n    return this.http.post<T>(this.path(path), payload, { headers: headers, params });\n  }\n\n  patch<T>(path: string, payload = {}, headers = {}, queryParams: Params = {}): Observable<T> {\n    this.pushPathWithDelay('PATCH', path);\n    let params: Params = {};\n    if (queryParams) {\n      params = this.setParameter(queryParams);\n    }\n    headers = this.customHeaders(headers);\n    return this.http.patch<T>(this.path(path), payload, { headers: headers, params });\n  }\n\n  delete<T>(path: string, headers = {}): Observable<T> {\n    this.pushPathWithDelay('DELETE', path);\n    headers = this.customHeaders(headers);\n    return this.http.delete<T>(this.path(path), { headers: headers });\n  }\n\n  private customHeaders(customHeaders: any = {}): HttpHeaders {\n    let headers = new HttpHeaders();\n    for (const key in customHeaders) {\n      if (key && customHeaders[key] !== undefined && customHeaders[key] !== null) {\n        headers = headers.append(key, customHeaders[key]);\n      }\n    }\n    return headers;\n  }\n\n  private setParameter(routerParams: Params): HttpParams {\n    let queryParams = new HttpParams();\n    for (const key in routerParams) {\n      if (key && routerParams[key] !== undefined && routerParams[key] !== null) {\n        queryParams = queryParams.set(key, routerParams[key]);\n      }\n    }\n    return queryParams;\n  }\n\n  private path(path: string): string {\n    // The actual implementation should use an environment configuration\n    // to construct the full URL to the backend service\n    return `${path}`;\n  }\n\n  getPathArray(): string[] {\n    return this.pathArray;\n  }\n\n}","import { DestroyRef, inject, Injectable } from '@angular/core';\nimport { takeUntilDestroyed } from '@angular/core/rxjs-interop';\nimport { NavigationEnd, Router } from '@angular/router';\nimport { filter } from 'rxjs/operators';\n\nimport { NzSafeAny } from 'ng-zorro-antd/core/types';\nimport { NzMessageService } from 'ng-zorro-antd/message';\nimport { NzModalRef, NzModalService } from 'ng-zorro-antd/modal';\nimport { ModalOptions } from 'ng-zorro-antd/modal/modal-types';\n\nexport const enum MessageType {\n  Info = 'info',\n  Error = 'error',\n  Warning = 'warning',\n  Success = 'success',\n  Confirm = 'confirm',\n  Loading = 'loading'\n}\n\nexport const enum MessageCallback {\n  Cancel = 'onCancel',\n  Ok = 'onOk'\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class IComMessageService {\n  modalCtrl: NzModalRef[] = [];\n  destroyRef = inject(DestroyRef);\n  constructor(private nzModalService: NzModalService, private router: Router, private toastService: NzMessageService) {\n    this.router.events\n      .pipe(\n        filter((event: NzSafeAny) => event instanceof NavigationEnd),\n        takeUntilDestroyed()\n      )\n      .subscribe((event: NzSafeAny) => {\n        for (let i = 0, len = this.modalCtrl.length; i < len; i++) {\n          this.modalCtrl[i].destroy(MessageCallback.Cancel);\n        }\n        this.modalCtrl = [];\n      });\n  }\n\n  public showModalByStatus(title: string, message: string, type: MessageType = MessageType.Info): void {\n    let modalRef: NzModalRef;\n    const options: ModalOptions = {\n      nzTitle: title,\n      nzContent: message,\n      nzOnOk: () => {\n        modalRef.destroy(MessageCallback.Ok);\n      },\n      nzOnCancel: () => {\n        modalRef.destroy(MessageCallback.Cancel);\n      }\n    };\n    if (type === MessageType.Info) {\n      options.nzTitle = options.nzTitle || '信息提示';\n      modalRef = this.nzModalService.info(options);\n    } else if (type === MessageType.Success) {\n      options.nzTitle = options.nzTitle || '成功提示';\n      modalRef = this.nzModalService.success(options);\n    } else if (type === MessageType.Error) {\n      options.nzTitle = options.nzTitle || '失败提示';\n      modalRef = this.nzModalService.error(options);\n    } else if (type === MessageType.Warning) {\n      options.nzTitle = options.nzTitle || '警告提示';\n      modalRef = this.nzModalService.warning(options);\n    } else if (type === MessageType.Confirm) {\n      options.nzTitle = options.nzTitle || '确认提示';\n      modalRef = this.nzModalService.confirm(options);\n    }\n    this.modalCtrl.push(modalRef!);\n    modalRef!.afterClose.pipe(takeUntilDestroyed(this.destroyRef)).subscribe(() => {\n      for (let i = 0, len = this.modalCtrl.length; i < len; i++) {\n        if (this.modalCtrl[i] === modalRef) {\n          this.modalCtrl.splice(i, 1);\n          break;\n        }\n      }\n    });\n  }\n\n  public showAlertMessageDone(title: string): void {\n    this.toastService.success(title)\n  }\n\n  public showAlertMessageError(title: string): void {\n    this.toastService.error(title)\n  }\n}\n","import { filter } from 'lodash';\n\nimport { Injectable } from \"@angular/core\";\nimport { Observable, map } from \"rxjs\";\nimport { environment } from \"../../../environments/environment\";\nimport { ApiService } from \"../../common/http.service\";\n\n@Injectable({\n  providedIn: 'root',\n})\n\nexport class IComLibsServicesProjectDynamicHomeService {\n  constructor(private apiService: ApiService) {\n  }\n\n  create(data: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixDynamicHome}/v1.0/sections/`, data) as Observable<any>;\n  }\n\n  edit(data: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixDynamicHome}/v1.0/sections/${data.id}`, data) as Observable<any>;\n  }\n\n  delete(id: any): Observable<any> {\n    return this.apiService.delete(`${environment.apiGatewayUrl}${environment.suffixDynamicHome}/v1.0/sections/${id}`) as Observable<any>;\n  }\n\n  detail(id: any): Observable<any> {\n    return this.apiService.get(`${environment.apiGatewayUrl}${environment.suffixDynamicHome}/v1.0/sections/${id}`) as Observable<any>;\n  }\n\n  list(filter: any): Observable<any> {\n    return this.apiService.get(`${environment.apiGatewayUrl}${environment.suffixDynamicHome}/v1.0/sections`, filter) as Observable<any>;\n  }\n\n  sortField(id: number, order: number): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixDynamicHome}/v1.0/sections/${id}/sort`, { new_order: order }) as Observable<any>;\n  }\n\n\n  listContentType(filter: any): Observable<any> {\n    return this.apiService.get(`${environment.apiGatewayUrl}${environment.suffixDynamicHome}/v1.0/sections/content-types`,filter) as Observable<any>;\n  }\n\n  listLayoutByContentType(filter: any): Observable<any> {\n    return this.apiService.get(`${environment.apiGatewayUrl}${environment.suffixDynamicHome}/v1.0/sections/layouts`, filter) as Observable<any>;\n  }\n\n  listStatusByContentType(filter: any): Observable<any> {\n    return this.apiService.get(`${environment.apiGatewayUrl}${environment.suffixDynamicHome}/v1.0/sections/content-status-name`, filter) as Observable<any>;\n  }\n\n  listMembersShip(): Observable<any> {\n    return this.apiService.get(`${environment.apiGatewayUrl}${environment.suffixDynamicHome}/v1.0/sections/memberships`) as Observable<any>;\n  }\n\n  listCity(): Observable<any> {\n    return this.apiService.get(`${environment.apiGatewayUrl}${environment.suffixDynamicHome}/v1.0/sections/cities`) as Observable<any>;\n  }\n}\n\n","import { filter } from 'lodash';\n\nimport { Injectable } from \"@angular/core\";\nimport { Observable, map } from \"rxjs\";\nimport { environment } from \"../../../environments/environment\";\nimport { ApiService } from \"../../common/http.service\";\n\n@Injectable({\n  providedIn: 'root',\n})\n\nexport class IComLibsServicesProjectFlashSaleService {\n  constructor(private apiService: ApiService) {\n  }\n\n  create(data: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/flashsale/general`, data) as Observable<any>;\n  }\n\n  edit(data: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/flashsale/general`, data) as Observable<any>;\n  }\n\n  delete(id: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/flashsale/delete`, { _id: id }) as Observable<any>;\n  }\n\n  detail(id: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/flashsale/detail`, { _id: id }) as Observable<any>;\n  }\n\n  voucherList(filter: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/flashsale/voucher/list`, filter) as Observable<any>;\n  }\n\n  list(filter: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/flashsale/list`, filter) as Observable<any>;\n  }\n\n  listGroup(filter: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/flashsale/group/list`, filter) as Observable<any>;\n  }\n\n\n  deleteGroup(filter: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/flashsale/group/delete`, filter) as Observable<any>;\n  }\n\n  addGroup(filter: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/flashsale/group/general`, filter) as Observable<any>;\n  }\n\n  editGroup(filter: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/flashsale/group/general`, filter) as Observable<any>;\n  }\n\n  sortField(id: number, order: number): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/v1.0/sections/${id}/sort`, { new_order: order }) as Observable<any>;\n  }\n\n  transactionList(filter: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/flashsale/voucher/transaction/list`, filter) as Observable<any>;\n  }\n\n  uploadVoucher(filter: any) {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/flashsale/voucher/import`, filter, {\n      'Content-Type': 'clear'\n    }) as Observable<any>;\n  }\n  downloadFileVoucher() {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/flashsale/voucher/examfile`) as Observable<any>;\n  }\n\n  changeStatusActive(filter: any){\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/flashsale/active`, filter) as Observable<any>;\n  }\n\n  changeStatusInactive(filter: any){\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/flashsale/inactive`, filter) as Observable<any>;\n  }\n}\n\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Observable, finalize, map } from 'rxjs';\nimport { IUserLogin } from '../../../interfaces/projects/iam/login.interface';\nimport { environment } from '../../../environments/environment';\nimport { LocalStorageService } from '../../authenticate/local-storage.service';\n\n@Injectable({\n\tprovidedIn: 'root',\n})\nexport class IcomLibsProjectLoginService {\n\tconstructor(private http: HttpClient, private readonly router: Router, private localStorageService: LocalStorageService) { }\n\n\tlogin(body: IUserLogin) {\n\t\treturn this.http.post(`${environment.apiGatewayUrl}${environment.suffixIam}v1/authentication/login`, body);\n\t}\n\n\tloginMerchant(body: IUserLogin) {\n\t\treturn this.http.post(`${environment.merchantUrl}oauth/token`, body, {\n\t\t\theaders: new HttpHeaders({\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'Authorization': 'Basic MTIzOjEyMw==',\n\t\t\t})\n\t\t}).pipe(finalize(() => { }));\n\t}\n\n\tlogout() {\n\t\tthis.localStorageService.removeItem(\"token\");\n\t\tthis.localStorageService.removeItem(\"merchantToken\");\n\t\twindow.location.href = '/login'\n\t}\n\n\tgetRefreshToken(refreshToken: string) {\n\t\tconst body = `grant_type=refresh_token&client_id=&refresh_token=${refreshToken}\n        &client_secret=`;\n\t\treturn this.http.post(`${environment.apiGatewayUrl}gup2start/rest/iam/v1/authentication/login`, body, {\n\t\t\theaders: new HttpHeaders({\n\t\t\t\t'Content-Type': 'application/x-www-form-urlencoded'\n\t\t\t})\n\t\t}).pipe(map((result: any) => {\n\t\t\treturn result.refresh_token;\n\t\t})) as Observable<string>;\n\t}\n}\n","import { Injectable } from \"@angular/core\";\nimport { Observable, map } from \"rxjs\";\nimport { ApiService } from \"../../common/http.service\";\nimport { IProduct, IProductConfig, IProductDiscount, IProductLanguage, IProductPrice, IProductProperties } from \"@icom/interfaces\";\nimport { environment } from \"../../../environments/environment\";\n\n@Injectable({\n  providedIn: 'root',\n})\n\nexport class IComLibsServicesProductService {\n  constructor(private apiService: ApiService) { }\n\n  createProduct(body = {}) {\n    return this.apiService.post(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/products`, body);\n  }\n  \n\n  updateProduct(id: number, body = {}) {\n    return this.apiService.put(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/products/${id}`, body);\n  }\n\n  deleteProduct(id: string | number) {\n    return this.apiService.delete(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/products/${id}`);\n  }\n\n  getProduct(productId: number): Observable<IProduct> {\n    return this.apiService.get(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/products/${productId}`).pipe(\n      map((res: any) => {\n        const data = res ? res?.data : null;\n        if (!data) return data;\n        return data;\n      })\n    );\n  }\n\n  addLanguageProduct(body = {}) {\n    return this.apiService.post(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/product-contents`, body);\n  }\n\n  updateLanguageProduct(body = {} as any) {\n    return this.apiService.put(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/product-contents/${body.id}`, body);\n  }\n\n  deleteProductLanguage(id: string | number) {\n    return this.apiService.delete(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/product-contents/${id}`);\n  }\n\n  getProductLanguage(id: string | number): Observable<any> {\n    return this.apiService.get(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/products/${id}/contents`)\n  }\n\n  addMediaProduct(body = {}) {\n    return this.apiService.post(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/product-medias`, body);\n  }\n\n  updateMediaProduct(body = {} as any): Observable<any> {\n    return this.apiService.put(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/product-medias/${body.id}`, body);\n  }\n\n  uploadMediaProduct(body = {} as any): Observable<any>  {\n    return this.apiService.post(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/product-medias/upload/images`, body, \n    {\n      'Content-Type': 'clear'\n    });\n  }\n\n  deleteProductMedia(id: string | number): Observable<any> {\n    return this.apiService.delete(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/product-medias/${id}`);\n  }\n\n  getProductMedia(id: string | number): Observable<any> {\n    return this.apiService.get(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/products/${id}/medias`)\n  }\n\n\n  // for product price\n\n  createProductPrice(body = {}) {\n    return this.apiService.post(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/product-prices`, body);\n  }\n\n  updateProductPrice(body = {} as any) {\n    return this.apiService.put(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/product-prices/${body.id}`, body);\n  }\n\n\n  getProductPrice(productId?: number): Observable<IProductPrice> {\n    return this.apiService.get(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/products/${productId}/prices`).pipe(\n      map((res: any) => {\n        const data = res ? res?.data : null;\n        // if (!data) return data;\n        // const response: IProductPrice = {\n        //   id: data?.id,\n        //   payment_method: data?.payment_method,\n        //   product_id: data?.product_id,\n        //   purchase_cost: data?.purchase_cost,\n        //   sale_price: data?.sale_price\n        // }\n        return data;\n      })\n    );\n  }\n\n  searchProduct(body: any): Observable<any> {\n    // const params = { page: 1, limit: 99999 };\n    return this.apiService.get(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/products`, body) as Observable<any>;\n  }\n\n  getItemsBelongToInventoryProduct(idInventory?: string, idProduct?: string): Observable<any> {\n    const params = { page: 1, limit: 99999 };\n    return this.apiService.get(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/inventory/${idInventory}/products/${idProduct}/items`, params) as Observable<any>;\n  }\n\n  // for product discount \n  createProductDiscount(body = {}) {\n    return this.apiService.post(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/product-discounts`, body);\n  }\n\n  updateProductDiscount(body = {} as any) {\n    return this.apiService.put(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/product-discounts/${body.id}`, body);\n  }\n\n  getProductDiscount(productId?: number): Observable<IProductDiscount> {\n    return this.apiService.get(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/products/${productId}/discounts`).pipe(\n      map((res: any) => {\n        const data = res ? res?.data : null;\n        if (!data) return data;\n        const response: IProductDiscount = {\n          id: data?.id,\n          product_id: data?.product_id,\n          type: data?.type,\n          value: data?.value,\n          maximum_discount_amount: data?.maximum_discount_amount,\n          minimum_order_value: data?.minimum_order_value,\n          status: data?.status,\n          valid_from: data?.valid_from,\n          valid_until: data?.valid_until\n        }\n        return response;\n      })\n    );\n  }\n\n  // for product properties \n  createProductProperties(body = {}) {\n    return this.apiService.post(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/voucher-property`, body);\n  }\n\n  updateProductProperties(body = {} as any) {\n    return this.apiService.put(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/voucher-property`, body);\n  }\n\n  getProductProperties(productId?: number): Observable<IProductProperties> {\n    return this.apiService.get(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/voucher-property/${productId}`).pipe(\n      map((res: any) => {\n        const data = res ? res?.data : null;\n        if (!data) return data;\n        const response: IProductProperties = {\n          id: data?.id,\n          product_id: data?.product_id,\n          expiry_date: data?.expiry_date,\n          expiry_param: data?.expiry_date,\n          expiry_policy: data?.expiry_policy,\n          voucher_type: data?.voucher_type,\n          ...data\n        }\n        return response;\n      })\n    );\n  }\n\n  // for product config \n  createProductConfig(body = {}) {\n    return this.apiService.post(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/product-configs`, body);\n  }\n\n  updateProductConfig(body = {} as any) {\n    return this.apiService.put(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/product-configs/${body.id}`, body);\n  }\n\n\n  getProductConfig(productId?: number): Observable<IProductConfig> {\n    return this.apiService.get(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/products/${productId}/configs`).pipe(\n      map((res: any) => {\n        const data = res ? res?.data : null;\n        if (!data) return data;\n        const response: IProductConfig = {\n          id: data?.id,\n          product_id: data?.product_id,\n          type: data?.type,\n          value: data?.value,\n          name: data?.name\n        }\n        return response;\n      })\n    );\n  }\n\n  getOptionType(type: string): Observable<any> {\n    return this.apiService.get(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/enums/${type}`) as Observable<any>;\n  }\n\n  getBrand(orgId: string): Observable<any> {\n    const params = { page: 1, size: 99999 };\n    return this.apiService.get(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/merchants/orgs/${orgId}/brands`, params) as Observable<any>;\n  }\n\n  getStore(): Observable<any> {\n    const params = { page: 1, size: 99999 };\n    return this.apiService.get(`${environment.merchantUrl}store`, params, {\n      'isMerchantService': 'yes',\n    }) as Observable<any>;\n  }\n\n  getOrg(): Observable<any> {\n    const params = { page: 1, size: 99999 };\n    return this.apiService.get(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/merchants/orgs`, params) as Observable<any>;\n  }\n\n  getBrandByOrg(orgId?: string | number): Observable<any> {\n    const params = { page: 1, size: 99999 };\n    return this.apiService.get(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/merchants/orgs/${orgId}/brands`, params) as Observable<any>;\n  }\n\n  getStoreByBrand(brandId?: string | number): Observable<any> {\n    const params = { page: 1, size: 99999 };\n    return this.apiService.get(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/merchants/brands/${brandId}/stores`, params) as Observable<any>;\n  }\n\n  //for select\n\n  getCategoryForSelect(): Observable<any> {\n    const params = { page: 1, size: 99999 };\n    return this.apiService.get(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/categories`, params) as Observable<any>;\n  }\n\n  getCatalogForSelect(): Observable<any> {\n    const params = { page: 1, size: 99999 };\n    return this.apiService.get(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/catalogs`, params) as Observable<any>;\n  }\n\n  getGroupForSelect(): Observable<any> {\n    const params = { page: 1, size: 99999 };\n    return this.apiService.get(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/groups`, params) as Observable<any>;\n  }\n\n  getInventoryProducts(body: any): Observable<any> {\n    const params = { page: 1, size: 99999 };\n    return this.apiService.post(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/inventory-products`, body) as Observable<any>;\n  }\n\n  getProductInventories(id: string | number): Observable<any> {\n    return this.apiService.get(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/products/${id}/inventories`)\n  }\n\n  getProductFromCampaigns(): Observable<any> {\n    return this.apiService.get(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/vouchers/campaigns`)\n  }\n\n  filter = {\n    mode: 'search',\n    q: '',\n    limit: 99999,\n    offset: 0\n  }\n\n  getBrands(): Observable<any> {\n    return this.apiService.get(`${environment.apiGatewayUrl}${environment.suffixProduct}/v1.1/brands`, this.filter)\n  }  \n\n  getPointPartner(): Observable<any> {\n    return this.apiService.get(`${environment.apiGatewayUrl}${environment.suffixProduct}/v1.1/point-partners`, this.filter)\n  }  \n\n  getCampaign(): Observable<any> {\n    return this.apiService.get(`${environment.apiGatewayUrl}${environment.suffixProduct}/v1.1/achievements`, this.filter)\n  } \n\n  getSearchProduct(): Observable<any> {\n    return this.apiService.get(`${environment.apiGatewayUrl}${environment.suffixProduct}/v1.1/products/voucher/search`, this.filter)\n  } \n\n  getBanners(): Observable<any> {\n    return this.apiService.get(`${environment.apiGatewayUrl}${environment.suffixProduct}/v1.1/banners`, this.filter)\n  } \n  \n}\n","import { Injectable } from \"@angular/core\";\nimport { IInventory } from \"@icom/interfaces\";\nimport { environment } from \"../../../environments/environment\";\nimport { Observable, map } from \"rxjs\";\nimport { ApiService } from \"../../common/http.service\";\nimport { HttpHeaders } from \"@angular/common/http\";\n\n\n@Injectable({\n  providedIn: 'root',\n})\n\nexport class IComLibsServicesInventoryService {\n  constructor(private apiService: ApiService) { }\n\n  listInventory(body = {}): Observable<any> {\n    return this.apiService.get(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/inventories`, body);\n  }\n\n  listInventoryFlashSale(body = {}): Observable<any> {\n    return this.apiService.get(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/inventories-open`, body);\n  }\n\n  createInventory(body = {}) {\n    return this.apiService.post(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/inventories`, body);\n  }\n\n  updateInventory(id?: string, body = {}) {\n    return this.apiService.put(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/inventories/${id}`, body);\n  }\n\n  getInventory(id?: string): Observable<any> {\n    return this.apiService.get(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/inventories/${id}`);\n  }\n\n  searchInventory(): Observable<any> {\n    const params = { page: 1, limit: 99999 };\n    return this.apiService.get(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/inventories`, params) as Observable<any>;\n  }\n\n  import(body = {}) {\n    return this.apiService.post(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/inventory-product-items/import`, body);\n  }\n\n  save(body = {}) {\n    return this.apiService.post(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/inventory-product-items`, body);\n  }\n\n\n  searchProductInventory(productId: number | string): Observable<any> {\n    const params = { page: 1, limit: 99999 };\n    return this.apiService.get(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/products/${productId}/inventories`, params) as Observable<any>;\n  }\n\n  deleteInventory(id: string | number) {\n    return this.apiService.delete(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/inventories/${id}`);\n  }\n\n  getListProductOfInventory(inventoryId: string | number, params?: any): Observable<any> {\n    const paramsDefault = { page: 1, limit: 99999 };\n    return this.apiService.get(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0//inventory/${inventoryId}/products`,params || paramsDefault);\n  }\n\n\n  getListProductFlashSaleOfInventory(inventoryId: string | number, params?: any): Observable<any> {\n    const paramsDefault = { page: 1, limit: 99999 };\n    return this.apiService.get(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0//inventory/${inventoryId}/products-flashsale`,params || paramsDefault);\n  }\n\n\n  getListProductsInventories(body: any, params: any): Observable<any> {\n    return this.apiService.get(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/inventory/${params.inventory_id}/products/${params.product_id}/items`, body);\n  }\n\n  uploadFile(body: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/resource/file/csv/upload`, body,\n      {\n        'Content-Type': 'clear'\n      }\n    );\n\n  }\n\n  createTicket(body: any): Observable<any>  {\n    return this.apiService.post(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/inventories/transfer`, body);\n  }\n\n  listTicket(body: any): Observable<any>  {\n    return this.apiService.get(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/inventories/transfer`, body);\n  }\n\n  detailTicket(id: any): Observable<any>  {\n    return this.apiService.get(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/inventories/transfer/${id}`);\n  }\n\n  deleteTicket(id: string | number) {\n    return this.apiService.delete(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/inventories/transfer/${id}`);\n  }\n\n  updateTicket(id?: string, body = {}) {\n    return this.apiService.post(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/inventories/transfer/${id}`, body);\n  }\n\n  getQuantityProduct(body: any): Observable<any>  {\n    return this.apiService.post(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/product/inventories/quantity`, body);\n  }\n\n  getStatus(): Observable<any>  {\n    return this.apiService.get(`${environment.apiGatewayUrl}gup2start/admin/rest/product/api/v1.0/enums/INVENTORY_TRANSFER_TICKET_STATUS`);\n  }\n}\n\n","import { Injectable } from \"@angular/core\";\nimport { Observable } from \"rxjs\";\nimport { environment } from \"../../../environments/environment\";\nimport { ApiService } from \"../../common/http.service\";\nimport { HttpHeaders } from \"@angular/common/http\";\n\n@Injectable({\n  providedIn: 'root',\n})\n\nexport class IComLibsServicesProjectCampaignStatisticService {\n  constructor(private apiService: ApiService) { }\n\n  getSumRewardPointByCampaign(filter: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/statistic/count-user-reward`, filter);\n  }\n\n  getCountCustomerByCampaign(filter: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/statistic/user`, filter);\n  }\n\n  getListMissionByByCampaign(filter: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/statistic/mission-list`, filter);\n  }\n\n  getTotalRewardPointGroup(filter: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/statistic/total-rewardpoint-group`, filter);\n  }\n  \n  getListApiStatisticByPathCampaign(apiPath: string, filter?: any): Observable<any> {\n    const fullPath = `${environment.apiGatewayUrl}${environment.suffixCampaignV3}statistic${apiPath}`;\n    return this.apiService.post(fullPath, filter);\n  }\n\n  downloadFileTransactionDetail(): string {\n    return `${environment.apiGatewayUrl}${environment.suffixCampaignV3}/statistic/export/transaction-detail`;\n  }\n}\n\n","\nimport { Injectable } from \"@angular/core\";\nimport { Observable, map } from \"rxjs\";\nimport { environment } from \"../../../environments/environment\";\nimport { ApiService } from \"../../common/http.service\";\nimport { ICampaign, ICampaignConfig, ICampaignDiscount, ICampaignPrice, ICampaignTransaction } from \"../../../interfaces/projects/campaign/campaign.interface\";\n\n@Injectable({\n  providedIn: 'root',\n})\n\nexport class IComLibsServicesProjectCampaignService {\n  constructor(private apiService: ApiService) { }\n\n  listTransaction(body: any): Observable<any>  {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaign}statistics/transaction/list`, body); \n  }\n\n  detail(id: string) {\n    return this.apiService.get(`${environment.apiGatewayUrl}${environment.suffixCampaign}campaign/${id}`);\n  }\n\n  createCampaign(body = {}) {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaign}campaigns/create`, body);\n  }\n\n  updateCampaign(body = {}) {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaign}/campaigns/updates`, body);\n  }\n\n  getCampaign(CampaignId: number): Observable<ICampaign> {\n    return this.apiService.get(`${environment.apiGatewayUrl}/api/v2.0/campaign/${CampaignId}`).pipe(\n      map((res: any) => {\n        const data = res ? res?.data : null;\n        if (!data) return data;\n        const response: ICampaign = {\n          id: data?.id,\n          general: data?.membership_info\n        }\n        return response;\n      })\n    );\n  }\n\n  getCampaignTransaction(TransactionId: number): Observable<ICampaignTransaction> {\n    return this.apiService.get(`${environment.apiGatewayUrl}/api/v2.0/transaction/${TransactionId}`).pipe(\n      map((res: any) => {\n        return res ? res?.data : null;\n      })\n    );\n  }\n\n  addLanguageCampaign(body = {}) {\n    return this.apiService.post(`${environment.apiGatewayUrl}/Campaign/api/v1.0/Campaign/contents`, body);\n  }\n\n  updateLanguageCampaign(body = {} as any) {\n    return this.apiService.put(`${environment.apiGatewayUrl}/Campaign/api/v1.0/Campaign/contents/${body.id}`, body);\n  }\n\n  // for Campaign media\n\n  addMediaCampaign(body = {}) {\n    return this.apiService.post(`${environment.apiGatewayUrl}/Campaign/api/v1.0/Campaign/media`, body);\n  }\n\n  updateMediaCampaign(body = {} as any) {\n    return this.apiService.put(`${environment.apiGatewayUrl}/Campaign/api/v1.0/Campaign/media/${body.id}`, body);\n  }\n\n  // for Campaign price\n\n  createCampaignPrice(body = {}) {\n    return this.apiService.post(`${environment.apiGatewayUrl}/Campaign/api/v1.0/Campaign/prices`, body);\n  }\n\n  updateCampaignPrice(body = {} as any) {\n    return this.apiService.put(`${environment.apiGatewayUrl}/Campaign/api/v1.0/Campaign/prices/${body.id}`, body);\n  }\n\n\n  getCampaignPrice(CampaignId?: number): Observable<ICampaignPrice> {\n    return this.apiService.get(`${environment.apiGatewayUrl}/Campaign/api/v1.0/Campaign/prices/Campaign/${CampaignId}`)\n  }\n\n  searchCampaign(): Observable<any> {\n    const params = { page: 1, limit: 99999 };\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaign}/campaigns`, params) as Observable<any>;\n  }\n\n  // for Campaign discount\n  createCampaignDiscount(body = {}) {\n    return this.apiService.post(`${environment.apiGatewayUrl}/Campaign/api/v1.0/Campaign/discounts`, body);\n  }\n\n  updateCampaignDiscount(body = {} as any) {\n    return this.apiService.put(`${environment.apiGatewayUrl}/Campaign/api/v1.0/Campaign/discounts/${body.id}`, body);\n  }\n\n\n  getCampaignDiscount(CampaignId?: number): Observable<ICampaignDiscount> {\n    return this.apiService.get(`${environment.apiGatewayUrl}/Campaign/api/v1.0/Campaign/discounts/Campaign/${CampaignId}`)\n    // .pipe(\n    //     map((res: any) => {\n    //         const data = res ? res?.data : null;\n    //         if (!data) return data;\n    //         const response: ICampaignDiscount = {\n    //             id: data?.id,\n    //             campaign_id: data?.campaign_id,\n    //             type: data?.type,\n    //             value: data?.value,\n    //             maximum_discount_amount: data?.maximum_discount_amount,\n    //             minimum_order_value: data?.minimum_order_value,\n    //             status: data?.status,\n    //             valid_from: data?.valid_from,\n    //             valid_until: data?.valid_until\n    //         }\n    //         return response;\n    //     })\n    // );\n  }\n\n  // for Campaign config\n  createCampaignConfig(body = {}) {\n    return this.apiService.post(`${environment.apiGatewayUrl}/Campaign/api/v1.0/Campaign/configs`, body);\n  }\n\n  updateCampaignConfig(body = {} as any) {\n    return this.apiService.put(`${environment.apiGatewayUrl}/Campaign/api/v1.0/Campaign/configs/${body.id}`, body);\n  }\n\n\n  getCampaignConfig(CampaignId?: number): Observable<ICampaignConfig> {\n    return this.apiService.get(`${environment.apiGatewayUrl}/Campaign/api/v1.0/Campaign/configs/Campaign/${CampaignId}`)\n    // .pipe(\n    //     map((res: any) => {\n    //         const data = res ? res?.data : null;\n    //         if (!data) return data;\n    //         const response: ICampaignConfig = {\n    //             id: data?.id,\n    //             campaign_id: data?.campaign_id,\n    //             type: data?.type,\n    //             value: data?.value,\n    //             name: data?.name\n    //         }\n    //         return response;\n    //     })\n    // );\n  }\n\n  getOptionType(type: string): Observable<any> {\n    return this.apiService.get(`${environment.apiGatewayUrl}/Campaign/api/v1.0/enums/${type}`) as Observable<any>;\n  }\n\n  getBrand(): Observable<any> {\n    const params = { page: 1, size: 99999 };\n    return this.apiService.get(`${environment.merchantUrl}brand`, params, {\n      'isMerchantService': 'yes',\n    }) as Observable<any>;\n  }\n\n  getStore(): Observable<any> {\n    const params = { page: 1, size: 99999 };\n    return this.apiService.get(`${environment.merchantUrl}store`, params, {\n      'isMerchantService': 'yes',\n    }) as Observable<any>;\n  }\n\n  getOrg(): Observable<any> {\n    const params = { page: 1, size: 99999 };\n    return this.apiService.get(`${environment.merchantUrl}org`, params, {\n      'isMerchantService': 'yes',\n    }) as Observable<any>;\n  }\n\n  getBrandByOrg(orgId?: string | number): Observable<any> {\n    const params = { page: 1, size: 99999, orgId };\n    return this.apiService.get(`${environment.merchantUrl}brand`, params, {\n      'isMerchantService': 'yes',\n    }) as Observable<any>;\n  }\n\n\n  getStoreByBrand(brandId?: string | number): Observable<any> {\n    const params = { page: 1, size: 99999, brandId };\n    return this.apiService.get(`${environment.merchantUrl}store`, params, {\n      'isMerchantService': 'yes',\n    }) as Observable<any>;\n  }\n\n\n  getTransactionTags(): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaign}/options/transaction-tag`);\n  }\n\n  getPool(): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaign}/pools`);\n  }\n\n  getSubPoolByIdPool(poolId: string): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaign}/subpools`, { pool_id: poolId });\n  }\n\n  getMessageTemplate(): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaign}/message-templates`);\n  }\n\n  deleteInformation(dataDelete: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaign}/campaigns/delete/info`, dataDelete);\n  }\n\n  detailTransaction(id: string): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaign}/transaction/detail`, { transaction_id: id });\n  }\n\n  retryTransaction(id: string): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaign}/retry`, { gid: id });\n  }\n\n  getCountCampaignStatus(): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaign}/campaign-status`);\n  }\n\n  batchRewarPreview(body: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaign}/campaigns/batch-reward/preview`, body, {\n      'Content-Type': 'clear'\n    });\n  }\n  \n  batchRewardSubmit(body: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaign}/campaigns/batch-reward/submit`, body, {\n      'Content-Type': 'clear'\n    });\n  }\n}\n\n","import { Injectable } from \"@angular/core\";\nimport { environment } from \"libs/core/environments/environment\";\nimport { Observable } from \"rxjs\";\nimport { ApiService } from \"../../common/http.service\";\n\n@Injectable({\n  providedIn: 'root',\n})\n\nexport class IComLibsServicesProjectOrderService {\n  constructor(private apiService: ApiService) { }\n\n  detailTransaction(id: string): Observable<any> {\n    return this.apiService.get(`${environment.apiGatewayUrl}${environment.suffixOrder}orders/${id}`);\n  }\n\n  listTransaction(body: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixOrder}orders`, body);\n  }\n\n  retryTransaction(id: string): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixOrder}/retry`, { gid: id });\n  }\n\n  forceStopTransaction(orderId: string): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixOrder}orders/${orderId}/force-stop`);\n  }\n\n  getStatusTransactionOrder(): Observable<any> {\n    return this.apiService.get(`${environment.apiGatewayUrl}${environment.suffixOrder}status`);\n  }\n\n  getStatusTransactionTypes(): Observable<any> {\n    return this.apiService.get(`${environment.apiGatewayUrl}${environment.suffixOrder}types`);\n  }\n\n  updateTransaction(orderId: string, body: any): Observable<any> {\n    return this.apiService.patch(`${environment.apiGatewayUrl}${environment.suffixOrder}orders/${orderId}`);\n  }\n\n  getPaymentMethod(): Observable<any> {\n    return this.apiService.get(`${environment.apiGatewayUrl}${environment.suffixOrder}payment-methods`);\n  }\n}\n\n","\nimport { Injectable } from \"@angular/core\";\nimport { Observable, map } from \"rxjs\";\nimport { environment } from \"../../../environments/environment\";\nimport { ApiService } from \"../../common/http.service\";\n\n@Injectable({\n  providedIn: 'root',\n})\n\nexport class IComLibsServicesProjectCampaignV3Service {\n  constructor(private apiService: ApiService) { }\n\n  list(data: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/list`, data) as Observable<any>;\n  }\n\n  detail(data: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/detail`, data) as Observable<any>;\n  }\n\n  uploadImage(data: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/upload-icon`, data,  {\n      'Content-Type': 'clear'\n    }) as Observable<any>;\n  }\n\n\n  addEditCampaign(data: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/general`, data) as Observable<any>;\n  }\n\n  getTypeMissions(): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/options/gup2-enum`, {\n      \"group\": \"1999\"\n  }) as Observable<any>;\n  }\n\n  getActionMission(): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/options/action-tag`) as Observable<any>;\n  }\n\n  getContributor(): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/options/contributor`) as Observable<any>;\n  }\n\n  getPool(): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/options/pool`) as Observable<any>;\n  }\n\n  getSubPool(body: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/options/sub-pool`, body) as Observable<any>;\n  }\n\n  getRewardLevel(): Observable<any>  {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/options/gup2-enum`, {\n      \"group\": \"2999\"\n  }) as Observable<any>;\n  }\n\n  getRewardForm(): Observable<any>  {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/options/gup2-enum`, {\n      \"group\": \"3999\"\n  }) as Observable<any>;\n  }\n\n  getMessageTemplate(): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/options/message-template`) as Observable<any>;\n  }\n\n  getTypeReward(): Observable<any>  {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/options/gup2-enum`, {\n      \"group\": \"5999\"\n  }) as Observable<any>;\n  }\n\n  getListStatus(): Observable<any>  {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/options/gup2-enum`, {\n      \"group\": \"8999\"\n  }) as Observable<any>;\n  }\n\n  getListTimeStart(): Observable<any>  {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/options/gup2-enum`, {\n      \"group\": \"6999\"\n  }) as Observable<any>;\n  }\n\n  getListTimeEnd(): Observable<any>  {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/options/gup2-enum`, {\n      \"group\": \"7999\"\n  }) as Observable<any>;\n  }\n\n  getListOrderAction(): Observable<any>  {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/options/gup2-enum`, {\n      \"group\": \"999\"\n  }) as Observable<any>;\n  }\n\n  getListOrderActionBy(): Observable<any>  {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/options/gup2-enum`, {\n      \"group\": \"4999\"\n  }) as Observable<any>;\n  }\n\n  getListActionType(): Observable<any>  {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/options/action-type`) as Observable<any>;\n  }\n\n  getListActionParam(id: string): Observable<any>  {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/options/action-param`, {action_type_code: id}) as Observable<any>;\n  }\n\n\n}\n\n","import { Injectable } from \"@angular/core\";\nimport { Observable } from \"rxjs\";\nimport { environment } from \"../../../environments/environment\";\nimport { ApiService } from \"../../common/http.service\";\nimport { HttpHeaders } from \"@angular/common/http\";\n\n@Injectable({\n  providedIn: 'root',\n})\n\nexport class IComLibsServicesProjectFlashSaleStatisticService {\n  constructor(private apiService: ApiService) { }\n\n  getCountGroupBrand(filter: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/flashsale/report/count_group_brand`, filter);\n  }\n\n  getCountCustomerByCampaign(filter: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/statistic/user`, filter);\n  }\n\n  getListMissionByByCampaign(filter: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/statistic/mission-list`, filter);\n  }\n\n  getTotalRewardPointGroup(filter: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/statistic/total-rewardpoint-group`, filter);\n  }\n  \n  getListApiStatisticByPathCampaign(apiPath: string, filter?: any): Observable<any> {\n    const fullPath = `${environment.apiGatewayUrl}${environment.suffixCampaignV3}/${apiPath}`;\n    return this.apiService.post(fullPath, filter);\n  }\n\n  downloadFileTransactionDetail(): string {\n    return `${environment.apiGatewayUrl}${environment.suffixCampaignV3}/statistic/export/transaction-detail`;\n  }\n\n  getVoucher(filter: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/flashsale/report/buy_flashsale/view_category/success`, filter);\n  }\n\ngetViewCategorySuccess(filter: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/flashsale/report/buy_flashsale/view_category`, filter);\n  }\n  \n}\n\n","import { Injectable } from \"@angular/core\";\nimport { Observable } from \"rxjs\";\nimport { environment } from \"../../../environments/environment\";\nimport { ApiService } from \"../../common/http.service\";\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class IComLibsServicesProjectAdminUserService {\n  constructor(private apiService: ApiService) { }\n\n  getDetailHistory(id: any) {\n    const url = `${environment.apiGatewayUrl}${environment.suffixAdmin}v2.0/activity_logs/${id}`;\n    return this.apiService.get(url, {id: id}) as Observable<any>;\n  }\n\n  getUserHistoryList(data: any): Observable<any> {\n    const url = `${environment.apiGatewayUrl}${environment.suffixAdmin}v2.0/activity_logs`;\n    return this.apiService.get(url, data) as Observable<any>;\n  }\n\n  getActivityFeatures(): Observable<any> {\n    const url = `${environment.apiGatewayUrl}${environment.suffixAdmin}v2.0/activity_features`;\n    return this.apiService.get(url) as Observable<any>;\n  }\n\n  getActivityActions(): Observable<any> {\n    const url = `${environment.apiGatewayUrl}${environment.suffixAdmin}/v2.0/activity_actions`;\n    return this.apiService.get(url) as Observable<any>;\n  }\n}\n","\nimport { Injectable } from \"@angular/core\";\nimport { Observable } from \"rxjs\";\nimport { environment } from \"../../../environments/environment\";\nimport { ApiService } from \"../../common/http.service\";\n\n@Injectable({\n  providedIn: 'root',\n})\n\nexport class IComLibsServicesProjectIamRoleService {\n  constructor(private apiService: ApiService) {\n  }\n\n  list(data: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixIam}/v1/account/cms/roles/list`, data) as Observable<any>;\n  }\n\n  add(data: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixIam}/v1/account/cms/role`, data) as Observable<any>;\n  }\n\n  detail(id: string): Observable<any> {\n    return this.apiService.get(`${environment.apiGatewayUrl}${environment.suffixIam}/v1/account/cms/role/${id}`) as Observable<any>;\n  }\n\n  listAccount(id: string, data: any): Observable<any> {\n    return this.apiService.get(`${environment.apiGatewayUrl}${environment.suffixIam}/v1/account/cms/account/${id}`, data) as Observable<any>;\n  }\n\n  listDefaultRole(): Observable<any> {\n    return this.apiService.get(`${environment.apiGatewayUrl}${environment.suffixIam}/v1/account/cms/role_base`) as Observable<any>;\n  }\n  \n  deleteRow(id: string): Observable<any> {\n    return this.apiService.get(`${environment.apiGatewayUrl}${environment.suffixIam}/v1/account/cms/role/delete/${id}`) as Observable<any>;\n  }\n  \n}\n\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Observable, finalize, map } from 'rxjs';\nimport { IUserLogin } from '../../../interfaces/projects/iam/login.interface';\nimport { environment } from '../../../environments/environment';\nimport { LocalStorageService } from '../../authenticate/local-storage.service';\nimport { ApiService } from '../../common/http.service';\n\n@Injectable({\n\tprovidedIn: 'root',\n})\nexport class IcomLibsProjectIamAccountService {\n\tconstructor(private apiService: ApiService) { }\n\n\tadd(data: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixIam}/v1/account/cms/user`, data) as Observable<any>;\n}\n\t\n\tlist(data: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixIam}/v1/account/users`, data) as Observable<any>;\n  }\n}\n"],"x_google_ignoreList":[]}