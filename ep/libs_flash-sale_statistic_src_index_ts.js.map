{"version":3,"file":"libs_flash-sale_statistic_src_index_ts.js","mappings":"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","names":["BaseCampaignStatisticAbstractComponent","constructor","this","modalService","inject","NzModalService","viewContainerRef","ViewContainerRef","iComLibsServicesProjectFlashSaleStatisticService","IComLibsServicesProjectFlashSaleStatisticService","static","t","core","lG2","inputs","filter","chart","annotations","colors","dataLabels","series","stroke","labels","legend","fill","tooltip","plotOptions","responsive","xaxis","yaxis","grid","states","title","subtitle","theme","IComLibsCampaignStatisticTotalComponent","super","changeDetectorRef","ChangeDetectorRef","ngOnChanges","getDataChart","ngOnInit","_this","_asyncToGenerator","result","lastValueFrom","fetchDataByType","type","count","data","detectChanges","err","console","log","getListApiStatisticByPathCampaign","_id","ids","toString","Xpm","selectors","ignoreFilter","standalone","features","i0","decls","vars","consts","template","rf","ctx","name","value","DecimalPipe","encapsulation","changeDetection","$event","_r2","ctx_r1","handlerClick","_c0","ctx_r0","get","ranges","dayjs","utc","IcomLibsCampaignStatisticNavComponent","getStartOfWeek","Date","getStartOfCurrentMonth","getStartOfLastMonth","FormGroup","date_range","FormControl","icomFilter","EventEmitter","IComMessageService","campaignService","IComLibsServicesProjectCampaignStatisticService","start","end","emit","start_time","format","end_time","endOf","valueChanges","pipe","subscribe","length","currentDate","dayOfWeek","getDay","setHours","getFullYear","getMonth","getEndOfLastMonth","startOfCurrentMonth","getTime","e","stopPropagation","preventDefault","xhr","XMLHttpRequest","open","downloadFileTransactionDetail","responseType","setRequestHeader","onload","status","blob","Blob","response","downloadUrl","URL","createObjectURL","a","document","createElement","contentDisposition","getResponseHeader","filename","matches","exec","replace","href","download","body","appendChild","click","revokeObjectURL","removeChild","showAlertMessageDone","onerror","error","parseDateRangeDayMonthYearToTwoKey","send","JSON","stringify","label","outputs","IcomLibsCampaignStatisticNavComponent_div_4_Template","FormsModule","i1","ReactiveFormsModule","NzDatePickerModule","i2","NgIf","NzButtonModule","i3","i4","i5","NzIconModule","i6","NzDividerModule","NzSelectModule","config","IComLibsFlashSaleStatisticBrandsComponent","ngZone","processBuildChart","map","c","height","toolbar","show","fontFamily","categories","id","text","enabled","isLoading","getCountGroupBrand","handlerFilter","event","IComLibsFlashSaleStatisticBrandsComponent_nz_spin_2_Template","IComLibsFlashSaleStatisticBrandsComponent_apx_chart_3_Template","NzSpinModule","NgApexchartsModule","IComLibsFlashSaleStatisticVoucherComponent","getVoucher","IComLibsFlashSaleStatisticVoucherComponent_nz_spin_2_Template","IComLibsFlashSaleStatisticVoucherComponent_apx_chart_3_Template","IComLibsFlashSaleStatisticCareGroupComponent","getViewCategorySuccess","IComLibsFlashSaleStatisticCareGroupComponent_nz_spin_2_Template","IComLibsFlashSaleStatisticCareGroupComponent_apx_chart_3_Template","ctx_r3","model","ctx_r4","ctx_r5","ctx_r6","ctx_r7","ctx_r8","ctx_r9","ctx_r10","ctx_r11","ctx_r12","ctx_r13","ctx_r14","IComLibsFlashSaleStatisticComponent_gridster_item_5_ng_container_2_Template","IComLibsFlashSaleStatisticComponent_gridster_item_5_ng_container_3_Template","IComLibsFlashSaleStatisticComponent_gridster_item_5_ng_container_4_Template","IComLibsFlashSaleStatisticComponent_gridster_item_5_ng_container_5_Template","IComLibsFlashSaleStatisticComponent_gridster_item_5_ng_container_6_Template","IComLibsFlashSaleStatisticComponent_gridster_item_5_ng_container_7_Template","IComLibsFlashSaleStatisticComponent_gridster_item_5_ng_container_8_Template","IComLibsFlashSaleStatisticComponent_gridster_item_5_ng_container_9_Template","IComLibsFlashSaleStatisticComponent_gridster_item_5_ng_container_10_Template","IComLibsFlashSaleStatisticComponent_gridster_item_5_ng_container_11_Template","IComLibsFlashSaleStatisticComponent_gridster_item_5_ng_container_12_Template","IComLibsFlashSaleStatisticComponent_gridster_item_5_ng_container_13_Template","box_r1","routes","path","component","IComLibsFlashSaleStatisticComponent","iComLibsServicesProjectFlashSaleService","options","gridOptions","gridType","form","fields","key","defaultValue","props","nzServerSearch","listOptionDropdown","page","list","size","placeholder","viewValue","labelProp","valueProp","items","dataBoxes","i","cols","rows","y","Math","floor","x","push","getColorClass","index","getBorderColor","IComLibsFlashSaleStatisticComponent_gridster_item_5_Template","breadcrumb","IComLibsFlashSaleStatisticModule","oAB","cJS","provide","OverlayContainer","useClass","FullscreenOverlayContainer","imports","CommonModule","RouterModule","forChild","FormlyModule","NzFormModule","GridsterModule"],"sourceRoot":"webpack:///","sources":["./libs/flash-sale/statistic/src/list/base/base.abstract.component.ts","./libs/flash-sale/statistic/src/list/total/total.component.ts","./libs/flash-sale/statistic/src/list/total/total.component.html","./libs/flash-sale/statistic/src/list/base/nav/nav.component.html","./libs/flash-sale/statistic/src/list/base/nav/nav.component.ts","./libs/flash-sale/statistic/src/list/brands/brands.component.html","./libs/flash-sale/statistic/src/list/brands/brands.component.ts","./libs/flash-sale/statistic/src/list/voucher/voucher.component.html","./libs/flash-sale/statistic/src/list/voucher/voucher.component.ts","./libs/flash-sale/statistic/src/list/care-group/care-group.component.html","./libs/flash-sale/statistic/src/list/care-group/care-group.component.ts","./libs/flash-sale/statistic/src/list/list.component.html","./libs/flash-sale/statistic/src/list/list.module.ts","./libs/flash-sale/statistic/src/list/list.component.ts"],"sourcesContent":["import { ChangeDetectorRef, Directive, Input, ViewContainerRef, inject } from '@angular/core';\nimport { ApexAnnotations, ApexAxisChartSeries, ApexChart, ApexDataLabels, ApexFill, ApexGrid, ApexLegend, ApexNonAxisChartSeries, ApexPlotOptions, ApexResponsive, ApexStates, ApexStroke, ApexTheme, ApexTitleSubtitle, ApexTooltip, ApexXAxis, ApexYAxis } from 'ng-apexcharts';\nimport { IComLibsServicesProjectFlashSaleStatisticService } from '@icom/services/projects';\nimport { NzModalService } from 'ng-zorro-antd/modal';\n@Directive()\nexport abstract class BaseCampaignStatisticAbstractComponent {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  @Input() filter!: any;\n\n  @Input() chart!: ApexChart ;\n  @Input() annotations!: ApexAnnotations  ;\n  @Input() colors!: string[]  ;\n  @Input() dataLabels!: ApexDataLabels  ;\n  @Input() series!: ApexAxisChartSeries | ApexNonAxisChartSeries  ;\n  @Input() stroke!: ApexStroke  ;\n  @Input() labels!: string[]  ;\n  @Input() legend!: ApexLegend  ;\n  @Input() fill!: ApexFill  ;\n  @Input() tooltip!: ApexTooltip  ;\n  @Input() plotOptions!: ApexPlotOptions  ;\n  @Input() responsive!: ApexResponsive[]  ;\n  @Input() xaxis!: ApexXAxis  ;\n  @Input() yaxis!: ApexYAxis | ApexYAxis[]  ;\n  @Input() grid!: ApexGrid  ;\n  @Input() states!: ApexStates  ;\n  @Input() title!: string | undefined  ;\n  @Input() subtitle!: ApexTitleSubtitle ;\n  @Input() theme!: ApexTheme  ;\n\n\n  protected modalService = inject(NzModalService);\n  protected viewContainerRef = inject(ViewContainerRef);\n  protected iComLibsServicesProjectFlashSaleStatisticService = inject(IComLibsServicesProjectFlashSaleStatisticService);\n\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, Input, OnChanges, OnInit, inject } from '@angular/core';\nimport { Observable, lastValueFrom } from 'rxjs';\nimport { BaseCampaignStatisticAbstractComponent } from '../base/base.abstract.component';\nimport { IcomLibsCampaignStatisticNavComponent } from '../base/nav/nav.component';\nimport { DecimalPipe } from '@angular/common';\n\n@Component({\n  // eslint-disable-next-line @angular-eslint/component-selector\n  selector: 'icom-libs-campaign-statistic-total',\n  templateUrl: './total.component.html',\n  standalone: true,\n  imports: [IcomLibsCampaignStatisticNavComponent, DecimalPipe],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class IComLibsCampaignStatisticTotalComponent extends BaseCampaignStatisticAbstractComponent implements OnInit, OnChanges {\n  protected count!: any;\n\n  @Input() ids!: string;\n  @Input() ignoreFilter: boolean | undefined;\n  @Input() type: string | undefined;\n\n  protected changeDetectorRef = inject(ChangeDetectorRef);\n  \n  constructor() {\n    super();\n  }\n\n  ngOnChanges() {\n    this.getDataChart();\n  }\n\n  ngOnInit() {\n    this.getDataChart();\n  }\n\n  protected async getDataChart() {\n    try {\n      const result = await lastValueFrom(this.fetchDataByType(`/flashsale/report/${this.type}` || '', ));\n      this.count = result?.data || 0;\n      this.changeDetectorRef?.detectChanges();\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  private fetchDataByType(type: string): Observable<any> {\n    return this.iComLibsServicesProjectFlashSaleStatisticService.getListApiStatisticByPathCampaign(type, {_id: this.ids?.toString() || ''});\n  }\n}\n","<h3 class=\"text-sm font-semibold  text-left\">{{ count?.name || 'Dữ liệu' }}</h3>\n<p class=\"text-4xl self-center h-full flex justify-center items-center\">{{ count?.value  || 0 | number  }}</p>","<div class=\"flex w-full h-full justify-between\">\n  <div class=\"flex flex-col\">\n    <span class=\"text-base\">{{ label }}</span>\n  </div>\n\n  <div *ngIf=\"!ignoreFilter\" class=\"flex\">\n    <button class=\"mr-2\" nz-button [nzSize]=\"'default'\" nzShape=\"round\" (click)=\"handlerClick($event)\">\n      <span nz-icon nzType=\"file-excel\" nzTheme=\"outline\"></span>\n      <span nz-icon nzType=\"download\" nzTheme=\"outline\"></span>\n    </button>\n    <nz-range-picker\n      [nzPlaceHolder]=\"['dd/mm/yyyy', 'dd/mm/yyyy']\"\n      [formControl]=\"$any(filter.get('date_range'))\"\n      [nzRanges]=\"ranges\"\n    >\n    </nz-range-picker>\n  </div>\n</div>","import { NgIf } from '@angular/common';\nimport { Component, EventEmitter, Input, OnInit, Output, inject } from '@angular/core';\nimport {\n  FormControl,\n  FormGroup,\n  FormsModule,\n  ReactiveFormsModule,\n} from '@angular/forms';\nimport { NzButtonModule } from 'ng-zorro-antd/button';\nimport { NzDatePickerModule } from 'ng-zorro-antd/date-picker';\nimport { NzIconModule } from 'ng-zorro-antd/icon';\nimport { NzDividerModule } from 'ng-zorro-antd/divider';\nimport { NzSelectModule } from 'ng-zorro-antd/select';\nimport * as dayjs from 'dayjs';\nimport { IComLibsServicesProjectCampaignStatisticService } from '@icom/services/projects';\nimport { IComMessageService } from '@icom/services/common';\nimport * as utc from \"dayjs/plugin/utc\"\nimport { parseDateRangeDayMonthYearToTwoKey } from '@icom/defines';\n\ndayjs.extend(utc);\n\n@Component({\n  // eslint-disable-next-line @angular-eslint/component-selector\n  selector: 'icom-libs-campaign-statistic-nav',\n  templateUrl: './nav.component.html',\n  standalone: true,\n  imports: [\n    FormsModule,\n    ReactiveFormsModule,\n    NzDatePickerModule,\n    NgIf,\n    NzButtonModule,\n    NzIconModule,\n    NzDividerModule,\n    ReactiveFormsModule,\n    NzSelectModule,\n  ],\n})\nexport class IcomLibsCampaignStatisticNavComponent implements OnInit {\n  protected ranges = {\n    'Đầu tuần này': [this.getStartOfWeek(), new Date()],\n    'Đầu tháng này': [this.getStartOfCurrentMonth(), new Date()],\n    'Đầu tháng trước': [this.getStartOfLastMonth(), new Date()],\n  };\n\n  protected filter: FormGroup = new FormGroup({\n    date_range: new FormControl([this.getStartOfCurrentMonth(), new Date()]),\n  });\n\n  @Input() label!: string;\n  @Input() ignoreFilter: boolean | undefined;\n\n  @Output() icomFilter: EventEmitter<any> = new EventEmitter();\n\n  protected IComMessageService = inject(IComMessageService);\n  protected campaignService = inject(IComLibsServicesProjectCampaignStatisticService);\n\n  ngOnInit() {\n    // eslint-disable-next-line no-unsafe-optional-chaining\n    const [start, end] = this.filter?.get('date_range')?.value;\n    this.icomFilter.emit({\n      start_time:  dayjs(start).utc().format(),\n      end_time: dayjs(end).endOf('day').utc().format()\n    });\n\n    this.filter.valueChanges.pipe().subscribe((value) => {\n      if (!value.date_range || !value.date_range?.length) {\n        this.icomFilter.emit({ start_time: '', end_time: '' });\n        return;\n      }\n      const [start, end] = value.date_range;\n      console.log(end);\n      this.icomFilter.emit({\n        start_time:  dayjs(start).utc().format(),\n        end_time: dayjs(end).endOf('day').utc().format()\n      });\n    });\n  }\n\n  protected getStartOfWeek(): Date {\n    const currentDate = new Date();\n    const dayOfWeek = currentDate.getDay() || 7; // Chủ nhật là 0, chuyển thành 7\n    if (dayOfWeek !== 1) {\n      currentDate.setHours(-24 * (dayOfWeek - 1)); // Lùi lại đến thứ Hai\n    }\n    return currentDate;\n  }\n\n  protected getStartOfCurrentMonth(): Date {\n    const currentDate = new Date();\n    return new Date(currentDate.getFullYear(), currentDate.getMonth(), 1);\n  }\n\n  protected getStartOfLastMonth(): Date {\n    const currentDate = new Date();\n    return new Date(currentDate.getFullYear(), currentDate.getMonth() - 1, 1);\n  }\n\n  protected getEndOfLastMonth(): Date {\n    const startOfCurrentMonth = this.getStartOfCurrentMonth();\n    return new Date(startOfCurrentMonth.getTime() - 86400000); // Lùi 1 ngày\n  }\n\n  protected async handlerClick(e: Event) {\n    e.stopPropagation();\n    e.preventDefault();\n\n  const xhr = new XMLHttpRequest();\n  \n  xhr.open('POST',  this.campaignService.downloadFileTransactionDetail(), true);\n  xhr.responseType = 'blob';\n\n  xhr.setRequestHeader(\"Authorization\", \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJpY29tLWF1dGhvcml6YXRpb24tc2VydmVyIiwic3ViIjoiMDM2ODYzNjAwMSIsImV4cCI6MTcwMjE3MzAxOCwiaWF0IjoxNzAxMzA5MDE4LCJqdGkiOiI3NTRiMjUwYi0zMjE3LTRhMDQtODM0Mi0wMjVkNTE4YzlkZjEiLCJpZGVudGlmaWVyIjoiMDM2ODYzNjAwMSIsInVzZXJuYW1lIjoiMDM2ODYzNjAwMSIsIm5hbWUiOiIiLCJpZCI6IjY5MjYiLCJkZXZpY2Vfa2V5IjoiIiwid29ya2luZ19zaXRlX2lkIjoiODg1NCIsIndvcmtlcl9zaXRlX2lkIjoiMjUxODAiLCJ2ZXJzaW9uIjoiIiwid29ya3NwYWNlQ29kZSI6Ijg4NTQiLCJpc1NlcnZpY2UiOmZhbHNlLCJ0eXAiOiJhY2Nlc3MiLCJtZmFWZXJpZmllZCI6ZmFsc2UsInJvbGUiOiJyb290X3VzZXIifQ.4c3Fbi49T5tYZAfiwSsJEnMNpnBhf9sCWzbpcCeyjtY\");\n  xhr.onload = ()  => {\n    if (xhr.status === 200) {\n      const blob = new Blob([xhr.response], { type: 'application/octet-stream' });\n      const downloadUrl = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      const contentDisposition = xhr.getResponseHeader('Content-Disposition');\n      console.log(contentDisposition);\n      let filename = 'detail_transaction.xlsx'; // Tên tệp mặc định\n\n      if (contentDisposition) {\n        const filenameRegex = /filename[^;=\\n]*=((['\"]).*?\\2|[^;\\n]*)/;\n        const matches = filenameRegex.exec(contentDisposition);\n        if (matches != null && matches[1]) { \n          filename = matches[1].replace(/['\"]/g, ''); \n        }\n      }\n\n      a.href = downloadUrl;\n      a.download = filename;  // Tên tệp xuất\n      document.body.appendChild(a);\n      a.click();\n\n      URL.revokeObjectURL(downloadUrl);\n      document.body.removeChild(a);\n      this.IComMessageService.showAlertMessageDone('Tải file thành công.');\n    } else {\n      this.IComMessageService.showAlertMessageDone('Tải file thất bại.');\n    }\n  };\n\n  xhr.onerror = function () {\n    console.error('Request error');\n  };\n\n  xhr.setRequestHeader('Content-Type', 'application/json');\n  parseDateRangeDayMonthYearToTwoKey(this.filter.value);\n  xhr.send(JSON.stringify(this.filter.value));\n  }\n}\n","<div class=\"flex flex-col w-full h-full\">\n  <icom-libs-campaign-statistic-nav\n    [label]=\"'Báo cáo thương hiệu được mua nhiều'\"\n    class=\"text-xs font-semibold\"\n    [ignoreFilter]=\"true\"\n    (icomFilter)=\"handlerFilter($event)\"\n  ></icom-libs-campaign-statistic-nav>\n\n  <nz-spin\n    *ngIf=\"isLoading\"\n    class=\"flex justify-center items-center\"\n    nzSimple\n    [nzSize]=\"'large'\"\n  ></nz-spin>\n\n  <apx-chart\n    *ngIf=\"!isLoading && config\"\n    class=\" w-full h-full overflow-hidden\"\n    [series]=\"config.series\"\n    [chart]=\"config.chart\"\n    [xaxis]=\"config.xaxis\"\n    [title]=\"config.title\"\n  ></apx-chart>\n</div>\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { NgIf } from \"@angular/common\";\nimport { ChangeDetectionStrategy, ChangeDetectorRef, Component, Input, NgZone, OnChanges, inject } from \"@angular/core\";\nimport {\n  NgApexchartsModule\n} from \"ng-apexcharts\";\nimport { BaseCampaignStatisticAbstractComponent } from \"../base/base.abstract.component\";\nimport { IcomLibsCampaignStatisticNavComponent } from \"../base/nav/nav.component\";\nimport { IConfigLineChartByDay } from \"../defines/config.define\";\nimport { lastValueFrom } from \"rxjs\";\nimport { NzSpinModule } from \"ng-zorro-antd/spin\";\n\n\n@Component({\n  // eslint-disable-next-line @angular-eslint/component-selector\n  selector: 'icom-libs-flash_sale-statistic-brands',\n  templateUrl: './brands.component.html',\n  standalone: true,\n  imports: [NzSpinModule, NgIf, IcomLibsCampaignStatisticNavComponent, NgApexchartsModule],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class IComLibsFlashSaleStatisticBrandsComponent extends BaseCampaignStatisticAbstractComponent implements OnChanges {\n  @Input() ids: string[];\n\n  protected config!: IConfigLineChartByDay | any;\n  protected isLoading!: boolean;\n\n  protected changeDetectorRef = inject(ChangeDetectorRef);\n  \n  constructor(\n    private ngZone: NgZone\n  ) {\n    super();\n    this.ids = [];\n  }\n  \n  ngOnChanges() {\n    this.getDataChart();\n  }\n\n  protected processBuildChart(data: any[]) {\n    this.config = {\n      series: [\n        {\n          data: data.map(c => c.value),\n          name: data.map(c => c.name)\n        }\n      ],\n      chart: {\n        type: 'bar',\n        height: '100%',\n        toolbar: {\n          show: false\n        },\n        fontFamily: '-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji',\n      },\n      xaxis: {\n        categories: data.map(c => c.name),\n        id: data.map(c => c.name),\n      },\n      yaxis: {\n        title: {\n          text: 'Số lượng người dùng'\n        }\n      },\n      dataLabels: {\n        enabled: false\n      }\n    }\n  }\n\n  protected async getDataChart() {\n    try {\n      this.isLoading = true;\n      const result = await lastValueFrom(this.iComLibsServicesProjectFlashSaleStatisticService?.getCountGroupBrand({_id: this.ids?.toString() || ''}));\n      this.processBuildChart(result?.data?.value || []);\n      this.changeDetectorRef.detectChanges();\n    } catch (err) {\n      console.log(err);\n    } finally {\n      this.isLoading = false;\n      this.changeDetectorRef.detectChanges();\n    }\n  }\n\n  protected handlerFilter(event: any) {\n    this.filter = event;\n    this.getDataChart();\n  }\n\n}\n","<div class=\"flex flex-col w-full h-full\">\n  <icom-libs-campaign-statistic-nav\n    [label]=\"'Tỷ lệ mua voucher của các nhóm sản phẩm của flash sale'\"\n    class=\"text-xs font-semibold\"\n    [ignoreFilter]=\"true\"\n    (icomFilter)=\"handlerFilter($event)\"\n  ></icom-libs-campaign-statistic-nav>\n\n  <nz-spin\n    *ngIf=\"isLoading\"\n    class=\"w-full h-full flex justify-center items-center\"\n    nzSimple\n    [nzSize]=\"'large'\"\n  ></nz-spin>\n\n  <apx-chart\n    *ngIf=\"!isLoading && config\"\n    class=\"flex flex-col w-full h-full\"\n    [series]=\"config.series\"\n    [chart]=\"config.chart\"\n    [xaxis]=\"config.xaxis\"\n    [title]=\"config.title\">\n  </apx-chart>\n</div>\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { NgIf } from \"@angular/common\";\nimport { ChangeDetectionStrategy, ChangeDetectorRef, Component, Input, NgZone, OnChanges, inject } from \"@angular/core\";\nimport {\n  NgApexchartsModule\n} from \"ng-apexcharts\";\nimport { BaseCampaignStatisticAbstractComponent } from \"../base/base.abstract.component\";\nimport { IcomLibsCampaignStatisticNavComponent } from \"../base/nav/nav.component\";\nimport { IConfigLineChartByDay } from \"../defines/config.define\";\nimport { lastValueFrom } from \"rxjs\";\nimport { NzSpinModule } from \"ng-zorro-antd/spin\";\n\n\n@Component({\n  // eslint-disable-next-line @angular-eslint/component-selector\n  selector: 'icom-libs-flash_sale-statistic-voucher',\n  templateUrl: './voucher.component.html',\n  standalone: true,\n  imports: [NzSpinModule, NgIf, IcomLibsCampaignStatisticNavComponent, NgApexchartsModule],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class IComLibsFlashSaleStatisticVoucherComponent extends BaseCampaignStatisticAbstractComponent implements OnChanges {\n  @Input() ids: string[];\n\n  protected config!: IConfigLineChartByDay | any;\n  protected isLoading!: boolean;\n\n  protected changeDetectorRef = inject(ChangeDetectorRef);\n\n  constructor(\n    private ngZone: NgZone\n  ) {\n    super();\n    this.ids = [];\n  }\n\n  ngOnChanges() {\n    this.getDataChart();\n  }\n\n  protected processBuildChart(data: any[]) {\n    this.config = {\n      series: [\n        {\n          name: data.map(c => c.name),\n          data: data.map(c => c.value),\n        }\n      ],\n      chart: {\n        type: 'bar',\n        height: '100%',\n        toolbar: {\n          show: false\n        },\n        fontFamily: '-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji',\n      },\n      xaxis: {\n        categories: data.map(c => c.name), // Maps names as categories for the x-axis\n      },\n      yaxis: {\n        title: {\n          text: 'Số lượng người dùng'\n        }\n      },\n      dataLabels: {\n        enabled: false\n      }\n    }\n  }\n\n  protected async getDataChart() {\n    try {\n      this.isLoading = true;\n      const result = await lastValueFrom(this.iComLibsServicesProjectFlashSaleStatisticService?.getVoucher({_id: this.ids?.toString() || ''}));\n      this.processBuildChart(result?.data?.value || []);\n      this.changeDetectorRef.detectChanges();\n    } catch (err) {\n      console.log(err);\n    } finally {\n      this.isLoading = false;\n      this.changeDetectorRef.detectChanges();\n    }\n  }\n\n  protected handlerFilter(event: any) {\n    this.filter = event;\n    this.getDataChart();\n  }\n\n}\n","<div class=\"flex flex-col w-full h-full\">\n  <icom-libs-campaign-statistic-nav\n    [label]=\"'Tỷ lệ quan tâm đến các nhóm sản phẩm của flash sale'\"\n    class=\"text-xs font-semibold\"\n    [ignoreFilter]=\"true\"\n    (icomFilter)=\"handlerFilter($event)\"\n  ></icom-libs-campaign-statistic-nav>\n\n  <nz-spin\n    *ngIf=\"isLoading\"\n    class=\"w-full h-full flex justify-center items-center\"\n    nzSimple\n    [nzSize]=\"'large'\"\n  ></nz-spin>\n\n  <apx-chart\n    *ngIf=\"!isLoading && config\"\n    class=\"flex flex-col w-full h-full\"\n    [series]=\"config.series\"\n    [chart]=\"config.chart\"\n    [xaxis]=\"config.xaxis\"\n    [title]=\"config.title\">\n  </apx-chart>\n</div>\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { NgIf } from \"@angular/common\";\nimport { ChangeDetectionStrategy, ChangeDetectorRef, Component, Input, NgZone, OnChanges, inject } from \"@angular/core\";\nimport {\n  NgApexchartsModule\n} from \"ng-apexcharts\";\nimport { BaseCampaignStatisticAbstractComponent } from \"../base/base.abstract.component\";\nimport { IcomLibsCampaignStatisticNavComponent } from \"../base/nav/nav.component\";\nimport { IConfigLineChartByDay } from \"../defines/config.define\";\nimport { lastValueFrom } from \"rxjs\";\nimport { NzSpinModule } from \"ng-zorro-antd/spin\";\n\n\n@Component({\n  // eslint-disable-next-line @angular-eslint/component-selector\n  selector: 'icom-libs-flash_sale-statistic-care-group',\n  templateUrl: './care-group.component.html',\n  standalone: true,\n  imports: [NzSpinModule, NgIf, IcomLibsCampaignStatisticNavComponent, NgApexchartsModule],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class IComLibsFlashSaleStatisticCareGroupComponent extends BaseCampaignStatisticAbstractComponent implements OnChanges {\n  @Input() ids: string[];\n\n  protected config!: IConfigLineChartByDay | any;\n  protected isLoading!: boolean;\n\n  protected changeDetectorRef = inject(ChangeDetectorRef);\n\n  constructor(\n  ) {\n    super();\n    this.ids = [];\n  }\n\n  ngOnChanges() {\n    this.getDataChart();\n  }\n\n\n  protected processBuildChart(data: any[]) {\n    this.config = {\n      series: [\n        {\n          name: data.map(c => c.name),\n          data: data.map(c => c.value),\n        }\n      ],\n      chart: {\n        type: 'bar',\n        height: '100%',\n        toolbar: {\n          show: false\n        },\n        fontFamily: '-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji',\n      },\n      xaxis: {\n        categories: data.map(c => c.name), // Maps names as categories for the x-axis\n      },\n      yaxis: {\n        title: {\n          text: 'Số lượng người dùng'\n        }\n      },\n      dataLabels: {\n        enabled: false\n      }\n    }\n  }\n\n  protected async getDataChart() {\n    try {\n      this.isLoading = true;\n      const result = await lastValueFrom(this.iComLibsServicesProjectFlashSaleStatisticService?.getViewCategorySuccess({_id: this.ids?.toString() || ''}));\n      this.processBuildChart(result?.data?.value ||[]);\n      this.changeDetectorRef.detectChanges();\n    } catch (err) {\n      console.log(err);\n    } finally {\n      this.isLoading = false;\n      this.changeDetectorRef.detectChanges();\n    }\n  }\n\n  protected handlerFilter(event: any) {\n    this.filter = event;\n    this.getDataChart();\n  }\n\n}\n","<div class=\"w-full\">\n  <form [formGroup]=\"form\" nz-form>\n    <formly-form\n      [model]=\"model\"\n      [fields]=\"fields\"\n      [options]=\"options\"\n      [form]=\"form\"\n    ></formly-form>\n  </form>\n</div>\n\n<div style=\"display: flex;\nflex-direction: column;\nheight: calc(100% - 50px) !important;\">\n<gridster [options]=\"gridOptions\">\n  <gridster-item *ngFor=\"let box of dataBoxes; let i = index\" [item]=\"box\">\n    <div [ngClass]=\"' p-4 border border-gray-300 rounded w-full h-full  justify-between'\">\n\n      <ng-container *ngIf=\"box.type === 'percent_active'\">\n        <icom-libs-campaign-statistic-total class=\"w-full h-full flex flex-col\" [type]=\"'percent_active'\" [ids]=\"model.ids\"></icom-libs-campaign-statistic-total>\n      </ng-container>\n\n      <ng-container *ngIf=\"box.type === 'view_detail_flashsale'\">\n        <icom-libs-campaign-statistic-total class=\"w-full h-full flex flex-col\" [type]=\"'view_detail_flashsale'\" [ids]=\"model.ids\"></icom-libs-campaign-statistic-total>\n      </ng-container>\n\n      <ng-container *ngIf=\"box.type === 'view_detail_flashsale/product'\">\n        <icom-libs-campaign-statistic-total class=\"w-full h-full flex flex-col\" [type]=\"'view_detail_flashsale/product'\" [ids]=\"model.ids\"></icom-libs-campaign-statistic-total>\n      </ng-container>\n\n      <ng-container *ngIf=\"box.type === 'buy_flashsale/click'\">\n        <icom-libs-campaign-statistic-total class=\"w-full h-full flex flex-col\" [type]=\"'buy_flashsale/click'\" [ids]=\"model.ids\"></icom-libs-campaign-statistic-total>\n      </ng-container>\n\n      <ng-container *ngIf=\"box.type === 'buy_flashsale/success'\">\n        <icom-libs-campaign-statistic-total class=\"w-full h-full flex flex-col\" [type]=\"'buy_flashsale/success'\" [ids]=\"model.ids\"></icom-libs-campaign-statistic-total>\n      </ng-container>\n\n      <ng-container *ngIf=\"box.type === 'redeem_point'\">\n        <icom-libs-campaign-statistic-total class=\"w-full h-full flex flex-col\" [type]=\"'redeem_point'\" [ids]=\"model.ids\"></icom-libs-campaign-statistic-total>\n      </ng-container>\n      \n      <ng-container *ngIf=\"box.type === 'redeem_cash'\">\n        <icom-libs-campaign-statistic-total class=\"w-full h-full flex flex-col\" [type]=\"'redeem_cash'\" [ids]=\"model.ids\"></icom-libs-campaign-statistic-total>\n      </ng-container>\n\n      <ng-container *ngIf=\"box.type === '/buy_flashsale/CR'\">\n        <icom-libs-campaign-statistic-total class=\"w-full h-full flex flex-col\" [type]=\"'/buy_flashsale/CR'\" [ids]=\"model.ids\"></icom-libs-campaign-statistic-total>\n      </ng-container>\n\n      <ng-container *ngIf=\"box.type === 'sale'\">\n        <icom-libs-campaign-statistic-total class=\"w-full h-full flex flex-col\" [type]=\"'sale'\" [ids]=\"model.ids\"></icom-libs-campaign-statistic-total>\n      </ng-container>\n      \n      <ng-container *ngIf=\"box.type === 'brands'\">\n        <icom-libs-flash_sale-statistic-brands class=\"w-full h-full flex flex-col\" [ids]=\"model.ids\"></icom-libs-flash_sale-statistic-brands>\n      </ng-container>\n\n      <ng-container *ngIf=\"box.type === 'voucher'\">\n        <icom-libs-flash_sale-statistic-voucher  class=\"w-full h-full flex flex-col\"  [ids]=\"model.ids\"></icom-libs-flash_sale-statistic-voucher>\n      </ng-container>\n\n      <ng-container *ngIf=\"box.type === 'care-group'\">\n        <icom-libs-flash_sale-statistic-care-group  class=\"w-full h-full flex flex-col\"  [ids]=\"model.ids\"></icom-libs-flash_sale-statistic-care-group>\n      </ng-container>\n    </div>\n  </gridster-item>\n</gridster>\n</div>\n\n","import { NgApexchartsModule } from 'ng-apexcharts';\nimport { FullscreenOverlayContainer, OverlayContainer } from '@angular/cdk/overlay';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { IComLibsFlashSaleStatisticComponent } from './list.component';\nimport { FormlyModule } from '@ngx-formly/core';\nimport { NzButtonModule } from 'ng-zorro-antd/button';\nimport { GridsterModule } from 'angular-gridster2';\nimport { IComLibsCampaignStatisticTotalComponent } from './total/total.component';\nimport { IComLibsFlashSaleStatisticBrandsComponent} from './brands/brands.component';\nimport { IComLibsFlashSaleStatisticVoucherComponent } from './voucher/voucher.component';\nimport { IComLibsFlashSaleStatisticCareGroupComponent } from './care-group/care-group.component';\nimport { NzSelectModule } from 'ng-zorro-antd/select';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { NzFormModule } from 'ng-zorro-antd/form';\nconst routes: Routes = [\n  {\n    path: '',\n    component: IComLibsFlashSaleStatisticComponent,\n    data: {\n      breadcrumb: ''\n    }\n  },\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RouterModule.forChild(routes),\n    FormlyModule,\n    NzFormModule,\n    FormlyModule,\n    ReactiveFormsModule,\n    GridsterModule,\n    NgApexchartsModule,\n    IComLibsCampaignStatisticTotalComponent,\n    IComLibsFlashSaleStatisticBrandsComponent,\n    IComLibsFlashSaleStatisticVoucherComponent,\n    IComLibsFlashSaleStatisticCareGroupComponent,\n    NzButtonModule,\n    NzSelectModule,\n    FormsModule\n  ],\n  declarations: [IComLibsFlashSaleStatisticComponent],\n  providers: [{ provide: OverlayContainer, useClass: FullscreenOverlayContainer }],\n})\nexport class IComLibsFlashSaleStatisticModule { }\n\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { Component, OnInit, Input, ChangeDetectionStrategy } from \"@angular/core\";\nimport { FormGroup } from \"@angular/forms\";\nimport { IComLibsServicesProjectFlashSaleService } from \"@icom/services/projects\";\nimport { FormlyFieldConfig, FormlyFormOptions } from \"@ngx-formly/core\";\nimport { GridsterConfig, GridsterItem } from \"angular-gridster2\";\nimport { Observable, lastValueFrom, map } from \"rxjs\";\n// import { GridsterConfig, GridsterItem } from \"angular-gridster2\";\n\n@Component({\n  // eslint-disable-next-line @angular-eslint/component-selector\n  selector: 'icom-libs-campaign-flash_sale',\n  templateUrl: './list.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class IComLibsFlashSaleStatisticComponent {\n  gridOptions: GridsterConfig;\n  dataBoxes: any[];\n\n  protected ids!: string;\n  protected options: FormlyFormOptions = {};\n  protected fields!:  FormlyFieldConfig[];\n  protected model!:  any;\n  protected form!: FormGroup;\n\n  constructor(\n    private iComLibsServicesProjectFlashSaleService: IComLibsServicesProjectFlashSaleService\n  ) {\n    this.gridOptions = {\n      gridType: 'scrollVertical',\n    };\n    this.form = new FormGroup({});\n    this.model = {};\n    this.fields = [\n      {\n        key: 'ids',\n        type: 'select-custom',\n        defaultValue: '',\n        props: {\n          nzServerSearch: true,\n          listOptionDropdown: (page: number, filter?: any): Observable<any> => {\n            return this.iComLibsServicesProjectFlashSaleService.list({ page: page || 1, size: 15, ...filter }).pipe(\n              map(result => {\n                return result?.data;\n              })\n            );\n          },\n          placeholder: 'Flash Sale',\n          label: 'Flash Sale',\n          viewValue: 'name',\n          labelProp: 'name',\n          valueProp: '_id',\n          options: this.iComLibsServicesProjectFlashSaleService.list({ page: 1, size: 15 }).pipe(\n            map(result => {\n              return result?.data?.items;\n            })\n          ),\n        },\n      },\n    ];\n  \n\n    const typesArray = ['percent_active', 'view_detail_flashsale',\n     'view_detail_flashsale/product', 'buy_flashsale/click', \n     'buy_flashsale/success', 'redeem_point', 'redeem_cash', 'sale', '/buy_flashsale/CR']; \n\n    this.dataBoxes = typesArray.map((type, i) => ({\n      cols: 1, \n      rows: 1, \n      y: Math.floor(i / 5), \n      x: i % 5,\n      type: type\n    }));\n\n    this.dataBoxes.push(...[\n      { cols: 3, rows: 3, y: 2, x: 0, type: 'brands'},\n      { cols: 3, rows: 3, y: 2, x: 3, type: 'voucher'},\n      { cols: 3, rows: 3, y: 4, x: 0, type: 'care-group' }\n    ]);\n  }\n\n  getColorClass(index: number): string {\n    const colors = ['bg-red-200', 'bg-blue-200', 'bg-green-200', 'bg-yellow-200', 'bg-purple-200', 'bg-pink-200', 'bg-orange-200', 'bg-teal-200'];\n    return colors[index % colors.length];\n  }\n\n  getBorderColor(index: number): string {\n    const colors = ['blue', 'teal', 'red', 'purple'];\n    return colors[index % colors.length];\n  }\n}\n  \n"],"x_google_ignoreList":[]}