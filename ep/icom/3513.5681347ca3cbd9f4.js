(self.webpackChunkicom=self.webpackChunkicom||[]).push([[3513],{33513:(Fe,z,h)=>{h.r(z),h.d(z,{Action:()=>fe,Actions:()=>Jt,InitState:()=>W,NGXS_PLUGINS:()=>nt,NgxsDevelopmentModule:()=>Te,NgxsModule:()=>de,NgxsSimpleChange:()=>ot,NgxsUnhandledActionsLogger:()=>Z,NoopNgxsExecutionStrategy:()=>st,Select:()=>Ee,Selector:()=>xe,SelectorOptions:()=>Me,State:()=>pe,StateStream:()=>b,StateToken:()=>Ne,Store:()=>j,UpdateState:()=>X,actionMatcher:()=>Mt,createModelSelector:()=>we,createPickSelector:()=>Pe,createPropertySelectors:()=>Re,createSelector:()=>I,ensureSelectorMetadata:()=>De,ensureStoreMetadata:()=>Ie,getActionTypeFromInstance:()=>E,getSelectorMetadata:()=>je,getStoreMetadata:()=>Ae,getValue:()=>x,ofAction:()=>kt,ofActionCanceled:()=>Vt,ofActionCompleted:()=>$t,ofActionDispatched:()=>ct,ofActionErrored:()=>Gt,ofActionSuccessful:()=>Lt,setValue:()=>F,\u0275NgxsFeatureModule:()=>vt,\u0275NgxsRootModule:()=>Et});var i=h(36151),y=h(33692),Y=h(14817),l=h(33635),u=h(65893),J=h(33705);function E(t){return t.constructor&&t.constructor.type?t.constructor.type:t.type}function Mt(t){const r=E(t);return function(e){return r===E(e)}}const F=(t,r,e)=>{t=Object.assign({},t);const n=r.split("."),o=n.length-1;return n.reduce((s,a,c)=>(s[a]=c===o?e:Array.isArray(s[a])?s[a].slice():Object.assign({},s[a]),s&&s[a]),t),t},x=(t,r)=>r.split(".").reduce((e,n)=>e&&e[n],t),U=t=>t&&"object"==typeof t&&!Array.isArray(t),B=(t,...r)=>{if(!r.length)return t;const e=r.shift();if(U(t)&&U(e))for(const n in e)U(e[n])?(t[n]||Object.assign(t,{[n]:{}}),B(t[n],e[n])):Object.assign(t,{[n]:e[n]});return B(t,...r)};let Q=(()=>{class t{constructor(e,n){this._ngZone=e,this._platformId=n}enter(e){return(0,Y.isPlatformServer)(this._platformId)?this.runInsideAngular(e):this.runOutsideAngular(e)}leave(e){return this.runInsideAngular(e)}runInsideAngular(e){return i.NgZone.isInAngularZone()?e():this._ngZone.run(e)}runOutsideAngular(e){return i.NgZone.isInAngularZone()?this._ngZone.runOutsideAngular(e):e()}}return t.\u0275fac=function(e){return new(e||t)(i.\u0275\u0275inject(i.NgZone),i.\u0275\u0275inject(i.PLATFORM_ID))},t.\u0275prov=i.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const q=new i.InjectionToken("ROOT_OPTIONS"),tt=new i.InjectionToken("ROOT_STATE_TOKEN"),et=new i.InjectionToken("FEATURE_STATE_TOKEN"),nt=new i.InjectionToken("NGXS_PLUGINS"),_="NGXS_META",rt="NGXS_OPTIONS_META",k="NGXS_SELECTOR_META";let N=(()=>{class t{constructor(){this.defaultsState={},this.selectorOptions={injectContainerState:!0,suppressErrors:!0},this.compatibility={strictContentSecurityPolicy:!1},this.executionStrategy=Q}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.\u0275\u0275defineInjectable({token:t,factory:function(e){let n=null;return e?n=new e:(o=i.\u0275\u0275inject(q),n=B(new t,o)),n;var o},providedIn:"root"}),t})();class ot{constructor(r,e,n){this.previousValue=r,this.currentValue=e,this.firstChange=n}}let st=(()=>{class t{enter(e){return e()}leave(e){return e()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const it=new i.InjectionToken("USER_PROVIDED_NGXS_EXECUTION_STRATEGY"),bt=new i.InjectionToken("NGXS_EXECUTION_STRATEGY",{providedIn:"root",factory:()=>{const t=(0,i.inject)(i.INJECTOR),r=t.get(it);return t.get(r||(typeof i.\u0275global.Zone<"u"?Q:st))}});function L(t){if(!t.hasOwnProperty(_)){const r={name:null,actions:{},defaults:{},path:null,makeRootSelector:e=>e.getStateGetter(r.name),children:[]};Object.defineProperty(t,_,{value:r})}return v(t)}function v(t){return t[_]}function V(t){return t.hasOwnProperty(k)||Object.defineProperty(t,k,{value:{makeRootSelector:null,originalFn:null,containerClass:null,selectorName:null,getSelectorOptions:()=>({})}}),T(t)}function T(t){return t[k]}function at(t,r){return r&&r.compatibility&&r.compatibility.strictContentSecurityPolicy?function wt(t){const r=t.slice();return e=>r.reduce((n,o)=>n&&n[o],e)}(t):function Pt(t){const r=t;let e="store."+r[0],n=0;const o=r.length;let s=e;for(;++n<o;)s=s+" && "+(e=e+"."+r[n]);return new Function("store","return "+s+";")}(t)}function kt(...t){return m(t)}function ct(...t){return m(t,["DISPATCHED"])}function Lt(...t){return m(t,["SUCCESSFUL"])}function Vt(...t){return m(t,["CANCELED"])}function $t(...t){return m(t,["SUCCESSFUL","CANCELED","ERRORED"],Ht)}function Gt(...t){return m(t,["ERRORED"])}function m(t,r,e=Wt){const n=function Xt(t){return t.reduce((r,e)=>(r[E(e)]=!0,r),{})}(t),o=r&&function Zt(t){return t.reduce((r,e)=>(r[e]=!0,r),{})}(r);return function(s){return s.pipe(function Kt(t,r){return(0,u.filter)(e=>{const n=E(e.action);return t[n]&&(!r||r[e.status])})}(n,o),e())}}function Ht(){return(0,u.map)(({action:t,status:r,error:e})=>({action:t,result:{successful:"SUCCESSFUL"===r,canceled:"CANCELED"===r,error:e}}))}function Wt(){return(0,u.map)(t=>t.action)}function A(t){return r=>new l.Observable(e=>r.subscribe({next(n){t.leave(()=>e.next(n))},error(n){t.leave(()=>e.error(n))},complete(){t.leave(()=>e.complete())}}))}let $=(()=>{class t{constructor(e){this._executionStrategy=e}enter(e){return this._executionStrategy.enter(e)}leave(e){return this._executionStrategy.leave(e)}}return t.\u0275fac=function(e){return new(e||t)(i.\u0275\u0275inject(bt))},t.\u0275prov=i.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ut(t){const r=[];let e=!1;return function(...o){if(e)r.unshift(o);else{for(e=!0,t(...o);r.length>0;){const s=r.pop();s&&t(...s)}e=!1}}}class zt extends l.Subject{constructor(){super(...arguments),this._orderedNext=ut(r=>super.next(r))}next(r){this._orderedNext(r)}}class Yt extends l.BehaviorSubject{constructor(r){super(r),this._orderedNext=ut(e=>super.next(e)),this._currentValue=r}getValue(){return this._currentValue}next(r){this._currentValue=r,this._orderedNext(r)}}let G=(()=>{class t extends zt{ngOnDestroy(){this.complete()}}return t.\u0275fac=function(){let r;return function(n){return(r||(r=i.\u0275\u0275getInheritedFactory(t)))(n||t)}}(),t.\u0275prov=i.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Jt=(()=>{class t extends l.Observable{constructor(e,n){const o=e.pipe(A(n),(0,u.share)());super(s=>{const a=o.subscribe({next:c=>s.next(c),error:c=>s.error(c),complete:()=>s.complete()});s.add(a)})}}return t.\u0275fac=function(e){return new(e||t)(i.\u0275\u0275inject(G),i.\u0275\u0275inject($))},t.\u0275prov=i.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const lt=t=>(...r)=>t.shift()(...r,(...n)=>lt(t)(...n));let dt=(()=>{class t{constructor(e){this._injector=e,this._errorHandler=null}reportErrorSafely(e){null===this._errorHandler&&(this._errorHandler=this._injector.get(i.ErrorHandler));try{this._errorHandler.handleError(e)}catch{}}}return t.\u0275fac=function(e){return new(e||t)(i.\u0275\u0275inject(i.Injector))},t.\u0275prov=i.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),b=(()=>{class t extends Yt{constructor(){super({})}ngOnDestroy(){this.complete()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),K=(()=>{class t{constructor(e,n){this._parentManager=e,this._pluginHandlers=n,this.plugins=[],this.registerHandlers()}get rootPlugins(){return this._parentManager&&this._parentManager.plugins||this.plugins}registerHandlers(){const e=this.getPluginHandlers();this.rootPlugins.push(...e)}getPluginHandlers(){return(this._pluginHandlers||[]).map(n=>n.handle?n.handle.bind(n):n)}}return t.\u0275fac=function(e){return new(e||t)(i.\u0275\u0275inject(t,12),i.\u0275\u0275inject(nt,8))},t.\u0275prov=i.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})(),ft=(()=>{class t extends l.Subject{}return t.\u0275fac=function(){let r;return function(n){return(r||(r=i.\u0275\u0275getInheritedFactory(t)))(n||t)}}(),t.\u0275prov=i.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),qt=(()=>{class t{constructor(e,n,o,s,a,c){this._actions=e,this._actionResults=n,this._pluginManager=o,this._stateStream=s,this._ngxsExecutionStrategy=a,this._internalErrorReporter=c}dispatch(e){return this._ngxsExecutionStrategy.enter(()=>this.dispatchByEvents(e)).pipe(function Qt(t,r){return e=>{let n=!1;return e.subscribe({error:o=>{r.enter(()=>Promise.resolve().then(()=>{n||r.leave(()=>t.reportErrorSafely(o))}))}}),new l.Observable(o=>(n=!0,e.pipe(A(r)).subscribe(o)))}}(this._internalErrorReporter,this._ngxsExecutionStrategy))}dispatchByEvents(e){return Array.isArray(e)?0===e.length?(0,l.of)(this._stateStream.getValue()):(0,l.forkJoin)(e.map(n=>this.dispatchSingle(n))):this.dispatchSingle(e)}dispatchSingle(e){const n=this._stateStream.getValue();return lt([...this._pluginManager.plugins,(s,a)=>{s!==n&&this._stateStream.next(s);const c=this.getActionResultStream(a);return c.subscribe(d=>this._actions.next(d)),this._actions.next({action:a,status:"DISPATCHED"}),this.createDispatchObservable(c)}])(n,e).pipe((0,u.shareReplay)())}getActionResultStream(e){return this._actionResults.pipe((0,u.filter)(n=>n.action===e&&"DISPATCHED"!==n.status),(0,u.take)(1),(0,u.shareReplay)())}createDispatchObservable(e){return e.pipe((0,u.exhaustMap)(n=>{switch(n.status){case"SUCCESSFUL":return(0,l.of)(this._stateStream.getValue());case"ERRORED":return(0,l.throwError)(n.error);default:return l.EMPTY}})).pipe((0,u.shareReplay)())}}return t.\u0275fac=function(e){return new(e||t)(i.\u0275\u0275inject(G),i.\u0275\u0275inject(ft),i.\u0275\u0275inject(K),i.\u0275\u0275inject(b),i.\u0275\u0275inject($),i.\u0275\u0275inject(dt))},t.\u0275prov=i.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),D=(()=>{class t{constructor(e,n,o){this._stateStream=e,this._dispatcher=n,this._config=o}getRootStateOperations(){return{getState:()=>this._stateStream.getValue(),setState:n=>this._stateStream.next(n),dispatch:n=>this._dispatcher.dispatch(n)}}setStateToTheCurrentWithNew(e){const n=this.getRootStateOperations(),o=n.getState();n.setState(Object.assign(Object.assign({},o),e.defaults))}}return t.\u0275fac=function(e){return new(e||t)(i.\u0275\u0275inject(b),i.\u0275\u0275inject(qt),i.\u0275\u0275inject(N))},t.\u0275prov=i.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),H=(()=>{class t{constructor(e){this._internalStateOperations=e}createStateContext(e){const n=this._internalStateOperations.getRootStateOperations();return{getState:()=>St(n.getState(),e.path),patchState(o){const s=n.getState(),a=function te(t){return r=>{const e=Object.assign({},r);for(const n in t)e[n]=t[n];return e}}(o);return ht(n,s,a,e.path)},setState(o){const s=n.getState();return(0,J.isStateOperator)(o)?ht(n,s,o,e.path):gt(n,s,o,e.path)},dispatch:o=>n.dispatch(o)}}}return t.\u0275fac=function(e){return new(e||t)(i.\u0275\u0275inject(D))},t.\u0275prov=i.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function gt(t,r,e,n){const o=F(r,n,e);return t.setState(o),o}function ht(t,r,e,n){return gt(t,r,e(St(r,n)),n)}function St(t,r){return x(t,r)}new RegExp("^[a-zA-Z0-9_]+$");let W=(()=>{class t{}return t.type="@@INIT",t})(),X=(()=>{class t{constructor(e){this.addedStates=e}}return t.type="@@UPDATE_STATE",t})();const yt=new i.InjectionToken("NGXS_DEVELOPMENT_OPTIONS",{providedIn:"root",factory:()=>({warnOnUnhandledActions:!0})});let Z=(()=>{class t{constructor(e){this._ignoredActions=new Set([W.type,X.type]),"object"==typeof e.warnOnUnhandledActions&&this.ignoreActions(...e.warnOnUnhandledActions.ignore)}ignoreActions(...e){for(const n of e)this._ignoredActions.add(n.type)}warn(e){Array.from(this._ignoredActions).some(o=>o===E(e))||(e=e.constructor&&"Object"!==e.constructor.name?e.constructor.name:e.type,console.warn(`The ${e} action has been dispatched but hasn't been handled. This may happen if the state with an action handler for this action is not registered.`))}}return t.\u0275fac=function(e){return new(e||t)(i.\u0275\u0275inject(yt))},t.\u0275prov=i.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})(),M=(()=>{class t{constructor(e,n,o,s,a,c,d){this._injector=e,this._config=n,this._parentFactory=o,this._actions=s,this._actionResults=a,this._stateContextFactory=c,this._initialState=d,this._actionsSubscription=null,this._states=[],this._statesByName={},this._statePaths={},this.getRuntimeSelectorContext=(0,y.memoize)(()=>{const p=this;function O(g){const S=p.statePaths[g];return S?at(S.split("."),p._config):null}return this._parentFactory?this._parentFactory.getRuntimeSelectorContext():{getStateGetter(g){let S=O(g);return S||((...Ce)=>(S||(S=O(g)),S?S(...Ce):void 0))},getSelectorOptions:g=>Object.assign(Object.assign({},p._config.selectorOptions),g||{})}})}get states(){return this._parentFactory?this._parentFactory.states:this._states}get statesByName(){return this._parentFactory?this._parentFactory.statesByName:this._statesByName}get statePaths(){return this._parentFactory?this._parentFactory.statePaths:this._statePaths}static _cloneDefaults(e){let n=e;return Array.isArray(e)?n=e.slice():function Bt(t){return"object"==typeof t&&null!==t||"function"==typeof t}(e)?n=Object.assign({},e):void 0===e&&(n={}),n}ngOnDestroy(){var e;null===(e=this._actionsSubscription)||void 0===e||e.unsubscribe()}add(e){const{newStates:n}=this.addToStatesMap(e);if(!n.length)return[];const o=function Rt(t){const r=e=>t.find(o=>o===e)[_].name;return t.reduce((e,n)=>{const{name:o,children:s}=n[_];return e[o]=(s||[]).map(r),e},{})}(n),s=function Ut(t){const r=[],e={},n=(o,s=[])=>{Array.isArray(s)||(s=[]),s.push(o),e[o]=!0,t[o].forEach(a=>{e[a]||n(a,s.slice(0))}),r.indexOf(o)<0&&r.push(o)};return Object.keys(t).forEach(o=>n(o)),r.reverse()}(o),a=function Ft(t,r={}){const e=(n,o)=>{for(const s in n)if(n.hasOwnProperty(s)&&n[s].indexOf(o)>=0){const a=e(n,s);return null!==a?`${a}.${s}`:s}return null};for(const n in t)if(t.hasOwnProperty(n)){const o=e(t,n);r[n]=o?`${o}.${n}`:n}return r}(o),c=function Ct(t){return t.reduce((r,e)=>(r[e[_].name]=e,r),{})}(n),d=[];for(const p of s){const O=c[p],f=a[p],g=O[_];this.addRuntimeInfoToMeta(g,f);const S={name:p,path:f,isInitialised:!1,actions:g.actions,instance:this._injector.get(O),defaults:t._cloneDefaults(g.defaults)};this.hasBeenMountedAndBootstrapped(p,f)||d.push(S),this.states.push(S)}return d}addAndReturnDefaults(e){const o=this.add(e||[]);return{defaults:o.reduce((a,c)=>F(a,c.path,c.defaults),{}),states:o}}connectActionHandlers(){if(this._parentFactory||null!==this._actionsSubscription)return;const e=new l.Subject;this._actionsSubscription=this._actions.pipe((0,u.filter)(n=>"DISPATCHED"===n.status),(0,u.mergeMap)(n=>{e.next(n);const o=n.action;return this.invokeActions(e,o).pipe((0,u.map)(()=>({action:o,status:"SUCCESSFUL"})),(0,u.defaultIfEmpty)({action:o,status:"CANCELED"}),(0,u.catchError)(s=>(0,l.of)({action:o,status:"ERRORED",error:s})))})).subscribe(n=>this._actionResults.next(n))}invokeActions(e,n){const o=E(n),s=[];let a=!1;for(const c of this.states){const d=c.actions[o];if(d)for(const p of d){const O=this._stateContextFactory.createStateContext(c);try{let f=c.instance[p.fn](O,n);f instanceof Promise&&(f=(0,l.from)(f)),(0,l.isObservable)(f)?(f=f.pipe((0,u.mergeMap)(g=>g instanceof Promise?(0,l.from)(g):(0,l.isObservable)(g)?g:(0,l.of)(g)),(0,u.defaultIfEmpty)({})),p.options.cancelUncompleted&&(f=f.pipe((0,u.takeUntil)(e.pipe(ct(n)))))):f=(0,l.of)({}).pipe((0,u.shareReplay)()),s.push(f)}catch(f){s.push((0,l.throwError)(f))}a=!0}}return s.length||s.push((0,l.of)({})),(0,l.forkJoin)(s)}addToStatesMap(e){const n=[],o=this.statesByName;for(const s of e){const a=v(s).name;!o[a]&&(n.push(s),o[a]=s)}return{newStates:n}}addRuntimeInfoToMeta(e,n){this.statePaths[e.name]=n,e.path=n}hasBeenMountedAndBootstrapped(e,n){const o=void 0!==x(this._initialState,n);return this.statesByName[e]&&o}}return t.\u0275fac=function(e){return new(e||t)(i.\u0275\u0275inject(i.Injector),i.\u0275\u0275inject(N),i.\u0275\u0275inject(t,12),i.\u0275\u0275inject(G),i.\u0275\u0275inject(ft),i.\u0275\u0275inject(H),i.\u0275\u0275inject(y.INITIAL_STATE_TOKEN,8))},t.\u0275prov=i.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})();function _t(t){const r=T(t)||v(t);return r&&r.makeRootSelector||(()=>t)}let j=(()=>{class t{constructor(e,n,o,s,a,c){this._stateStream=e,this._internalStateOperations=n,this._config=o,this._internalExecutionStrategy=s,this._stateFactory=a,this._selectableStateStream=this._stateStream.pipe(A(this._internalExecutionStrategy),(0,u.shareReplay)({bufferSize:1,refCount:!0})),this.initStateStream(c)}dispatch(e){return this._internalStateOperations.getRootStateOperations().dispatch(e)}select(e){const n=this.getStoreBoundSelectorFn(e);return this._selectableStateStream.pipe((0,u.map)(n),(0,u.catchError)(o=>{const{suppressErrors:s}=this._config.selectorOptions;return o instanceof TypeError&&s?(0,l.of)(void 0):(0,l.throwError)(o)}),(0,u.distinctUntilChanged)(),A(this._internalExecutionStrategy))}selectOnce(e){return this.select(e).pipe((0,u.take)(1))}selectSnapshot(e){return this.getStoreBoundSelectorFn(e)(this._stateStream.getValue())}subscribe(e){return this._selectableStateStream.pipe(A(this._internalExecutionStrategy)).subscribe(e)}snapshot(){return this._internalStateOperations.getRootStateOperations().getState()}reset(e){return this._internalStateOperations.getRootStateOperations().setState(e)}getStoreBoundSelectorFn(e){return _t(e)(this._stateFactory.getRuntimeSelectorContext())}initStateStream(e){const n=this._stateStream.value;if(!n||0===Object.keys(n).length){const a=Object.keys(this._config.defaultsState).length>0?Object.assign(Object.assign({},this._config.defaultsState),e):e;this._stateStream.next(a)}}}return t.\u0275fac=function(e){return new(e||t)(i.\u0275\u0275inject(b),i.\u0275\u0275inject(D),i.\u0275\u0275inject(N),i.\u0275\u0275inject($),i.\u0275\u0275inject(M),i.\u0275\u0275inject(y.INITIAL_STATE_TOKEN,8))},t.\u0275prov=i.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),P=(()=>{class t{constructor(e,n){t.store=e,t.config=n}ngOnDestroy(){t.store=null,t.config=null}}return t.store=null,t.config=null,t.\u0275fac=function(e){return new(e||t)(i.\u0275\u0275inject(j),i.\u0275\u0275inject(N))},t.\u0275prov=i.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Ot=(()=>{class t{constructor(e,n,o,s,a){this._store=e,this._internalErrorReporter=n,this._internalStateOperations=o,this._stateContextFactory=s,this._bootstrapper=a,this._destroy$=new l.Subject}ngOnDestroy(){this._destroy$.next()}ngxsBootstrap(e,n){this._internalStateOperations.getRootStateOperations().dispatch(e).pipe((0,u.filter)(()=>!!n),(0,u.tap)(()=>this._invokeInitOnStates(n.states)),(0,u.mergeMap)(()=>this._bootstrapper.appBootstrapped$),(0,u.filter)(o=>!!o),(0,u.catchError)(o=>(this._internalErrorReporter.reportErrorSafely(o),l.EMPTY)),(0,u.takeUntil)(this._destroy$)).subscribe(()=>this._invokeBootstrapOnStates(n.states))}_invokeInitOnStates(e){for(const n of e){const o=n.instance;o.ngxsOnChanges&&this._store.select(s=>x(s,n.path)).pipe((0,u.startWith)(void 0),(0,u.pairwise)(),(0,u.takeUntil)(this._destroy$)).subscribe(([s,a])=>{const c=new ot(s,a,!n.isInitialised);o.ngxsOnChanges(c)}),o.ngxsOnInit&&o.ngxsOnInit(this._getStateContext(n)),n.isInitialised=!0}}_invokeBootstrapOnStates(e){for(const n of e){const o=n.instance;o.ngxsAfterBootstrap&&o.ngxsAfterBootstrap(this._getStateContext(n))}}_getStateContext(e){return this._stateContextFactory.createStateContext(e)}}return t.\u0275fac=function(e){return new(e||t)(i.\u0275\u0275inject(j),i.\u0275\u0275inject(dt),i.\u0275\u0275inject(D),i.\u0275\u0275inject(H),i.\u0275\u0275inject(y.NgxsBootstrapper))},t.\u0275prov=i.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Et=(()=>{class t{constructor(e,n,o,s,a=[],c){const d=e.addAndReturnDefaults(a);n.setStateToTheCurrentWithNew(d),e.connectActionHandlers(),c.ngxsBootstrap(new W,d)}}return t.\u0275fac=function(e){return new(e||t)(i.\u0275\u0275inject(M),i.\u0275\u0275inject(D),i.\u0275\u0275inject(j),i.\u0275\u0275inject(P),i.\u0275\u0275inject(tt,8),i.\u0275\u0275inject(Ot))},t.\u0275mod=i.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=i.\u0275\u0275defineInjector({}),t})(),vt=(()=>{class t{constructor(e,n,o,s=[],a){const c=t.flattenStates(s),d=o.addAndReturnDefaults(c);d.states.length&&(n.setStateToTheCurrentWithNew(d),a.ngxsBootstrap(new X(d.defaults),d))}static flattenStates(e=[]){return e.reduce((n,o)=>n.concat(o),[])}}return t.\u0275fac=function(e){return new(e||t)(i.\u0275\u0275inject(j),i.\u0275\u0275inject(D),i.\u0275\u0275inject(M),i.\u0275\u0275inject(et,8),i.\u0275\u0275inject(Ot))},t.\u0275mod=i.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=i.\u0275\u0275defineInjector({}),t})(),de=(()=>{class t{static forRoot(e=[],n={}){return{ngModule:Et,providers:[M,K,...e,...t.ngxsTokenProviders(e,n)]}}static forFeature(e=[]){return{ngModule:vt,providers:[M,K,...e,{provide:et,multi:!0,useValue:e}]}}static ngxsTokenProviders(e,n){return[{provide:it,useValue:n.executionStrategy},{provide:tt,useValue:e},{provide:q,useValue:n},{provide:i.APP_BOOTSTRAP_LISTENER,useFactory:t.appBootstrapListenerFactory,multi:!0,deps:[y.NgxsBootstrapper]},{provide:y.\u0275NGXS_STATE_CONTEXT_FACTORY,useExisting:H},{provide:y.\u0275NGXS_STATE_FACTORY,useExisting:M}]}static appBootstrapListenerFactory(e){return()=>e.bootstrap()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=i.\u0275\u0275defineInjector({}),t})();function fe(t,r){return(e,n)=>{const o=L(e.constructor);Array.isArray(t)||(t=[t]);for(const s of t){const a=s.type;o.actions[a]||(o.actions[a]=[]),o.actions[a].push({fn:n,options:r||{},type:a})}}}function pe(t){return r=>{const e=r,n=L(e),o=Object.getPrototypeOf(e),s=function ge(t,r){return Object.assign(Object.assign({},t[rt]||{}),r)}(o,t);(function he(t){const{meta:r,inheritedStateClass:e,optionsWithInheritance:n}=t,{children:o,defaults:s,name:a}=n,c="string"==typeof a?a:a&&a.getName()||null;if(e.hasOwnProperty(_)){const d=e[_]||{};r.actions=Object.assign(Object.assign({},r.actions),d.actions)}r.children=o,r.defaults=s,r.name=c})({meta:n,inheritedStateClass:o,optionsWithInheritance:s}),e[rt]=s}}const Se=36;function Ee(t,...r){return function(e,n){const o=n.toString(),s=`__${o}__selector`,a=function _e(t,r,e=[]){return r=r||function Oe(t){const r=t.length-1;return t.charCodeAt(r)===Se?t.slice(0,r):t}(t),"string"==typeof r?at(e.length?[r,...e]:r.split("."),P.config):r}(o,t,r);Object.defineProperties(e,{[s]:{writable:!0,enumerable:!1,configurable:!0},[o]:{enumerable:!0,configurable:!0,get(){return this[s]||(this[s]=function ye(t){return P.store||function Tt(){throw new Error("You have forgotten to import the NGXS module!")}(),P.store.select(t)}(a))}}})}}const mt="NGXS_SELECTOR_OPTIONS_META",R={getOptions:t=>t&&t[mt]||{},defineOptions:(t,r)=>{t&&(t[mt]=r)}};function Me(t){return function(e,n,o){if(n){o||(o=Object.getOwnPropertyDescriptor(e,n));const s=o.value||o.originalFn;s&&R.defineOptions(s,t)}else R.defineOptions(e,t)}}function Ie(t){return L(t)}function Ae(t){return v(t)}function De(t){return V(t)}function je(t){return T(t)}function I(t,r,e){const n=function ce(t,r){const e=r&&r.containerClass,o=(0,y.memoize)(function(...a){const c=t.apply(e,a);return c instanceof Function?y.memoize.apply(null,[c]):c});return Object.setPrototypeOf(o,t),o}(r,e),o=function ve(t,r){const e=V(t);e.originalFn=t;let n=()=>({});r&&(e.containerClass=r.containerClass,e.selectorName=r.selectorName||null,n=r.getSelectorOptions||n);const o=Object.assign({},e);return e.getSelectorOptions=()=>function me(t,r){return Object.assign(Object.assign(Object.assign(Object.assign({},R.getOptions(t.containerClass)||{}),R.getOptions(t.originalFn)||{}),t.getSelectorOptions()||{}),r)}(o,n()),e}(r,e);return o.makeRootSelector=function ae(t,r,e){return n=>{const{argumentSelectorFunctions:o,selectorOptions:s}=function ue(t,r,e=[]){const n=r.getSelectorOptions(),o=t.getSelectorOptions(n),a=function le(t=[],r,e){const n=[];return e&&(0===t.length||r.injectContainerState)&&v(e)&&n.push(e),t&&n.push(...t),n}(e,o,r.containerClass).map(c=>_t(c)(t));return{selectorOptions:o,argumentSelectorFunctions:a}}(n,t,r);return function(c){const d=o.map(p=>p(c));try{return e(...d)}catch(p){if(p instanceof TypeError&&s.suppressErrors)return;throw p}}}}(o,t,n),n}function xe(t){return(r,e,n)=>{n||(n=Object.getOwnPropertyDescriptor(r,e));const o=n?.value,s=I(t,o,{containerClass:r,selectorName:e.toString(),getSelectorOptions:()=>({})}),a={configurable:!0,get:()=>s};return a.originalFn=o,a}}class Ne{constructor(r){this.name=r,V(this).makeRootSelector=n=>n.getStateGetter(this.name)}getName(){return this.name}toString(){return`StateToken[${this.name}]`}}let Te=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[Z,{provide:yt,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=i.\u0275\u0275defineInjector({}),t})();function we(t){const r=Object.keys(t);return I(Object.values(t),(...n)=>r.reduce((o,s,a)=>(o[s]=n[a],o),{}))}function Pe(t,r){const e=r.filter(Boolean),n=e.map(o=>I([t],s=>s[o]));return I([...n],(...o)=>e.reduce((s,a,c)=>(s[a]=o[c],s),{}))}function Re(t){const r={};return new Proxy({},{get(e,n){const o=r[n]||I([t],s=>s?.[n]);return r[n]=o,o}})}}}]);