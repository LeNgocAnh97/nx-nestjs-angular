(self.webpackChunkicom=self.webpackChunkicom||[]).push([[2819,1128,4771,9671,6099,6957,122,7351,9974],{8111:(S,g,o)=>{o.d(g,{$M:()=>C,md:()=>t.md,E2:()=>t.E2,ZR:()=>t.ZR,c2:()=>t.c2,PM:()=>t.PM,xh:()=>t.xh,NT:()=>t.NT,oS:()=>t.oS,cT:()=>t.cT});var t=o(61863);let C=(()=>{class c{static#e=this.KEY_MENU="menu";static#t=this.FUNCTIONS="functions";static#n=this.PERMISSIONS="permission"}return c})()},61863:(S,g,o)=>{o.d(g,{E2:()=>a,NT:()=>d,PM:()=>y,ZR:()=>j,c2:()=>E,cT:()=>M,md:()=>i,oS:()=>I,xh:()=>m});var t=o(93484),c=o(91872);const j=()=>({transform:e=>e?c(e).format("DD/MM/YYYY HH:mm"):"-"}),a=()=>({transform:e=>e||"-"}),i=e=>{if(Array.isArray(e))return e.map(s=>i(s));if("object"==typeof e&&null!==e){const s={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s[n.replace(/([A-Z])/g,"_$1").toLowerCase()]=i(e[n]));return s}return e},d=(e,s,n)=>{let r=["start_time","end_time"];s&&(r=s.split(","));const[l,h]=r;if(!e.date_range||!e.date_range.length)return;const u=e.date_range,[f,v]=u;if(f instanceof String&&v instanceof String)return;const R={[l]:c(f),[h]:c(v)};e[l]=R[l],e[h]=R[h],delete e.date_range},m=(e,s,n)=>{let r=["start_time","end_time"];s&&(r=s.split(","));const[l,h]=r;if(!e.date_range||!e.date_range.length)return;const u=e.date_range,[f,v]=u;if(f instanceof String&&v instanceof String)return;const R={[l]:c(f).format("YYYY-MM-DDT00:00:00")+"Z",[h]:c(v).format("YYYY-MM-DDT00:00:00")+"Z"};e[l]=R[l],e[h]=R[h],delete e.date_range},y=(e,s)=>{for(const n in e)s[n]=e[n]},E=e=>{Object.values(e.controls).forEach(s=>{s.markAsTouched(),s instanceof t.FormGroup?E(s):s instanceof t.FormArray&&s.controls.forEach(n=>{n instanceof t.FormGroup?E(n):n instanceof t.FormControl&&n.markAsTouched()})})},M=(e,s,n,r,l,h,u)=>{const f=new XMLHttpRequest;f.open("POST",e,!0),f.responseType="blob";let v=localStorage?.getItem("token");for(;v?.includes('"');)v=v?.replace('"',"");f.setRequestHeader("Authorization",`Bearer ${v}`),f.onload=()=>{if(200===f.status){const R=new Blob([f.response],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),F=URL.createObjectURL(R),D=document.createElement("a"),w=f.getResponseHeader("Content-Disposition");let O="";if(!l){const T=new Date;O=`${T.getDate()}_${T.getMonth()+1}_${T.getFullYear()}`}let A=`${s}_${O}`;if(w){const P=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(w);null!=P&&P[1]&&(A=P[1].replace(/['"]/g,""))}D.href=F,D.download=A,document.body.appendChild(D),D.click(),URL.revokeObjectURL(F),document.body.removeChild(D),n.showAlertMessageDone("T\u1ea3i file th\xe0nh c\xf4ng."),u&&u()}else n.showAlertMessageError("T\u1ea3i file th\u1ea5t b\u1ea1i."),u&&u()},f.onerror=function(){console.error("Request error")},f.setRequestHeader("Content-Type","application/json"),r&&h&&m(r),f.send(JSON.stringify(r))};function I(e,s){return Object.keys(e).forEach(n=>{n.startsWith(s)&&delete e[n]}),e}},79466:(S,g,o)=>{o.d(g,{G:()=>c});var t=o(36151);let c=(()=>{class p{constructor(a,i,d){this.componentFactoryResolver=a,this.appRef=i,this.injector=d}appendComponentToBody(a){const d=this.componentFactoryResolver.resolveComponentFactory(a).create(this.injector);return this.appRef.attachView(d.hostView),document.body.appendChild(d.hostView.rootNodes[0]),d}appendComponentToComponent(a,i){const d=this.componentFactoryResolver.resolveComponentFactory(i);return a.viewContainerRef.createComponent(d)}removeComponentFromBody(a){this.appRef.detachView(a.hostView),a.destroy()}removeComponentFromComponent(a,i){const d=a.viewContainerRef,m=d.indexOf(i.hostView);-1!==m&&d.detach(m),i.destroy()}static#e=this.\u0275fac=function(i){return new(i||p)(t.\u0275\u0275inject(t.ComponentFactoryResolver),t.\u0275\u0275inject(t.ApplicationRef),t.\u0275\u0275inject(t.Injector))};static#t=this.\u0275prov=t.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})()},53750:(S,g,o)=>{o.d(g,{pm:()=>I,Qi:()=>i,Gj:()=>m.G});var t=o(36151),C=o(66049),c=o(60202),p=o(65893),j=o(71684);o(37586);let i=(()=>{class e{constructor(n,r){this.router=n,this.toastService=r,this.modalCtrl=[],this.destroyRef=(0,t.inject)(t.DestroyRef),this.router.events.pipe((0,p.filter)(l=>l instanceof c.NavigationEnd),(0,C.takeUntilDestroyed)()).subscribe(l=>{for(let h=0,u=this.modalCtrl.length;h<u;h++)this.modalCtrl[h].destroy("onCancel");this.modalCtrl=[]})}showAlertMessageDone(n){this.toastService.success(n)}showAlertMessageError(n){this.toastService.error(n)}static#e=this.\u0275fac=function(r){return new(r||e)(t.\u0275\u0275inject(c.Router),t.\u0275\u0275inject(j.NzMessageService))};static#t=this.\u0275prov=t.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();o(57182);var m=o(79466);o(16564),o(87757);var M=o(33635);let I=179==o.j?(()=>{class e{constructor(n,r){this.router=n,this.activatedRoute=r,this.breadcrumbs$=this.router.events.pipe((0,M.map)(()=>this.createBreadcrumbs(this.activatedRoute.root)))}createBreadcrumbs(n,r="",l=[]){const h=n.children;if(0===h.length)return l;for(const u of h){if(u.snapshot.routeConfig&&u.snapshot.routeConfig.redirectTo)continue;const f=u.snapshot.url.map(R=>R.path).join("/");""!==f&&(r+=`/${f}`);const v=u.snapshot.data.breadcrumb;return v&&l.push({label:v,url:r}),this.createBreadcrumbs(u,r,l)}return console.log(l),l}static#e=this.\u0275fac=function(r){return new(r||e)(t.\u0275\u0275inject(c.Router),t.\u0275\u0275inject(c.ActivatedRoute))};static#t=this.\u0275prov=t.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})():null},49671:(S,g,o)=>{function t(c,p,j,a,i,d,m){try{var _=c[d](m),y=_.value}catch(E){return void j(E)}_.done?p(y):Promise.resolve(y).then(a,i)}function C(c){return function(){var p=this,j=arguments;return new Promise(function(a,i){var d=c.apply(p,j);function m(y){t(d,a,i,m,_,"next",y)}function _(y){t(d,a,i,m,_,"throw",y)}m(void 0)})}}o.d(g,{Z:()=>C})}}]);