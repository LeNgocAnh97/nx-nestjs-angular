(self.webpackChunkicom=self.webpackChunkicom||[]).push([[4274],{34274:(R,y,s)=>{s.r(y),s.d(y,{IComLibsFlashSaleStatisticModule:()=>de});var h=s(6657),N=s(69594),d=s(14817),S=s(60202),r=s(93484),I=s(44729),z=s(34755),g=s(33635),e=s(36151),D=s(13391),j=s(15311),o=s(49671),c=s(37586);let f=(()=>{class n{constructor(){this.modalService=(0,e.inject)(c.NzModalService),this.viewContainerRef=(0,e.inject)(e.ViewContainerRef),this.iComLibsServicesProjectFlashSaleStatisticService=(0,e.inject)(I.yu)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=e.\u0275\u0275defineDirective({type:n,inputs:{filter:"filter",chart:"chart",annotations:"annotations",colors:"colors",dataLabels:"dataLabels",series:"series",stroke:"stroke",labels:"labels",legend:"legend",fill:"fill",tooltip:"tooltip",plotOptions:"plotOptions",responsive:"responsive",xaxis:"xaxis",yaxis:"yaxis",grid:"grid",states:"states",title:"title",subtitle:"subtitle",theme:"theme"}})}return n})(),C=(()=>{class n extends f{constructor(){super(),this.changeDetectorRef=(0,e.inject)(e.ChangeDetectorRef)}ngOnChanges(){this.getDataChart()}ngOnInit(){this.getDataChart()}getDataChart(){var t=this;return(0,o.Z)(function*(){try{const i=yield(0,g.lastValueFrom)(t.fetchDataByType(`/flashsale/report/${t.type}`||""));t.count=i?.data||0,t.changeDetectorRef?.detectChanges()}catch(i){console.log(i)}})()}fetchDataByType(t){return this.iComLibsServicesProjectFlashSaleStatisticService.getListApiStatisticByPathCampaign(t,{_id:this.ids?.toString()||""})}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["icom-libs-campaign-statistic-total"]],inputs:{ids:"ids",ignoreFilter:"ignoreFilter",type:"type"},standalone:!0,features:[e.\u0275\u0275InheritDefinitionFeature,e.\u0275\u0275NgOnChangesFeature,e.\u0275\u0275StandaloneFeature],decls:5,vars:4,consts:[[1,"text-sm","font-semibold","text-left"],[1,"text-4xl","self-center","h-full","flex","justify-center","items-center"]],template:function(i,a){1&i&&(e.\u0275\u0275elementStart(0,"h3",0),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"p",1),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"number"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate((null==a.count?null:a.count.name)||"D\u1eef li\u1ec7u"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,2,(null==a.count?null:a.count.value)||0)))},dependencies:[d.DecimalPipe],encapsulation:2,changeDetection:0})}return n})();var m=s(16283),_=s(32202),x=s(87757),E=s(35329),b=s(17891),v=s(91872),L=s(53750),A=s(50944),Y=s(8111),Z=s(47809),G=s(54829);const J=function(){return["dd/mm/yyyy","dd/mm/yyyy"]};function P(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",4)(1,"button",5),e.\u0275\u0275listener("click",function(a){e.\u0275\u0275restoreView(t);const p=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(p.handlerClick(a))}),e.\u0275\u0275element(2,"span",6)(3,"span",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(4,"nz-range-picker",8),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("nzSize","default"),e.\u0275\u0275advance(3),e.\u0275\u0275property("nzPlaceHolder",e.\u0275\u0275pureFunction0(4,J))("formControl",t.filter.get("date_range"))("nzRanges",t.ranges)}}v.extend(A);let T=(()=>{class n{constructor(){this.ranges={"\u0110\u1ea7u tu\u1ea7n n\xe0y":[this.getStartOfWeek(),new Date],"\u0110\u1ea7u th\xe1ng n\xe0y":[this.getStartOfCurrentMonth(),new Date],"\u0110\u1ea7u th\xe1ng tr\u01b0\u1edbc":[this.getStartOfLastMonth(),new Date]},this.filter=new r.FormGroup({date_range:new r.FormControl([this.getStartOfCurrentMonth(),new Date])}),this.icomFilter=new e.EventEmitter,this.IComMessageService=(0,e.inject)(L.Qi),this.campaignService=(0,e.inject)(I.ce)}ngOnInit(){const[t,i]=this.filter?.get("date_range")?.value;this.icomFilter.emit({start_time:v(t).utc().format(),end_time:v(i).endOf("day").utc().format()}),this.filter.valueChanges.pipe().subscribe(a=>{if(!a.date_range||!a.date_range?.length)return void this.icomFilter.emit({start_time:"",end_time:""});const[p,u]=a.date_range;console.log(u),this.icomFilter.emit({start_time:v(p).utc().format(),end_time:v(u).endOf("day").utc().format()})})}getStartOfWeek(){const t=new Date,i=t.getDay()||7;return 1!==i&&t.setHours(-24*(i-1)),t}getStartOfCurrentMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth(),1)}getStartOfLastMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth()-1,1)}getEndOfLastMonth(){const t=this.getStartOfCurrentMonth();return new Date(t.getTime()-864e5)}handlerClick(t){var i=this;return(0,o.Z)(function*(){t.stopPropagation(),t.preventDefault();const a=new XMLHttpRequest;a.open("POST",i.campaignService.downloadFileTransactionDetail(),!0),a.responseType="blob",a.setRequestHeader("Authorization","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJpY29tLWF1dGhvcml6YXRpb24tc2VydmVyIiwic3ViIjoiMDM2ODYzNjAwMSIsImV4cCI6MTcwMjE3MzAxOCwiaWF0IjoxNzAxMzA5MDE4LCJqdGkiOiI3NTRiMjUwYi0zMjE3LTRhMDQtODM0Mi0wMjVkNTE4YzlkZjEiLCJpZGVudGlmaWVyIjoiMDM2ODYzNjAwMSIsInVzZXJuYW1lIjoiMDM2ODYzNjAwMSIsIm5hbWUiOiIiLCJpZCI6IjY5MjYiLCJkZXZpY2Vfa2V5IjoiIiwid29ya2luZ19zaXRlX2lkIjoiODg1NCIsIndvcmtlcl9zaXRlX2lkIjoiMjUxODAiLCJ2ZXJzaW9uIjoiIiwid29ya3NwYWNlQ29kZSI6Ijg4NTQiLCJpc1NlcnZpY2UiOmZhbHNlLCJ0eXAiOiJhY2Nlc3MiLCJtZmFWZXJpZmllZCI6ZmFsc2UsInJvbGUiOiJyb290X3VzZXIifQ.4c3Fbi49T5tYZAfiwSsJEnMNpnBhf9sCWzbpcCeyjtY"),a.onload=()=>{if(200===a.status){const p=new Blob([a.response],{type:"application/octet-stream"}),u=URL.createObjectURL(p),M=document.createElement("a"),w=a.getResponseHeader("Content-Disposition");console.log(w);let V="detail_transaction.xlsx";if(w){const O=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(w);null!=O&&O[1]&&(V=O[1].replace(/['"]/g,""))}M.href=u,M.download=V,document.body.appendChild(M),M.click(),URL.revokeObjectURL(u),document.body.removeChild(M),i.IComMessageService.showAlertMessageDone("T\u1ea3i file th\xe0nh c\xf4ng.")}else i.IComMessageService.showAlertMessageDone("T\u1ea3i file th\u1ea5t b\u1ea1i.")},a.onerror=function(){console.error("Request error")},a.setRequestHeader("Content-Type","application/json"),(0,Y.xh)(i.filter.value),a.send(JSON.stringify(i.filter.value))})()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["icom-libs-campaign-statistic-nav"]],inputs:{label:"label",ignoreFilter:"ignoreFilter"},outputs:{icomFilter:"icomFilter"},standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:5,vars:2,consts:[[1,"flex","w-full","h-full","justify-between"],[1,"flex","flex-col"],[1,"text-base"],["class","flex",4,"ngIf"],[1,"flex"],["nz-button","","nzShape","round",1,"mr-2",3,"nzSize","click"],["nz-icon","","nzType","file-excel","nzTheme","outline"],["nz-icon","","nzType","download","nzTheme","outline"],[3,"nzPlaceHolder","formControl","nzRanges"]],template:function(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"span",2),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(4,P,5,5,"div",3),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(a.label),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!a.ignoreFilter))},dependencies:[r.FormsModule,r.NgControlStatus,r.ReactiveFormsModule,r.FormControlDirective,_.NzDatePickerModule,_.NzDatePickerComponent,_.NzRangePickerComponent,d.NgIf,m.NzButtonModule,m.NzButtonComponent,Z.\u0275NzTransitionPatchDirective,G.NzWaveDirective,x.NzIconModule,x.NzIconDirective,E.NzDividerModule,b.NzSelectModule],encapsulation:2})}return n})();var F=s(926);function H(n,l){1&n&&e.\u0275\u0275element(0,"nz-spin",4),2&n&&e.\u0275\u0275property("nzSize","large")}function X(n,l){if(1&n&&e.\u0275\u0275element(0,"apx-chart",5),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("series",t.config.series)("chart",t.config.chart)("xaxis",t.config.xaxis)("title",t.config.title)}}let $=(()=>{class n extends f{constructor(t){super(),this.ngZone=t,this.changeDetectorRef=(0,e.inject)(e.ChangeDetectorRef),this.ids=[]}ngOnChanges(){this.getDataChart()}processBuildChart(t){this.config={series:[{data:t.map(i=>i.value),name:t.map(i=>i.name)}],chart:{type:"bar",height:"100%",toolbar:{show:!1},fontFamily:"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji"},xaxis:{categories:t.map(i=>i.name),id:t.map(i=>i.name)},yaxis:{title:{text:"S\u1ed1 l\u01b0\u1ee3ng ng\u01b0\u1eddi d\xf9ng"}},dataLabels:{enabled:!1}}}getDataChart(){var t=this;return(0,o.Z)(function*(){try{t.isLoading=!0;const i=yield(0,g.lastValueFrom)(t.iComLibsServicesProjectFlashSaleStatisticService?.getCountGroupBrand({_id:t.ids?.toString()||""}));t.processBuildChart(i?.data?.value||[]),t.changeDetectorRef.detectChanges()}catch(i){console.log(i)}finally{t.isLoading=!1,t.changeDetectorRef.detectChanges()}})()}handlerFilter(t){this.filter=t,this.getDataChart()}static#e=this.\u0275fac=function(i){return new(i||n)(e.\u0275\u0275directiveInject(e.NgZone))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["icom-libs-flash_sale-statistic-brands"]],inputs:{ids:"ids"},standalone:!0,features:[e.\u0275\u0275InheritDefinitionFeature,e.\u0275\u0275NgOnChangesFeature,e.\u0275\u0275StandaloneFeature],decls:4,vars:4,consts:[[1,"flex","flex-col","w-full","h-full"],[1,"text-xs","font-semibold",3,"label","ignoreFilter","icomFilter"],["class","flex justify-center items-center","nzSimple","",3,"nzSize",4,"ngIf"],["class"," w-full h-full overflow-hidden",3,"series","chart","xaxis","title",4,"ngIf"],["nzSimple","",1,"flex","justify-center","items-center",3,"nzSize"],[1,"w-full","h-full","overflow-hidden",3,"series","chart","xaxis","title"]],template:function(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",0)(1,"icom-libs-campaign-statistic-nav",1),e.\u0275\u0275listener("icomFilter",function(u){return a.handlerFilter(u)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(2,H,1,1,"nz-spin",2),e.\u0275\u0275template(3,X,1,4,"apx-chart",3),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("label","B\xe1o c\xe1o th\u01b0\u01a1ng hi\u1ec7u \u0111\u01b0\u1ee3c mua nhi\u1ec1u")("ignoreFilter",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.isLoading),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!a.isLoading&&a.config))},dependencies:[F.NzSpinModule,F.NzSpinComponent,d.NgIf,T,h.NgApexchartsModule,h.ChartComponent],encapsulation:2,changeDetection:0})}return n})();function W(n,l){1&n&&e.\u0275\u0275element(0,"nz-spin",4),2&n&&e.\u0275\u0275property("nzSize","large")}function k(n,l){if(1&n&&e.\u0275\u0275element(0,"apx-chart",5),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("series",t.config.series)("chart",t.config.chart)("xaxis",t.config.xaxis)("title",t.config.title)}}let B=(()=>{class n extends f{constructor(t){super(),this.ngZone=t,this.changeDetectorRef=(0,e.inject)(e.ChangeDetectorRef),this.ids=[]}ngOnChanges(){this.getDataChart()}processBuildChart(t){this.config={series:[{name:t.map(i=>i.name),data:t.map(i=>i.value)}],chart:{type:"bar",height:"100%",toolbar:{show:!1},fontFamily:"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji"},xaxis:{categories:t.map(i=>i.name)},yaxis:{title:{text:"S\u1ed1 l\u01b0\u1ee3ng ng\u01b0\u1eddi d\xf9ng"}},dataLabels:{enabled:!1}}}getDataChart(){var t=this;return(0,o.Z)(function*(){try{t.isLoading=!0;const i=yield(0,g.lastValueFrom)(t.iComLibsServicesProjectFlashSaleStatisticService?.getVoucher({_id:t.ids?.toString()||""}));t.processBuildChart(i?.data?.value||[]),t.changeDetectorRef.detectChanges()}catch(i){console.log(i)}finally{t.isLoading=!1,t.changeDetectorRef.detectChanges()}})()}handlerFilter(t){this.filter=t,this.getDataChart()}static#e=this.\u0275fac=function(i){return new(i||n)(e.\u0275\u0275directiveInject(e.NgZone))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["icom-libs-flash_sale-statistic-voucher"]],inputs:{ids:"ids"},standalone:!0,features:[e.\u0275\u0275InheritDefinitionFeature,e.\u0275\u0275NgOnChangesFeature,e.\u0275\u0275StandaloneFeature],decls:4,vars:4,consts:[[1,"flex","flex-col","w-full","h-full"],[1,"text-xs","font-semibold",3,"label","ignoreFilter","icomFilter"],["class","w-full h-full flex justify-center items-center","nzSimple","",3,"nzSize",4,"ngIf"],["class","flex flex-col w-full h-full",3,"series","chart","xaxis","title",4,"ngIf"],["nzSimple","",1,"w-full","h-full","flex","justify-center","items-center",3,"nzSize"],[1,"flex","flex-col","w-full","h-full",3,"series","chart","xaxis","title"]],template:function(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",0)(1,"icom-libs-campaign-statistic-nav",1),e.\u0275\u0275listener("icomFilter",function(u){return a.handlerFilter(u)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(2,W,1,1,"nz-spin",2),e.\u0275\u0275template(3,k,1,4,"apx-chart",3),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("label","T\u1ef7 l\u1ec7 mua voucher c\u1ee7a c\xe1c nh\xf3m s\u1ea3n ph\u1ea9m c\u1ee7a flash sale")("ignoreFilter",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.isLoading),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!a.isLoading&&a.config))},dependencies:[F.NzSpinModule,F.NzSpinComponent,d.NgIf,T,h.NgApexchartsModule,h.ChartComponent],encapsulation:2,changeDetection:0})}return n})();function Q(n,l){1&n&&e.\u0275\u0275element(0,"nz-spin",4),2&n&&e.\u0275\u0275property("nzSize","large")}function K(n,l){if(1&n&&e.\u0275\u0275element(0,"apx-chart",5),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("series",t.config.series)("chart",t.config.chart)("xaxis",t.config.xaxis)("title",t.config.title)}}let U=(()=>{class n extends f{constructor(){super(),this.changeDetectorRef=(0,e.inject)(e.ChangeDetectorRef),this.ids=[]}ngOnChanges(){this.getDataChart()}processBuildChart(t){this.config={series:[{name:t.map(i=>i.name),data:t.map(i=>i.value)}],chart:{type:"bar",height:"100%",toolbar:{show:!1},fontFamily:"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji"},xaxis:{categories:t.map(i=>i.name)},yaxis:{title:{text:"S\u1ed1 l\u01b0\u1ee3ng ng\u01b0\u1eddi d\xf9ng"}},dataLabels:{enabled:!1}}}getDataChart(){var t=this;return(0,o.Z)(function*(){try{t.isLoading=!0;const i=yield(0,g.lastValueFrom)(t.iComLibsServicesProjectFlashSaleStatisticService?.getViewCategorySuccess({_id:t.ids?.toString()||""}));t.processBuildChart(i?.data?.value||[]),t.changeDetectorRef.detectChanges()}catch(i){console.log(i)}finally{t.isLoading=!1,t.changeDetectorRef.detectChanges()}})()}handlerFilter(t){this.filter=t,this.getDataChart()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["icom-libs-flash_sale-statistic-care-group"]],inputs:{ids:"ids"},standalone:!0,features:[e.\u0275\u0275InheritDefinitionFeature,e.\u0275\u0275NgOnChangesFeature,e.\u0275\u0275StandaloneFeature],decls:4,vars:4,consts:[[1,"flex","flex-col","w-full","h-full"],[1,"text-xs","font-semibold",3,"label","ignoreFilter","icomFilter"],["class","w-full h-full flex justify-center items-center","nzSimple","",3,"nzSize",4,"ngIf"],["class","flex flex-col w-full h-full",3,"series","chart","xaxis","title",4,"ngIf"],["nzSimple","",1,"w-full","h-full","flex","justify-center","items-center",3,"nzSize"],[1,"flex","flex-col","w-full","h-full",3,"series","chart","xaxis","title"]],template:function(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",0)(1,"icom-libs-campaign-statistic-nav",1),e.\u0275\u0275listener("icomFilter",function(u){return a.handlerFilter(u)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(2,Q,1,1,"nz-spin",2),e.\u0275\u0275template(3,K,1,4,"apx-chart",3),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("label","T\u1ef7 l\u1ec7 quan t\xe2m \u0111\u1ebfn c\xe1c nh\xf3m s\u1ea3n ph\u1ea9m c\u1ee7a flash sale")("ignoreFilter",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.isLoading),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!a.isLoading&&a.config))},dependencies:[F.NzSpinModule,F.NzSpinComponent,d.NgIf,T,h.NgApexchartsModule,h.ChartComponent],encapsulation:2,changeDetection:0})}return n})();function q(n,l){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"icom-libs-campaign-statistic-total",9),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("type","percent_active")("ids",t.model.ids)}}function ee(n,l){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"icom-libs-campaign-statistic-total",9),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("type","view_detail_flashsale")("ids",t.model.ids)}}function te(n,l){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"icom-libs-campaign-statistic-total",9),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("type","view_detail_flashsale/product")("ids",t.model.ids)}}function ne(n,l){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"icom-libs-campaign-statistic-total",9),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("type","buy_flashsale/click")("ids",t.model.ids)}}function ie(n,l){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"icom-libs-campaign-statistic-total",9),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("type","buy_flashsale/success")("ids",t.model.ids)}}function ae(n,l){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"icom-libs-campaign-statistic-total",9),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("type","redeem_point")("ids",t.model.ids)}}function oe(n,l){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"icom-libs-campaign-statistic-total",9),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("type","redeem_cash")("ids",t.model.ids)}}function se(n,l){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"icom-libs-campaign-statistic-total",9),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("type","/buy_flashsale/CR")("ids",t.model.ids)}}function re(n,l){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"icom-libs-campaign-statistic-total",9),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("type","sale")("ids",t.model.ids)}}function le(n,l){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"icom-libs-flash_sale-statistic-brands",10),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ids",t.model.ids)}}function ce(n,l){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"icom-libs-flash_sale-statistic-voucher",10),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ids",t.model.ids)}}function me(n,l){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"icom-libs-flash_sale-statistic-care-group",10),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ids",t.model.ids)}}function pe(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"gridster-item",6)(1,"div",7),e.\u0275\u0275template(2,q,2,2,"ng-container",8),e.\u0275\u0275template(3,ee,2,2,"ng-container",8),e.\u0275\u0275template(4,te,2,2,"ng-container",8),e.\u0275\u0275template(5,ne,2,2,"ng-container",8),e.\u0275\u0275template(6,ie,2,2,"ng-container",8),e.\u0275\u0275template(7,ae,2,2,"ng-container",8),e.\u0275\u0275template(8,oe,2,2,"ng-container",8),e.\u0275\u0275template(9,se,2,2,"ng-container",8),e.\u0275\u0275template(10,re,2,2,"ng-container",8),e.\u0275\u0275template(11,le,2,1,"ng-container",8),e.\u0275\u0275template(12,ce,2,1,"ng-container",8),e.\u0275\u0275template(13,me,2,1,"ng-container",8),e.\u0275\u0275elementEnd()()),2&n){const t=l.$implicit;e.\u0275\u0275property("item",t),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass"," p-4 border border-gray-300 rounded w-full h-full  justify-between"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","percent_active"===t.type),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","view_detail_flashsale"===t.type),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","view_detail_flashsale/product"===t.type),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","buy_flashsale/click"===t.type),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","buy_flashsale/success"===t.type),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","redeem_point"===t.type),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","redeem_cash"===t.type),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","/buy_flashsale/CR"===t.type),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","sale"===t.type),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","brands"===t.type),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","voucher"===t.type),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","care-group"===t.type)}}const ue=[{path:"",component:(()=>{class n{constructor(t){this.iComLibsServicesProjectFlashSaleService=t,this.options={},this.gridOptions={gridType:"scrollVertical"},this.form=new r.FormGroup({}),this.model={},this.fields=[{key:"ids",type:"select-custom",defaultValue:"",props:{nzServerSearch:!0,listOptionDropdown:(a,p)=>this.iComLibsServicesProjectFlashSaleService.list({page:a||1,size:15,...p}).pipe((0,g.map)(u=>u?.data)),placeholder:"Flash Sale",label:"Flash Sale",viewValue:"name",labelProp:"name",valueProp:"_id",options:this.iComLibsServicesProjectFlashSaleService.list({page:1,size:15}).pipe((0,g.map)(a=>a?.data?.items))}}],this.dataBoxes=["percent_active","view_detail_flashsale","view_detail_flashsale/product","buy_flashsale/click","buy_flashsale/success","redeem_point","redeem_cash","sale","/buy_flashsale/CR"].map((a,p)=>({cols:1,rows:1,y:Math.floor(p/5),x:p%5,type:a})),this.dataBoxes.push({cols:3,rows:3,y:2,x:0,type:"brands"},{cols:3,rows:3,y:2,x:3,type:"voucher"},{cols:3,rows:3,y:4,x:0,type:"care-group"})}getColorClass(t){const i=["bg-red-200","bg-blue-200","bg-green-200","bg-yellow-200","bg-purple-200","bg-pink-200","bg-orange-200","bg-teal-200"];return i[t%i.length]}getBorderColor(t){const i=["blue","teal","red","purple"];return i[t%i.length]}static#e=this.\u0275fac=function(i){return new(i||n)(e.\u0275\u0275directiveInject(I.Rm))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["icom-libs-campaign-flash_sale"]],decls:6,vars:7,consts:[[1,"w-full"],["nz-form","",3,"formGroup"],[3,"model","fields","options","form"],[2,"display","flex","flex-direction","column","height","calc(100% - 50px) !important"],[3,"options"],[3,"item",4,"ngFor","ngForOf"],[3,"item"],[3,"ngClass"],[4,"ngIf"],[1,"w-full","h-full","flex","flex-col",3,"type","ids"],[1,"w-full","h-full","flex","flex-col",3,"ids"]],template:function(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",0)(1,"form",1),e.\u0275\u0275element(2,"formly-form",2),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(3,"div",3)(4,"gridster",4),e.\u0275\u0275template(5,pe,14,14,"gridster-item",5),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",a.form),e.\u0275\u0275advance(1),e.\u0275\u0275property("model",a.model)("fields",a.fields)("options",a.options)("form",a.form),e.\u0275\u0275advance(2),e.\u0275\u0275property("options",a.gridOptions),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",a.dataBoxes))},dependencies:[d.NgClass,d.NgForOf,d.NgIf,D.FormlyForm,j.NzFormDirective,r.\u0275NgNoValidate,r.NgControlStatusGroup,r.FormGroupDirective,z.GridsterComponent,z.GridsterItemComponent,C,$,B,U],encapsulation:2,changeDetection:0})}return n})(),data:{breadcrumb:""}}];let de=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=e.\u0275\u0275defineNgModule({type:n});static#n=this.\u0275inj=e.\u0275\u0275defineInjector({providers:[{provide:N.Xj,useClass:N.YJ}],imports:[d.CommonModule,S.RouterModule.forChild(ue),D.FormlyModule,j.NzFormModule,D.FormlyModule,r.ReactiveFormsModule,z.GridsterModule,h.NgApexchartsModule,C,$,B,U,m.NzButtonModule,b.NzSelectModule,r.FormsModule]})}return n})()},50944:function(R){R.exports=function(){"use strict";var y="minute",s=/[+-]\d\d(?::?\d\d)?/g,h=/([+-]|\d\d)/g;return function(N,d,S){var r=d.prototype;S.utc=function(o){return new d({date:o,utc:!0,args:arguments})},r.utc=function(o){var c=S(this.toDate(),{locale:this.$L,utc:!0});return o?c.add(this.utcOffset(),y):c},r.local=function(){return S(this.toDate(),{locale:this.$L,utc:!1})};var I=r.parse;r.parse=function(o){o.utc&&(this.$u=!0),this.$utils().u(o.$offset)||(this.$offset=o.$offset),I.call(this,o)};var z=r.init;r.init=function(){if(this.$u){var o=this.$d;this.$y=o.getUTCFullYear(),this.$M=o.getUTCMonth(),this.$D=o.getUTCDate(),this.$W=o.getUTCDay(),this.$H=o.getUTCHours(),this.$m=o.getUTCMinutes(),this.$s=o.getUTCSeconds(),this.$ms=o.getUTCMilliseconds()}else z.call(this)};var g=r.utcOffset;r.utcOffset=function(o,c){var f=this.$utils().u;if(f(o))return this.$u?0:f(this.$offset)?g.call(this):this.$offset;if("string"==typeof o&&null===(o=function(x){void 0===x&&(x="");var E=x.match(s);if(!E)return null;var b=(""+E[0]).match(h)||["-",0,0],L=60*+b[1]+ +b[2];return 0===L?0:"+"===b[0]?L:-L}(o)))return this;var C=Math.abs(o)<=16?60*o:o,m=this;if(c)return m.$offset=C,m.$u=0===o,m;if(0!==o){var _=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(m=this.local().add(C+_,y)).$offset=C,m.$x.$localOffset=_}else m=this.utc();return m};var e=r.format;r.format=function(o){return e.call(this,o||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":""))},r.valueOf=function(){var o=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*o},r.isUTC=function(){return!!this.$u},r.toISOString=function(){return this.toDate().toISOString()},r.toString=function(){return this.toDate().toUTCString()};var D=r.toDate;r.toDate=function(o){return"s"===o&&this.$offset?S(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():D.call(this)};var j=r.diff;r.diff=function(o,c,f){if(o&&this.$u===o.$u)return j.call(this,o,c,f);var C=this.local(),m=S(o).local();return j.call(C,m,c,f)}}}()}}]);