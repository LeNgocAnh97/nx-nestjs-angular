(self.webpackChunkicom=self.webpackChunkicom||[]).push([[8128],{48128:(nt,C,c)=>{c.r(C),c.d(C,{NzProgressComponent:()=>tt,NzProgressModule:()=>et});var y=c(49388),f=c(14817),t=c(36151),v=c(58882),P=c(87757),p=c(97582),T=c(33635),x=c(65893),g=c(45665),h=c(47990);function N(n,r){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"span",8),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("nzType",e.icon)}}function E(n,r){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275elementContainerEnd()),2&n){const e=r.$implicit,s=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e(s.nzPercent)," ")}}const O=function(n){return{$implicit:n}};function D(n,r){if(1&n&&t.\u0275\u0275template(0,E,2,1,"ng-container",9),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("nzStringTemplateOutlet",e.formatter)("nzStringTemplateOutletContext",t.\u0275\u0275pureFunction1(2,O,e.nzPercent))}}function M(n,r){if(1&n&&(t.\u0275\u0275elementStart(0,"span",5),t.\u0275\u0275template(1,N,2,1,"ng-container",6),t.\u0275\u0275template(2,D,1,4,"ng-template",null,7,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275reference(3),s=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",("exception"===s.status||"success"===s.status)&&!s.nzFormat)("ngIfElse",e)}}function $(n,r){if(1&n&&t.\u0275\u0275template(0,M,4,2,"span",4),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngIf",e.nzShowInfo)}}function G(n,r){if(1&n&&t.\u0275\u0275element(0,"div",17),2&n){const e=t.\u0275\u0275nextContext(4);t.\u0275\u0275styleProp("width",e.nzSuccessPercent,"%")("border-radius","round"===e.nzStrokeLinecap?"100px":"0")("height",e.strokeWidth,"px")}}function W(n,r){if(1&n&&(t.\u0275\u0275elementStart(0,"div",13)(1,"div",14),t.\u0275\u0275element(2,"div",15),t.\u0275\u0275template(3,G,1,6,"div",16),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275styleProp("width",e.nzPercent,"%")("border-radius","round"===e.nzStrokeLinecap?"100px":"0")("background",e.isGradient?null:e.nzStrokeColor)("background-image",e.isGradient?e.lineGradient:null)("height",e.strokeWidth,"px"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.nzSuccessPercent||0===e.nzSuccessPercent)}}function b(n,r){}function F(n,r){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,W,4,11,"div",11),t.\u0275\u0275template(2,b,0,0,"ng-template",12),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2),s=t.\u0275\u0275reference(1);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e.isSteps),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngTemplateOutlet",s)}}function L(n,r){1&n&&t.\u0275\u0275element(0,"div",20),2&n&&t.\u0275\u0275property("ngStyle",r.$implicit)}function w(n,r){}function A(n,r){if(1&n&&(t.\u0275\u0275elementStart(0,"div",18),t.\u0275\u0275template(1,L,1,1,"div",19),t.\u0275\u0275template(2,w,0,0,"ng-template",12),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2),s=t.\u0275\u0275reference(1);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.steps),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngTemplateOutlet",s)}}function B(n,r){if(1&n&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275template(1,F,3,2,"ng-container",2),t.\u0275\u0275template(2,A,3,2,"div",10),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e.isSteps),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.isSteps)}}function R(n,r){if(1&n&&(t.\u0275\u0275namespaceSVG(),t.\u0275\u0275element(0,"stop")),2&n){const e=r.$implicit;t.\u0275\u0275attribute("offset",e.offset)("stop-color",e.color)}}function U(n,r){if(1&n&&(t.\u0275\u0275namespaceSVG(),t.\u0275\u0275elementStart(0,"defs")(1,"linearGradient",24),t.\u0275\u0275template(2,R,1,2,"stop",25),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("id","gradient-"+e.gradientId),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.circleGradient)}}function j(n,r){if(1&n&&(t.\u0275\u0275namespaceSVG(),t.\u0275\u0275element(0,"path",26)),2&n){const e=r.$implicit,s=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngStyle",e.strokePathStyle),t.\u0275\u0275attribute("d",s.pathString)("stroke-linecap",s.nzStrokeLinecap)("stroke",e.stroke)("stroke-width",s.nzPercent?s.strokeWidth:0)}}function K(n,r){1&n&&t.\u0275\u0275namespaceSVG()}function V(n,r){if(1&n&&(t.\u0275\u0275elementStart(0,"div",14),t.\u0275\u0275namespaceSVG(),t.\u0275\u0275elementStart(1,"svg",21),t.\u0275\u0275template(2,U,3,2,"defs",2),t.\u0275\u0275element(3,"path",22),t.\u0275\u0275template(4,j,1,5,"path",23),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(5,K,0,0,"ng-template",12),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(),s=t.\u0275\u0275reference(1);t.\u0275\u0275styleProp("width",e.nzWidth,"px")("height",e.nzWidth,"px")("font-size",.15*e.nzWidth+6,"px"),t.\u0275\u0275classProp("ant-progress-circle-gradient",e.isGradient),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",e.isGradient),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngStyle",e.trailPathStyle),t.\u0275\u0275attribute("stroke-width",e.strokeWidth)("d",e.pathString),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.progressCirclePath)("ngForTrackBy",e.trackByFn),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngTemplateOutlet",s)}}const k=n=>{let r=[];return Object.keys(n).forEach(e=>{const s=n[e],o=function X(n){return+n.replace("%","")}(e);isNaN(o)||r.push({key:o,value:s})}),r=r.sort((e,s)=>e.key-s.key),r};let H=0;const I="progress",J=new Map([["success","check"],["exception","close"]]),Q=new Map([["normal","#108ee9"],["exception","#ff5500"],["success","#87d068"]]),q=n=>`${n}%`;let tt=(()=>{class n{get formatter(){return this.nzFormat||q}get status(){return this.nzStatus||this.inferredStatus}get strokeWidth(){return this.nzStrokeWidth||("line"===this.nzType&&"small"!==this.nzSize?8:6)}get isCircleStyle(){return"circle"===this.nzType||"dashboard"===this.nzType}constructor(e,s,o){this.cdr=e,this.nzConfigService=s,this.directionality=o,this._nzModuleName=I,this.nzShowInfo=!0,this.nzWidth=132,this.nzStrokeColor=void 0,this.nzSize="default",this.nzPercent=0,this.nzStrokeWidth=void 0,this.nzGapDegree=void 0,this.nzType="line",this.nzGapPosition="top",this.nzStrokeLinecap="round",this.nzSteps=0,this.steps=[],this.lineGradient=null,this.isGradient=!1,this.isSteps=!1,this.gradientId=H++,this.progressCirclePath=[],this.trailPathStyle=null,this.dir="ltr",this.trackByFn=i=>`${i}`,this.cachedStatus="normal",this.inferredStatus="normal",this.destroy$=new T.Subject}ngOnChanges(e){const{nzSteps:s,nzGapPosition:o,nzStrokeLinecap:i,nzStrokeColor:a,nzGapDegree:d,nzType:m,nzStatus:_,nzPercent:l,nzSuccessPercent:u,nzStrokeWidth:z}=e;_&&(this.cachedStatus=this.nzStatus||this.cachedStatus),(l||u)&&(parseInt(this.nzPercent.toString(),10)>=100?((0,h.isNotNil)(this.nzSuccessPercent)&&this.nzSuccessPercent>=100||void 0===this.nzSuccessPercent)&&(this.inferredStatus="success"):this.inferredStatus=this.cachedStatus),(_||l||u||a)&&this.updateIcon(),a&&this.setStrokeColor(),(o||i||d||m||l||a||a)&&this.getCirclePaths(),(l||s||z)&&(this.isSteps=this.nzSteps>0,this.isSteps&&this.getSteps())}ngOnInit(){this.nzConfigService.getConfigChangeEventForComponent(I).pipe((0,x.takeUntil)(this.destroy$)).subscribe(()=>{this.updateIcon(),this.setStrokeColor(),this.getCirclePaths()}),this.directionality.change?.pipe((0,x.takeUntil)(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}updateIcon(){const e=J.get(this.status);this.icon=e?e+(this.isCircleStyle?"-o":"-circle-fill"):""}getSteps(){const e=Math.floor(this.nzSteps*(this.nzPercent/100)),s="small"===this.nzSize?2:14,o=[];for(let i=0;i<this.nzSteps;i++){let a;i<=e-1&&(a=this.nzStrokeColor),o.push({backgroundColor:`${a}`,width:`${s}px`,height:`${this.strokeWidth}px`})}this.steps=o}getCirclePaths(){if(!this.isCircleStyle)return;const e=(0,h.isNotNil)(this.nzSuccessPercent)?[this.nzSuccessPercent,this.nzPercent]:[this.nzPercent],s=50-this.strokeWidth/2,i=2*Math.PI*s,a=this.nzGapDegree||("circle"===this.nzType?0:75);let d=0,m=-s,_=0,l=-2*s;switch(this.nzGapPosition||("circle"===this.nzType?"top":"bottom")){case"left":d=-s,m=0,_=2*s,l=0;break;case"right":d=s,m=0,_=-2*s,l=0;break;case"bottom":m=s,l=2*s}this.pathString=`M 50,50 m ${d},${m}\n       a ${s},${s} 0 1 1 ${_},${-l}\n       a ${s},${s} 0 1 1 ${-_},${l}`,this.trailPathStyle={strokeDasharray:`${i-a}px ${i}px`,strokeDashoffset:`-${a/2}px`,transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s"},this.progressCirclePath=e.map((u,z)=>{const S=2===e.length&&0===z;return{stroke:this.isGradient&&!S?`url(#gradient-${this.gradientId})`:null,strokePathStyle:{stroke:this.isGradient?null:S?Q.get("success"):this.nzStrokeColor,transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s",strokeDasharray:`${(u||0)/100*(i-a)}px ${i}px`,strokeDashoffset:`-${a/2}px`}}}).reverse()}setStrokeColor(){const e=this.nzStrokeColor,s=this.isGradient=!!e&&"string"!=typeof e;s&&!this.isCircleStyle?this.lineGradient=(n=>{const{from:r="#1890ff",to:e="#1890ff",direction:s="to right",...o}=n;return 0!==Object.keys(o).length?`linear-gradient(${s}, ${k(o).map(({key:a,value:d})=>`${d} ${a}%`).join(", ")})`:`linear-gradient(${s}, ${r}, ${e})`})(e):s&&this.isCircleStyle?this.circleGradient=(n=>k(this.nzStrokeColor).map(({key:r,value:e})=>({offset:`${r}%`,color:e})))():(this.lineGradient=null,this.circleGradient=[])}static#t=this.\u0275fac=function(s){return new(s||n)(t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(g.NzConfigService),t.\u0275\u0275directiveInject(y.Is,8))};static#e=this.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["nz-progress"]],inputs:{nzShowInfo:"nzShowInfo",nzWidth:"nzWidth",nzStrokeColor:"nzStrokeColor",nzSize:"nzSize",nzFormat:"nzFormat",nzSuccessPercent:"nzSuccessPercent",nzPercent:"nzPercent",nzStrokeWidth:"nzStrokeWidth",nzGapDegree:"nzGapDegree",nzStatus:"nzStatus",nzType:"nzType",nzGapPosition:"nzGapPosition",nzStrokeLinecap:"nzStrokeLinecap",nzSteps:"nzSteps"},exportAs:["nzProgress"],features:[t.\u0275\u0275NgOnChangesFeature],decls:5,vars:17,consts:[["progressInfoTemplate",""],[3,"ngClass"],[4,"ngIf"],["class","ant-progress-inner",3,"width","height","fontSize","ant-progress-circle-gradient",4,"ngIf"],["class","ant-progress-text",4,"ngIf"],[1,"ant-progress-text"],[4,"ngIf","ngIfElse"],["formatTemplate",""],["nz-icon","",3,"nzType"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["class","ant-progress-steps-outer",4,"ngIf"],["class","ant-progress-outer",4,"ngIf"],[3,"ngTemplateOutlet"],[1,"ant-progress-outer"],[1,"ant-progress-inner"],[1,"ant-progress-bg"],["class","ant-progress-success-bg",3,"width","border-radius","height",4,"ngIf"],[1,"ant-progress-success-bg"],[1,"ant-progress-steps-outer"],["class","ant-progress-steps-item",3,"ngStyle",4,"ngFor","ngForOf"],[1,"ant-progress-steps-item",3,"ngStyle"],["viewBox","0 0 100 100",1,"ant-progress-circle"],["stroke","#f3f3f3","fill-opacity","0",1,"ant-progress-circle-trail",3,"ngStyle"],["class","ant-progress-circle-path","fill-opacity","0",3,"ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],["x1","100%","y1","0%","x2","0%","y2","0%",3,"id"],[4,"ngFor","ngForOf"],["fill-opacity","0",1,"ant-progress-circle-path",3,"ngStyle"]],template:function(s,o){1&s&&(t.\u0275\u0275template(0,$,1,1,"ng-template",null,0,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementStart(2,"div",1),t.\u0275\u0275template(3,B,3,2,"div",2),t.\u0275\u0275template(4,V,6,15,"div",3),t.\u0275\u0275elementEnd()),2&s&&(t.\u0275\u0275advance(2),t.\u0275\u0275classProp("ant-progress-line","line"===o.nzType)("ant-progress-small","small"===o.nzSize)("ant-progress-default","default"===o.nzSize)("ant-progress-show-info",o.nzShowInfo)("ant-progress-circle",o.isCircleStyle)("ant-progress-steps",o.isSteps)("ant-progress-rtl","rtl"===o.dir),t.\u0275\u0275property("ngClass","ant-progress ant-progress-status-"+o.status),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","line"===o.nzType),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",o.isCircleStyle))},dependencies:[f.NgClass,f.NgForOf,f.NgIf,f.NgTemplateOutlet,f.NgStyle,P.NzIconDirective,v.NzStringTemplateOutletDirective],encapsulation:2,changeDetection:0})}return(0,p.gn)([(0,g.WithConfig)()],n.prototype,"nzShowInfo",void 0),(0,p.gn)([(0,g.WithConfig)()],n.prototype,"nzStrokeColor",void 0),(0,p.gn)([(0,g.WithConfig)()],n.prototype,"nzSize",void 0),(0,p.gn)([(0,h.InputNumber)()],n.prototype,"nzSuccessPercent",void 0),(0,p.gn)([(0,h.InputNumber)()],n.prototype,"nzPercent",void 0),(0,p.gn)([(0,g.WithConfig)(),(0,h.InputNumber)()],n.prototype,"nzStrokeWidth",void 0),(0,p.gn)([(0,g.WithConfig)(),(0,h.InputNumber)()],n.prototype,"nzGapDegree",void 0),(0,p.gn)([(0,g.WithConfig)()],n.prototype,"nzGapPosition",void 0),(0,p.gn)([(0,g.WithConfig)()],n.prototype,"nzStrokeLinecap",void 0),(0,p.gn)([(0,h.InputNumber)()],n.prototype,"nzSteps",void 0),n})(),et=(()=>{class n{static#t=this.\u0275fac=function(s){return new(s||n)};static#e=this.\u0275mod=t.\u0275\u0275defineNgModule({type:n});static#n=this.\u0275inj=t.\u0275\u0275defineInjector({imports:[y.vT,f.CommonModule,P.NzIconModule,v.NzOutletModule]})}return n})()}}]);