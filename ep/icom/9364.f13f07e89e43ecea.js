(self.webpackChunkicom=self.webpackChunkicom||[]).push([[9364,7582,2527,4022],{89364:(At,ee,z)=>{z.r(ee),z.d(ee,{ClickType:()=>zt,ColumnChangesService:()=>le,ColumnMode:()=>q,ContextmenuType:()=>he,DataTableBodyCellComponent:()=>Ct,DataTableBodyComponent:()=>Oe,DataTableBodyRowComponent:()=>Ae,DataTableColumnCellDirective:()=>lt,DataTableColumnCellTreeToggle:()=>ct,DataTableColumnDirective:()=>dt,DataTableColumnHeaderDirective:()=>at,DataTableFooterComponent:()=>Bt,DataTableFooterTemplateDirective:()=>$e,DataTableHeaderCellComponent:()=>It,DataTableHeaderComponent:()=>Ve,DataTablePagerComponent:()=>Ft,DataTableRowWrapperComponent:()=>vt,DataTableSelectionComponent:()=>yt,DataTableSummaryRowComponent:()=>xt,DatatableComponent:()=>qt,DatatableFooterDirective:()=>pt,DatatableGroupHeaderDirective:()=>Ze,DatatableGroupHeaderTemplateDirective:()=>Ke,DatatableRowDetailDirective:()=>ht,DatatableRowDetailTemplateDirective:()=>ut,DimensionsHelper:()=>Pe,DraggableDirective:()=>ke,Keys:()=>D,LongPressDirective:()=>qe,NgxDatatableModule:()=>Kt,OrderableDirective:()=>Ue,ProgressBarComponent:()=>bt,ResizeableDirective:()=>Ye,RowHeightCache:()=>ft,ScrollbarHelper:()=>ae,ScrollerComponent:()=>Me,SelectionType:()=>P,SortDirection:()=>H,SortType:()=>K,VisibilityDirective:()=>Qe,adjustColumnWidths:()=>Pt,camelCase:()=>ue,columnGroupWidths:()=>N,columnTotalWidth:()=>Z,columnsByPin:()=>V,columnsByPinArr:()=>Be,columnsTotalWidth:()=>gt,deCamelCase:()=>rt,deepValueGetter:()=>nt,elementsFromPoint:()=>Wt,emptyStringGetter:()=>Je,forceFillColumnWidths:()=>kt,getTotalFlexGrow:()=>Et,getVendorPrefixedName:()=>J,getterForProp:()=>ce,groupRowsByParents:()=>de,id:()=>it,isNullOrUndefined:()=>L,nextSortDir:()=>Tt,numericIndexGetter:()=>et,optionalGetterForProp:()=>X,orderByComparator:()=>Dt,selectRows:()=>ge,selectRowsBetween:()=>_t,setColumnDefaults:()=>Fe,shallowValueGetter:()=>tt,sortRows:()=>St,throttle:()=>Rt,throttleable:()=>Ht,translateTemplates:()=>st,translateXY:()=>A});var t=z(36151),x=z(14817),k=z(33635),$=z(65893),te=z(97582);const Q=["*"],je=["cellTemplate"];function Xe(o,s){if(1&o){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"label",4)(1,"input",5),t.\u0275\u0275listener("click",function(r){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onCheckboxChange(r))}),t.\u0275\u0275elementEnd()()}if(2&o){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",e.isSelected)}}function Ge(o,s){1&o&&t.\u0275\u0275element(0,"i",11)}function Le(o,s){1&o&&t.\u0275\u0275element(0,"i",12)}function ne(o,s){1&o&&t.\u0275\u0275element(0,"i",13)}function oe(o,s){if(1&o){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",7),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const r=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(r.onTreeAction())}),t.\u0275\u0275elementStart(1,"span"),t.\u0275\u0275template(2,Ge,1,0,"i",8),t.\u0275\u0275template(3,Le,1,0,"i",9),t.\u0275\u0275template(4,ne,1,0,"i",10),t.\u0275\u0275elementEnd()()}if(2&o){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("disabled","disabled"===e.treeStatus),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","loading"===e.treeStatus),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","collapsed"===e.treeStatus),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","expanded"===e.treeStatus||"disabled"===e.treeStatus)}}function fe(o,s){}const Y=function(o){return{cellContext:o}};function me(o,s){if(1&o&&t.\u0275\u0275template(0,fe,0,0,"ng-template",14),2&o){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngTemplateOutlet",e.column.treeToggleTemplate)("ngTemplateOutletContext",t.\u0275\u0275pureFunction1(2,Y,e.cellContext))}}function U(o,s){if(1&o&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,oe,5,4,"button",6),t.\u0275\u0275template(2,me,1,4,null,2),t.\u0275\u0275elementContainerEnd()),2&o){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e.column.treeToggleTemplate),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.column.treeToggleTemplate)}}function re(o,s){if(1&o&&t.\u0275\u0275element(0,"span",15),2&o){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("title",e.sanitizedValue)("innerHTML",e.value,t.\u0275\u0275sanitizeHtml)}}function we(o,s){}function be(o,s){if(1&o&&t.\u0275\u0275template(0,we,0,0,"ng-template",14,16,t.\u0275\u0275templateRefExtractor),2&o){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngTemplateOutlet",e.column.cellTemplate)("ngTemplateOutletContext",e.cellContext)}}function _e(o,s){if(1&o){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"datatable-body-cell",3),t.\u0275\u0275listener("activate",function(r){const l=t.\u0275\u0275restoreView(e).index,h=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(h.onActivate(r,l))})("treeAction",function(){t.\u0275\u0275restoreView(e);const r=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(r.onTreeAction())}),t.\u0275\u0275elementEnd()}if(2&o){const e=s.$implicit,n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("row",n.row)("group",n.group)("expanded",n.expanded)("isSelected",n.isSelected)("rowIndex",n.rowIndex)("column",e)("rowHeight",n.rowHeight)("displayCheck",n.displayCheck)("treeStatus",n.treeStatus)}}function O(o,s){if(1&o&&(t.\u0275\u0275elementStart(0,"div",1),t.\u0275\u0275template(1,_e,1,9,"datatable-body-cell",2),t.\u0275\u0275elementEnd()),2&o){const e=s.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275classMapInterpolate1("datatable-row-",e.type," datatable-row-group"),t.\u0275\u0275property("ngStyle",n._groupStyles[e.type]),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.columns)("ngForTrackBy",n.columnTrackingFn)}}function ie(o,s){if(1&o&&t.\u0275\u0275element(0,"datatable-body-row",1),2&o){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("innerWidth",e.innerWidth)("offsetX",e.offsetX)("columns",e._internalColumns)("rowHeight",e.rowHeight)("row",e.summaryRow)("rowIndex",-1)}}function ye(o,s){}function se(o,s){if(1&o&&t.\u0275\u0275template(0,ye,0,0,"ng-template",4),2&o){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngTemplateOutlet",e.groupHeader.template)("ngTemplateOutletContext",e.groupContext)}}function Ce(o,s){if(1&o&&(t.\u0275\u0275elementStart(0,"div",3),t.\u0275\u0275template(1,se,1,2,null,1),t.\u0275\u0275elementEnd()),2&o){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngStyle",e.getGroupHeaderStyle()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.groupHeader&&e.groupHeader.template)}}function xe(o,s){1&o&&t.\u0275\u0275projection(0,0,["*ngIf","(groupHeader && groupHeader.template && expanded) || !groupHeader || !groupHeader.template"])}function ve(o,s){}function Te(o,s){if(1&o&&t.\u0275\u0275template(0,ve,0,0,"ng-template",4),2&o){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngTemplateOutlet",e.rowDetail.template)("ngTemplateOutletContext",e.rowContext)}}function De(o,s){if(1&o&&(t.\u0275\u0275elementStart(0,"div",5),t.\u0275\u0275template(1,Te,1,2,null,1),t.\u0275\u0275elementEnd()),2&o){const e=t.\u0275\u0275nextContext();t.\u0275\u0275styleProp("height",e.detailRowHeight,"px"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.rowDetail&&e.rowDetail.template)}}function Se(o,s){1&o&&t.\u0275\u0275element(0,"datatable-progress")}function Ie(o,s){if(1&o&&t.\u0275\u0275element(0,"datatable-summary-row",9),2&o){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("rowHeight",e.summaryHeight)("offsetX",e.offsetX)("innerWidth",e.innerWidth)("rows",e.rows)("columns",e.columns)}}function Re(o,s){if(1&o){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"datatable-body-row",13),t.\u0275\u0275listener("treeAction",function(){t.\u0275\u0275restoreView(e);const r=t.\u0275\u0275nextContext().$implicit,i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.onTreeAction(r))})("activate",function(r){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().index,l=t.\u0275\u0275nextContext(2),h=t.\u0275\u0275reference(2);return t.\u0275\u0275resetView(h.onActivate(r,l.indexes.first+i))}),t.\u0275\u0275elementEnd()}if(2&o){const e=t.\u0275\u0275nextContext().$implicit,n=t.\u0275\u0275nextContext(2),r=t.\u0275\u0275reference(2);t.\u0275\u0275property("isSelected",r.getRowSelected(e))("innerWidth",n.innerWidth)("offsetX",n.offsetX)("columns",n.columns)("rowHeight",n.getRowHeight(e))("row",e)("rowIndex",n.getRowIndex(e))("expanded",n.getRowExpanded(e))("rowClass",n.rowClass)("displayCheck",n.displayCheck)("treeStatus",e&&e.treeStatus)}}function He(o,s){if(1&o){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"datatable-body-row",15),t.\u0275\u0275listener("activate",function(r){const l=t.\u0275\u0275restoreView(e).index;t.\u0275\u0275nextContext(4);const h=t.\u0275\u0275reference(2);return t.\u0275\u0275resetView(h.onActivate(r,l))}),t.\u0275\u0275elementEnd()}if(2&o){const e=s.$implicit,n=t.\u0275\u0275nextContext(2).$implicit,r=t.\u0275\u0275nextContext(2),i=t.\u0275\u0275reference(2);t.\u0275\u0275property("isSelected",i.getRowSelected(e))("innerWidth",r.innerWidth)("offsetX",r.offsetX)("columns",r.columns)("rowHeight",r.getRowHeight(e))("row",e)("group",n.value)("rowIndex",r.getRowIndex(e))("expanded",r.getRowExpanded(e))("rowClass",r.rowClass)}}function Ee(o,s){if(1&o&&t.\u0275\u0275template(0,He,1,10,"datatable-body-row",14),2&o){const e=t.\u0275\u0275nextContext().$implicit,n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngForOf",e.value)("ngForTrackBy",n.rowTrackingFn)}}function Ne(o,s){if(1&o){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"datatable-row-wrapper",10),t.\u0275\u0275listener("rowContextmenu",function(r){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.rowContextmenu.emit(r))}),t.\u0275\u0275template(1,Re,1,11,"datatable-body-row",11),t.\u0275\u0275template(2,Ee,1,2,"ng-template",null,12,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()}if(2&o){const e=s.$implicit,n=s.index,r=t.\u0275\u0275reference(3),i=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("groupedRows",i.groupedRows)("innerWidth",i.innerWidth)("ngStyle",i.getRowsStyles(e))("rowDetail",i.rowDetail)("groupHeader",i.groupHeader)("offsetX",i.offsetX)("detailRowHeight",i.getDetailRowHeight(e&&e[n],n))("row",e)("expanded",i.getRowExpanded(e))("rowIndex",i.getRowIndex(e&&e[n])),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!i.groupedRows)("ngIfElse",r)}}function a(o,s){if(1&o&&t.\u0275\u0275element(0,"datatable-summary-row",16),2&o){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngStyle",e.getBottomSummaryRowStyles())("rowHeight",e.summaryHeight)("offsetX",e.offsetX)("innerWidth",e.innerWidth)("rows",e.rows)("columns",e.columns)}}function c(o,s){if(1&o){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"datatable-scroller",5),t.\u0275\u0275listener("scroll",function(r){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onBodyScroll(r))}),t.\u0275\u0275template(1,Ie,1,5,"datatable-summary-row",6),t.\u0275\u0275template(2,Ne,4,12,"datatable-row-wrapper",7),t.\u0275\u0275template(3,a,1,6,"datatable-summary-row",8),t.\u0275\u0275elementEnd()}if(2&o){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("scrollbarV",e.scrollbarV)("scrollbarH",e.scrollbarH)("scrollHeight",e.scrollHeight)("scrollWidth",null==e.columnGroupWidths?null:e.columnGroupWidths.total),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.summaryRow&&"top"===e.summaryPosition),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.temp)("ngForTrackBy",e.rowTrackingFn),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.summaryRow&&"bottom"===e.summaryPosition)}}function u(o,s){if(1&o&&t.\u0275\u0275element(0,"div",17),2&o){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("innerHTML",e.emptyMessage,t.\u0275\u0275sanitizeHtml)}}function d(o,s){}function f(o,s){if(1&o&&t.\u0275\u0275template(0,d,0,0,"ng-template",5),2&o){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngTemplateOutlet",e.targetMarkerTemplate)("ngTemplateOutletContext",e.targetMarkerContext)}}function p(o,s){if(1&o){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"label",6)(1,"input",7),t.\u0275\u0275listener("change",function(){t.\u0275\u0275restoreView(e);const r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(r.select.emit(!r.allRowsSelected))}),t.\u0275\u0275elementEnd()()}if(2&o){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",e.allRowsSelected)}}function m(o,s){if(1&o){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"span",8)(1,"span",9),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(r.onSort())}),t.\u0275\u0275elementEnd()()}if(2&o){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("innerHTML",e.name,t.\u0275\u0275sanitizeHtml)}}function y(o,s){}function I(o,s){if(1&o&&t.\u0275\u0275template(0,y,0,0,"ng-template",5),2&o){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngTemplateOutlet",e.column.headerTemplate)("ngTemplateOutletContext",e.cellContext)}}function w(o,s){if(1&o){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"datatable-header-cell",4),t.\u0275\u0275listener("resize",function(r){const l=t.\u0275\u0275restoreView(e).$implicit,h=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(h.onColumnResized(r,l))})("longPressStart",function(r){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.onLongPressStart(r))})("longPressEnd",function(r){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.onLongPressEnd(r))})("sort",function(r){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.onSort(r))})("select",function(r){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.select.emit(r))})("columnContextmenu",function(r){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.columnContextmenu.emit(r))}),t.\u0275\u0275elementEnd()}if(2&o){const e=s.$implicit,n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("resizeEnabled",e.resizeable)("pressModel",e)("pressEnabled",n.reorderable&&e.draggable)("dragX",n.reorderable&&e.draggable&&e.dragging)("dragY",!1)("dragModel",e)("dragEventTarget",n.dragEventTarget)("headerHeight",n.headerHeight)("isTarget",e.isTarget)("targetMarkerTemplate",n.targetMarkerTemplate)("targetMarkerContext",e.targetMarkerContext)("column",e)("sortType",n.sortType)("sorts",n.sorts)("selectionType",n.selectionType)("sortAscendingIcon",n.sortAscendingIcon)("sortDescendingIcon",n.sortDescendingIcon)("sortUnsetIcon",n.sortUnsetIcon)("allRowsSelected",n.allRowsSelected)}}function T(o,s){if(1&o&&(t.\u0275\u0275elementStart(0,"div",2),t.\u0275\u0275template(1,w,1,19,"datatable-header-cell",3),t.\u0275\u0275elementEnd()),2&o){const e=s.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275classMap("datatable-row-"+e.type),t.\u0275\u0275property("ngStyle",n._styleByGroup[e.type]),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.columns)("ngForTrackBy",n.columnTrackingFn)}}function S(o,s){if(1&o){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"li",6)(1,"a",7),t.\u0275\u0275listener("click",function(){const i=t.\u0275\u0275restoreView(e).$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.selectPage(i.number))}),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()()}if(2&o){const e=s.$implicit,n=t.\u0275\u0275nextContext();t.\u0275\u0275classProp("active",e.number===n.page),t.\u0275\u0275attribute("aria-label","page "+e.number),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",e.text," ")}}function j(o,s){}const v=function(o,s,e,n,r){return{rowCount:o,pageSize:s,selectedCount:e,curPage:n,offset:r}};function R(o,s){if(1&o&&t.\u0275\u0275template(0,j,0,0,"ng-template",4),2&o){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngTemplateOutlet",e.footerTemplate.template)("ngTemplateOutletContext",t.\u0275\u0275pureFunction5(2,v,e.rowCount,e.pageSize,e.selectedCount,e.curPage,e.offset))}}function E(o,s){if(1&o&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&o){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",null==e.selectedCount?null:e.selectedCount.toLocaleString()," ",e.selectedMessage," / ")}}function F(o,s){if(1&o&&(t.\u0275\u0275elementStart(0,"div",5),t.\u0275\u0275template(1,E,2,2,"span",1),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()),2&o){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.selectedMessage),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",null==e.rowCount?null:e.rowCount.toLocaleString()," ",e.totalMessage," ")}}function W(o,s){if(1&o){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"datatable-pager",6),t.\u0275\u0275listener("change",function(r){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.page.emit(r))}),t.\u0275\u0275elementEnd()}if(2&o){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("pagerLeftArrowIcon",e.pagerLeftArrowIcon)("pagerRightArrowIcon",e.pagerRightArrowIcon)("pagerPreviousIcon",e.pagerPreviousIcon)("pagerNextIcon",e.pagerNextIcon)("page",e.curPage)("size",e.pageSize)("count",e.rowCount)("hidden",!e.isVisible)}}const Ot=function(o){return{"selected-count":o}};function Vt(o,s){if(1&o){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"datatable-header",4),t.\u0275\u0275listener("sort",function(r){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onColumnSort(r))})("resize",function(r){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onColumnResize(r))})("reorder",function(r){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onColumnReorder(r))})("select",function(r){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onHeaderSelect(r))})("columnContextmenu",function(r){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onColumnContextmenu(r))}),t.\u0275\u0275pipe(1,"async"),t.\u0275\u0275elementEnd()}if(2&o){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("sorts",e.sorts)("sortType",e.sortType)("scrollbarH",e.scrollbarH)("innerWidth",e._innerWidth)("offsetX",t.\u0275\u0275pipeBind1(1,15,e._offsetX))("dealsWithGroup",void 0!==e.groupedRows)("columns",e._internalColumns)("headerHeight",e.headerHeight)("reorderable",e.reorderable)("targetMarkerTemplate",e.targetMarkerTemplate)("sortAscendingIcon",e.cssClasses.sortAscending)("sortDescendingIcon",e.cssClasses.sortDescending)("sortUnsetIcon",e.cssClasses.sortUnset)("allRowsSelected",e.allRowsSelected)("selectionType",e.selectionType)}}function jt(o,s){if(1&o){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"datatable-footer",5),t.\u0275\u0275listener("page",function(r){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onFooterPage(r))}),t.\u0275\u0275elementEnd()}if(2&o){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("rowCount",e.rowCount)("pageSize",e.pageSize)("offset",e.offset)("footerHeight",e.footerHeight)("footerTemplate",e.footer)("totalMessage",e.messages.totalMessage)("pagerLeftArrowIcon",e.cssClasses.pagerLeftArrow)("pagerRightArrowIcon",e.cssClasses.pagerRightArrow)("pagerPreviousIcon",e.cssClasses.pagerPrevious)("selectedCount",e.selected.length)("selectedMessage",!!e.selectionType&&e.messages.selectedMessage)("pagerNextIcon",e.cssClasses.pagerNext)}}let ae=(()=>{class o{constructor(e){this.document=e,this.width=this.getWidth()}getWidth(){const e=this.document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",this.document.body.appendChild(e);const n=e.offsetWidth;e.style.overflow="scroll";const r=this.document.createElement("div");r.style.width="100%",e.appendChild(r);const i=r.offsetWidth;return e.parentNode.removeChild(e),n-i}}return o.\u0275fac=function(e){return new(e||o)(t.\u0275\u0275inject(x.DOCUMENT))},o.\u0275prov=t.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o})(),Pe=(()=>{class o{getDimensions(e){return e.getBoundingClientRect()}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=t.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o})(),le=(()=>{class o{constructor(){this.columnInputChanges=new k.Subject}get columnInputChanges$(){return this.columnInputChanges.asObservable()}onInputChange(){this.columnInputChanges.next()}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=t.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o})(),$e=(()=>{class o{constructor(e){this.template=e}}return o.\u0275fac=function(e){return new(e||o)(t.\u0275\u0275directiveInject(t.TemplateRef))},o.\u0275dir=t.\u0275\u0275defineDirective({type:o,selectors:[["","ngx-datatable-footer-template",""]]}),o})(),Qe=(()=>{class o{constructor(e,n){this.element=e,this.zone=n,this.isVisible=!1,this.visible=new t.EventEmitter}ngOnInit(){this.runCheck()}ngOnDestroy(){clearTimeout(this.timeout)}onVisibilityChange(){this.zone.run(()=>{this.isVisible=!0,this.visible.emit(!0)})}runCheck(){const e=()=>{const{offsetHeight:n,offsetWidth:r}=this.element.nativeElement;n&&r?(clearTimeout(this.timeout),this.onVisibilityChange()):(clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>e(),50)}))};this.timeout=setTimeout(()=>e())}}return o.\u0275fac=function(e){return new(e||o)(t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(t.NgZone))},o.\u0275dir=t.\u0275\u0275defineDirective({type:o,selectors:[["","visibilityObserver",""]],hostVars:2,hostBindings:function(e,n){2&e&&t.\u0275\u0275classProp("visible",n.isVisible)},outputs:{visible:"visible"}}),o})(),ke=(()=>{class o{constructor(e){this.dragX=!0,this.dragY=!0,this.dragStart=new t.EventEmitter,this.dragging=new t.EventEmitter,this.dragEnd=new t.EventEmitter,this.isDragging=!1,this.element=e.nativeElement}ngOnChanges(e){e.dragEventTarget&&e.dragEventTarget.currentValue&&this.dragModel.dragging&&this.onMousedown(e.dragEventTarget.currentValue)}ngOnDestroy(){this._destroySubscription()}onMouseup(e){this.isDragging&&(this.isDragging=!1,this.element.classList.remove("dragging"),this.subscription&&(this._destroySubscription(),this.dragEnd.emit({event:e,element:this.element,model:this.dragModel})))}onMousedown(e){if(e.target.classList.contains("draggable")&&(this.dragX||this.dragY)){e.preventDefault(),this.isDragging=!0;const r={x:e.clientX,y:e.clientY},i=(0,k.fromEvent)(document,"mouseup");this.subscription=i.subscribe(h=>this.onMouseup(h));const l=(0,k.fromEvent)(document,"mousemove").pipe((0,$.takeUntil)(i)).subscribe(h=>this.move(h,r));this.subscription.add(l),this.dragStart.emit({event:e,element:this.element,model:this.dragModel})}}move(e,n){if(!this.isDragging)return;const i=e.clientY-n.y;this.dragX&&(this.element.style.left=e.clientX-n.x+"px"),this.dragY&&(this.element.style.top=`${i}px`),this.element.classList.add("dragging"),this.dragging.emit({event:e,element:this.element,model:this.dragModel})}_destroySubscription(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=void 0)}}return o.\u0275fac=function(e){return new(e||o)(t.\u0275\u0275directiveInject(t.ElementRef))},o.\u0275dir=t.\u0275\u0275defineDirective({type:o,selectors:[["","draggable",""]],inputs:{dragEventTarget:"dragEventTarget",dragModel:"dragModel",dragX:"dragX",dragY:"dragY"},outputs:{dragStart:"dragStart",dragging:"dragging",dragEnd:"dragEnd"},features:[t.\u0275\u0275NgOnChangesFeature]}),o})(),Ye=(()=>{class o{constructor(e,n){this.renderer=n,this.resizeEnabled=!0,this.resize=new t.EventEmitter,this.resizing=!1,this.element=e.nativeElement}ngAfterViewInit(){const e=this.renderer;this.resizeHandle=e.createElement("span"),e.addClass(this.resizeHandle,this.resizeEnabled?"resize-handle":"resize-handle--not-resizable"),e.appendChild(this.element,this.resizeHandle)}ngOnDestroy(){this._destroySubscription(),this.renderer.destroyNode?this.renderer.destroyNode(this.resizeHandle):this.resizeHandle&&this.renderer.removeChild(this.renderer.parentNode(this.resizeHandle),this.resizeHandle)}onMouseup(){this.resizing=!1,this.subscription&&!this.subscription.closed&&(this._destroySubscription(),this.resize.emit(this.element.clientWidth))}onMousedown(e){const n=e.target.classList.contains("resize-handle"),r=this.element.clientWidth,i=e.screenX;if(n){e.stopPropagation(),this.resizing=!0;const l=(0,k.fromEvent)(document,"mouseup");this.subscription=l.subscribe(g=>this.onMouseup());const h=(0,k.fromEvent)(document,"mousemove").pipe((0,$.takeUntil)(l)).subscribe(g=>this.move(g,r,i));this.subscription.add(h)}}move(e,n,r){const l=n+(e.screenX-r);(!this.minWidth||l>=this.minWidth)&&(!this.maxWidth||l<=this.maxWidth)&&(this.element.style.width=`${l}px`)}_destroySubscription(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=void 0)}}return o.\u0275fac=function(e){return new(e||o)(t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(t.Renderer2))},o.\u0275dir=t.\u0275\u0275defineDirective({type:o,selectors:[["","resizeable",""]],hostVars:2,hostBindings:function(e,n){1&e&&t.\u0275\u0275listener("mousedown",function(i){return n.onMousedown(i)}),2&e&&t.\u0275\u0275classProp("resizeable",n.resizeEnabled)},inputs:{resizeEnabled:"resizeEnabled",minWidth:"minWidth",maxWidth:"maxWidth"},outputs:{resize:"resize"}}),o})(),Ue=(()=>{class o{constructor(e,n){this.document=n,this.reorder=new t.EventEmitter,this.targetChanged=new t.EventEmitter,this.differ=e.find({}).create()}ngAfterContentInit(){this.updateSubscriptions(),this.draggables.changes.subscribe(this.updateSubscriptions.bind(this))}ngOnDestroy(){this.draggables.forEach(e=>{e.dragStart.unsubscribe(),e.dragging.unsubscribe(),e.dragEnd.unsubscribe()})}updateSubscriptions(){const e=this.differ.diff(this.createMapDiffs());if(e){const n=({currentValue:i,previousValue:l})=>{r({previousValue:l}),i&&(i.dragStart.subscribe(this.onDragStart.bind(this)),i.dragging.subscribe(this.onDragging.bind(this)),i.dragEnd.subscribe(this.onDragEnd.bind(this)))},r=({previousValue:i})=>{i&&(i.dragStart.unsubscribe(),i.dragging.unsubscribe(),i.dragEnd.unsubscribe())};e.forEachAddedItem(n),e.forEachRemovedItem(r)}}onDragStart(){this.positions={};let e=0;for(const n of this.draggables.toArray()){const r=n.element,i=parseInt(r.offsetLeft.toString(),0);this.positions[n.dragModel.prop]={left:i,right:i+parseInt(r.offsetWidth.toString(),0),index:e++,element:r}}}onDragging({model:n,event:r}){const i=this.positions[n.prop],l=this.isTarget(n,r);l?this.lastDraggingIndex!==l.i&&(this.targetChanged.emit({prevIndex:this.lastDraggingIndex,newIndex:l.i,initialIndex:i.index}),this.lastDraggingIndex=l.i):this.lastDraggingIndex!==i.index&&(this.targetChanged.emit({prevIndex:this.lastDraggingIndex,initialIndex:i.index}),this.lastDraggingIndex=i.index)}onDragEnd({element:e,model:n,event:r}){const i=this.positions[n.prop],l=this.isTarget(n,r);l&&this.reorder.emit({prevIndex:i.index,newIndex:l.i,model:n}),this.lastDraggingIndex=void 0,e.style.left="auto"}isTarget(e,n){let r=0;const h=this.document.elementsFromPoint(n.x||n.clientX,n.y||n.clientY);for(const g in this.positions){const b=this.positions[g];if(e.prop!==g&&h.find(C=>C===b.element))return{pos:b,i:r};r++}}createMapDiffs(){return this.draggables.toArray().reduce((e,n)=>(e[n.dragModel.$$id]=n,e),{})}}return o.\u0275fac=function(e){return new(e||o)(t.\u0275\u0275directiveInject(t.KeyValueDiffers),t.\u0275\u0275directiveInject(x.DOCUMENT))},o.\u0275dir=t.\u0275\u0275defineDirective({type:o,selectors:[["","orderable",""]],contentQueries:function(e,n,r){if(1&e&&t.\u0275\u0275contentQuery(r,ke,5),2&e){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(n.draggables=i)}},outputs:{reorder:"reorder",targetChanged:"targetChanged"}}),o})(),qe=(()=>{class o{constructor(){this.pressEnabled=!0,this.duration=500,this.longPressStart=new t.EventEmitter,this.longPressing=new t.EventEmitter,this.longPressEnd=new t.EventEmitter,this.mouseX=0,this.mouseY=0}get press(){return this.pressing}get isLongPress(){return this.isLongPressing}onMouseDown(e){if(1!==e.which||!this.pressEnabled||e.target.classList.contains("resize-handle"))return;this.mouseX=e.clientX,this.mouseY=e.clientY,this.pressing=!0,this.isLongPressing=!1;const r=(0,k.fromEvent)(document,"mouseup");this.subscription=r.subscribe(i=>this.onMouseup()),this.timeout=setTimeout(()=>{this.isLongPressing=!0,this.longPressStart.emit({event:e,model:this.pressModel}),this.subscription.add((0,k.fromEvent)(document,"mousemove").pipe((0,$.takeUntil)(r)).subscribe(i=>this.onMouseMove(i))),this.loop(e)},this.duration),this.loop(e)}onMouseMove(e){if(this.pressing&&!this.isLongPressing){const n=Math.abs(e.clientX-this.mouseX)>10,r=Math.abs(e.clientY-this.mouseY)>10;(n||r)&&this.endPress()}}loop(e){this.isLongPressing&&(this.timeout=setTimeout(()=>{this.longPressing.emit({event:e,model:this.pressModel}),this.loop(e)},50))}endPress(){clearTimeout(this.timeout),this.isLongPressing=!1,this.pressing=!1,this._destroySubscription(),this.longPressEnd.emit({model:this.pressModel})}onMouseup(){this.endPress()}ngOnDestroy(){this._destroySubscription()}_destroySubscription(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=void 0)}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275dir=t.\u0275\u0275defineDirective({type:o,selectors:[["","long-press",""]],hostVars:4,hostBindings:function(e,n){1&e&&t.\u0275\u0275listener("mousedown",function(i){return n.onMouseDown(i)}),2&e&&t.\u0275\u0275classProp("press",n.press)("longpress",n.isLongPress)},inputs:{pressEnabled:"pressEnabled",pressModel:"pressModel",duration:"duration"},outputs:{longPressStart:"longPressStart",longPressing:"longPressing",longPressEnd:"longPressEnd"}}),o})(),Me=(()=>{class o{constructor(e,n,r){this.ngZone=e,this.renderer=r,this.scrollbarV=!1,this.scrollbarH=!1,this.scroll=new t.EventEmitter,this.scrollYPos=0,this.scrollXPos=0,this.prevScrollYPos=0,this.prevScrollXPos=0,this._scrollEventListener=null,this.element=n.nativeElement}ngOnInit(){if(this.scrollbarV||this.scrollbarH){const e=this.renderer;this.parentElement=e.parentNode(e.parentNode(this.element)),this._scrollEventListener=this.onScrolled.bind(this),this.parentElement.addEventListener("scroll",this._scrollEventListener)}}ngOnDestroy(){this._scrollEventListener&&(this.parentElement.removeEventListener("scroll",this._scrollEventListener),this._scrollEventListener=null)}setOffset(e){this.parentElement&&(this.parentElement.scrollTop=e)}onScrolled(e){const n=e.currentTarget;requestAnimationFrame(()=>{this.scrollYPos=n.scrollTop,this.scrollXPos=n.scrollLeft,this.updateOffset()})}updateOffset(){let e;this.scrollYPos<this.prevScrollYPos?e="down":this.scrollYPos>this.prevScrollYPos&&(e="up"),this.scroll.emit({direction:e,scrollYPos:this.scrollYPos,scrollXPos:this.scrollXPos}),this.prevScrollYPos=this.scrollYPos,this.prevScrollXPos=this.scrollXPos}}return o.\u0275fac=function(e){return new(e||o)(t.\u0275\u0275directiveInject(t.NgZone),t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(t.Renderer2))},o.\u0275cmp=t.\u0275\u0275defineComponent({type:o,selectors:[["datatable-scroller"]],hostAttrs:[1,"datatable-scroll"],hostVars:4,hostBindings:function(e,n){2&e&&t.\u0275\u0275styleProp("height",n.scrollHeight,"px")("width",n.scrollWidth,"px")},inputs:{scrollbarV:"scrollbarV",scrollbarH:"scrollbarH",scrollHeight:"scrollHeight",scrollWidth:"scrollWidth"},outputs:{scroll:"scroll"},ngContentSelectors:Q,decls:1,vars:0,template:function(e,n){1&e&&(t.\u0275\u0275projectionDef(),t.\u0275\u0275projection(0))},encapsulation:2,changeDetection:0}),o})(),Ke=(()=>{class o{constructor(e){this.template=e}}return o.\u0275fac=function(e){return new(e||o)(t.\u0275\u0275directiveInject(t.TemplateRef))},o.\u0275dir=t.\u0275\u0275defineDirective({type:o,selectors:[["","ngx-datatable-group-header-template",""]]}),o})(),Ze=(()=>{class o{constructor(){this.rowHeight=0,this.toggle=new t.EventEmitter}get template(){return this._templateInput||this._templateQuery}toggleExpandGroup(e){this.toggle.emit({type:"group",value:e})}expandAllGroups(){this.toggle.emit({type:"all",value:!0})}collapseAllGroups(){this.toggle.emit({type:"all",value:!1})}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275dir=t.\u0275\u0275defineDirective({type:o,selectors:[["ngx-datatable-group-header"]],contentQueries:function(e,n,r){if(1&e&&t.\u0275\u0275contentQuery(r,Ke,7,t.TemplateRef),2&e){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(n._templateQuery=i.first)}},inputs:{rowHeight:"rowHeight",_templateInput:["template","_templateInput"]},outputs:{toggle:"toggle"}}),o})();function Je(){return""}function ce(o){return null==o?Je:"number"==typeof o?et:-1!==o.indexOf(".")?nt:tt}function et(o,s){return null==o?"":o&&null!=s?o[s]??"":o}function tt(o,s){return null==o?"":o&&s?o[s]??"":o}function nt(o,s){if(null==o)return"";if(!o||!s)return o;let e=o[s];if(void 0!==e)return e;e=o;const n=s.split(".");if(n.length)for(let r=0;r<n.length;r++)if(e=e[n[r]],null==e)return"";return e}function X(o){return o&&(s=>ce(o)(s,o))}function de(o,s,e){if(s&&e){const n={},r=o.length;let i=null;n[0]=new ot;const l=o.reduce((g,b)=>{const C=e(b);return-1===g.indexOf(C)&&g.push(C),g},[]);for(let g=0;g<r;g++)n[e(o[g])]=new ot(o[g]);for(let g=0;g<r;g++){i=n[e(o[g])];let b=0;const C=s(i.row);C&&l.indexOf(C)>-1&&(b=C),i.parent=n[b],i.row.level=i.parent.row.level+1,i.parent.children.push(i)}let h=[];return n[0].flatten(function(){h=[...h,this.row]},!0),h}return o}class ot{constructor(s=null){s||(s={level:-1,treeStatus:"expanded"}),this.row=s,this.parent=null,this.children=[]}flatten(s,e){if("expanded"===this.row.treeStatus)for(let n=0,r=this.children.length;n<r;n++){const i=this.children[n];s.apply(i,Array.prototype.slice.call(arguments,2)),e&&i.flatten.apply(i,arguments)}}}function ue(o){return(o=(o=(o=o.replace(/[^a-zA-Z0-9 ]/g," ")).replace(/([a-z](?=[A-Z]))/g,"$1 ")).replace(/([^a-zA-Z0-9 ])|^[0-9]+/g,"").trim().toLowerCase()).replace(/([ 0-9]+)([a-zA-Z])/g,function(s,e,n){return e.trim()+n.toUpperCase()})}function rt(o){return o.replace(/([A-Z])/g,s=>` ${s}`).replace(/^./,s=>s.toUpperCase())}function it(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}function Fe(o){if(!o)return;let s=!1;for(const e of o)e.$$id||(e.$$id=it()),L(e.prop)&&e.name&&(e.prop=ue(e.name)),e.$$valueGetter||(e.$$valueGetter=ce(e.prop)),!L(e.prop)&&L(e.name)&&(e.name=rt(String(e.prop))),L(e.prop)&&L(e.name)&&(e.name=""),e.hasOwnProperty("resizeable")||(e.resizeable=!0),e.hasOwnProperty("sortable")||(e.sortable=!0),e.hasOwnProperty("draggable")||(e.draggable=!0),e.hasOwnProperty("canAutoResize")||(e.canAutoResize=!0),e.hasOwnProperty("width")||(e.width=150),e.hasOwnProperty("isTreeColumn")&&e.isTreeColumn&&!s?s=!0:e.isTreeColumn=!1}function L(o){return null==o}function st(o){const s=[];for(const e of o){const n={},r=Object.getOwnPropertyNames(e);for(const i of r)n[i]=e[i];e.headerTemplate&&(n.headerTemplate=e.headerTemplate),e.cellTemplate&&(n.cellTemplate=e.cellTemplate),e.summaryFunc&&(n.summaryFunc=e.summaryFunc),e.summaryTemplate&&(n.summaryTemplate=e.summaryTemplate),s.push(n)}return s}var q=function(o){return o.standard="standard",o.flex="flex",o.force="force",o}(q||{}),P=function(o){return o.single="single",o.multi="multi",o.multiClick="multiClick",o.cell="cell",o.checkbox="checkbox",o}(P||{}),K=function(o){return o.single="single",o.multi="multi",o}(K||{}),he=function(o){return o.header="header",o.body="body",o}(he||{});let at=(()=>{class o{constructor(e){this.template=e}}return o.\u0275fac=function(e){return new(e||o)(t.\u0275\u0275directiveInject(t.TemplateRef))},o.\u0275dir=t.\u0275\u0275defineDirective({type:o,selectors:[["","ngx-datatable-header-template",""]]}),o})(),lt=(()=>{class o{constructor(e){this.template=e}}return o.\u0275fac=function(e){return new(e||o)(t.\u0275\u0275directiveInject(t.TemplateRef))},o.\u0275dir=t.\u0275\u0275defineDirective({type:o,selectors:[["","ngx-datatable-cell-template",""]]}),o})(),ct=(()=>{class o{constructor(e){this.template=e}}return o.\u0275fac=function(e){return new(e||o)(t.\u0275\u0275directiveInject(t.TemplateRef))},o.\u0275dir=t.\u0275\u0275defineDirective({type:o,selectors:[["","ngx-datatable-tree-toggle",""]]}),o})(),dt=(()=>{class o{constructor(e){this.columnChangesService=e,this.isFirstChange=!0}get cellTemplate(){return this._cellTemplateInput||this._cellTemplateQuery}get headerTemplate(){return this._headerTemplateInput||this._headerTemplateQuery}get treeToggleTemplate(){return this._treeToggleTemplateInput||this._treeToggleTemplateQuery}ngOnChanges(){this.isFirstChange?this.isFirstChange=!1:this.columnChangesService.onInputChange()}}return o.\u0275fac=function(e){return new(e||o)(t.\u0275\u0275directiveInject(le))},o.\u0275dir=t.\u0275\u0275defineDirective({type:o,selectors:[["ngx-datatable-column"]],contentQueries:function(e,n,r){if(1&e&&(t.\u0275\u0275contentQuery(r,lt,7,t.TemplateRef),t.\u0275\u0275contentQuery(r,at,7,t.TemplateRef),t.\u0275\u0275contentQuery(r,ct,7,t.TemplateRef)),2&e){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(n._cellTemplateQuery=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(n._headerTemplateQuery=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(n._treeToggleTemplateQuery=i.first)}},inputs:{name:"name",prop:"prop",frozenLeft:"frozenLeft",frozenRight:"frozenRight",flexGrow:"flexGrow",resizeable:"resizeable",comparator:"comparator",pipe:"pipe",sortable:"sortable",draggable:"draggable",canAutoResize:"canAutoResize",minWidth:"minWidth",width:"width",maxWidth:"maxWidth",checkboxable:"checkboxable",headerCheckboxable:"headerCheckboxable",headerClass:"headerClass",cellClass:"cellClass",isTreeColumn:"isTreeColumn",treeLevelIndent:"treeLevelIndent",summaryFunc:"summaryFunc",summaryTemplate:"summaryTemplate",_cellTemplateInput:["cellTemplate","_cellTemplateInput"],_headerTemplateInput:["headerTemplate","_headerTemplateInput"],_treeToggleTemplateInput:["treeToggleTemplate","_treeToggleTemplateInput"]},features:[t.\u0275\u0275NgOnChangesFeature]}),o})(),ut=(()=>{class o{constructor(e){this.template=e}}return o.\u0275fac=function(e){return new(e||o)(t.\u0275\u0275directiveInject(t.TemplateRef))},o.\u0275dir=t.\u0275\u0275defineDirective({type:o,selectors:[["","ngx-datatable-row-detail-template",""]]}),o})(),ht=(()=>{class o{constructor(){this.rowHeight=0,this.toggle=new t.EventEmitter}get template(){return this._templateInput||this._templateQuery}toggleExpandRow(e){this.toggle.emit({type:"row",value:e})}expandAllRows(){this.toggle.emit({type:"all",value:!0})}collapseAllRows(){this.toggle.emit({type:"all",value:!1})}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275dir=t.\u0275\u0275defineDirective({type:o,selectors:[["ngx-datatable-row-detail"]],contentQueries:function(e,n,r){if(1&e&&t.\u0275\u0275contentQuery(r,ut,7,t.TemplateRef),2&e){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(n._templateQuery=i.first)}},inputs:{rowHeight:"rowHeight",_templateInput:["template","_templateInput"]},outputs:{toggle:"toggle"}}),o})(),pt=(()=>{class o{get template(){return this._templateInput||this._templateQuery}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275dir=t.\u0275\u0275defineDirective({type:o,selectors:[["ngx-datatable-footer"]],contentQueries:function(e,n,r){if(1&e&&t.\u0275\u0275contentQuery(r,$e,5,t.TemplateRef),2&e){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(n._templateQuery=i.first)}},inputs:{footerHeight:"footerHeight",totalMessage:"totalMessage",selectedMessage:"selectedMessage",pagerLeftArrowIcon:"pagerLeftArrowIcon",pagerRightArrowIcon:"pagerRightArrowIcon",pagerPreviousIcon:"pagerPreviousIcon",pagerNextIcon:"pagerNextIcon",_templateInput:["template","_templateInput"]}}),o})();function V(o){const s={left:[],center:[],right:[]};if(o)for(const e of o)e.frozenLeft?s.left.push(e):e.frozenRight?s.right.push(e):s.center.push(e);return s}function N(o,s){return{left:Z(o.left),center:Z(o.center),right:Z(o.right),total:Math.floor(Z(s))}}function Z(o,s){let e=0;if(o)for(const n of o)e+=parseFloat(s&&n[s]?n[s]:n.width);return e}function gt(o,s){let e=0;for(const n of o)e+=s&&n[s]?n[s]:n.width;return e}function Be(o){const s=[],e=V(o);return s.push({type:"left",columns:e.left}),s.push({type:"center",columns:e.center}),s.push({type:"right",columns:e.right}),s}class ft{constructor(){this.treeArray=[]}clearCache(){this.treeArray=[]}initCache(s){const{rows:e,rowHeight:n,detailRowHeight:r,externalVirtual:i,rowCount:l,rowIndexes:h,rowExpansions:g}=s,b="function"==typeof n,C="function"==typeof r;if(!b&&isNaN(n))throw new Error(`Row Height cache initialization failed. Please ensure that 'rowHeight' is a\n        valid number or function value: (${n}) when 'scrollbarV' is enabled.`);if(!C&&isNaN(r))throw new Error(`Row Height cache initialization failed. Please ensure that 'detailRowHeight' is a\n        valid number or function value: (${r}) when 'scrollbarV' is enabled.`);const B=i?l:e.length;this.treeArray=new Array(B);for(let _=0;_<B;++_)this.treeArray[_]=0;for(let _=0;_<B;++_){const M=e[_];let G=n;b&&(G=n(M));const Zt=g.has(M);M&&Zt&&(G+=C?r(M,h.get(M)):r),this.update(_,G)}}getRowIndex(s){return 0===s?0:this.calcRowIndex(s)}update(s,e){if(!this.treeArray.length)throw new Error(`Update at index ${s} with value ${e} failed:\n        Row Height cache not initialized.`);const n=this.treeArray.length;for(s|=0;s<n;)this.treeArray[s]+=e,s|=s+1}query(s){if(!this.treeArray.length)throw new Error(`query at index ${s} failed: Fenwick tree array not initialized.`);let e=0;for(s|=0;s>=0;)e+=this.treeArray[s],s=(s&s+1)-1;return e}queryBetween(s,e){return this.query(e)-this.query(s-1)}calcRowIndex(s){if(!this.treeArray.length)return 0;let e=-1;const n=this.treeArray.length;for(let i=Math.pow(2,n.toString(2).length-1);0!==i;i>>=1){const l=e+i;l<n&&s>=this.treeArray[l]&&(s-=this.treeArray[l],e=l)}return e+1}}const pe={},mt=typeof document<"u"?document.createElement("div").style:void 0,ze=function(){const o=typeof window<"u"?window.getComputedStyle(document.documentElement,""):void 0,s=typeof o<"u"?Array.prototype.slice.call(o).join("").match(/-(moz|webkit|ms)-/):null,e=null!==s?s[1]:void 0,n=typeof e<"u"?"WebKit|Moz|MS|O".match(new RegExp("("+e+")","i"))[1]:void 0;return n?{dom:n,lowercase:e,css:`-${e}-`,js:e[0].toUpperCase()+e.substr(1)}:void 0}();function J(o){const s=ue(o);return pe[s]||(void 0!==ze&&void 0!==mt[ze.css+o]?pe[s]=ze.css+o:void 0!==mt[o]&&(pe[s]=o)),pe[s]}const We=typeof window<"u"?J("transform"):void 0,Xt=typeof window<"u"?J("backfaceVisibility"):void 0,Gt=typeof window<"u"?!!J("transform"):void 0,Lt=typeof window<"u"?!!J("perspective"):void 0,wt=typeof window<"u"?window.navigator.userAgent:"Chrome",Nt=/Safari\//.test(wt)&&!/Chrome\//.test(wt);function A(o,s,e){typeof We<"u"&&Gt?!Nt&&Lt?(o[We]=`translate3d(${s}px, ${e}px, 0)`,o[Xt]="hidden"):o[ue(We)]=`translate(${s}px, ${e}px)`:(o.top=`${e}px`,o.left=`${s}px`)}let bt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.\u0275\u0275defineComponent({type:o,selectors:[["datatable-progress"]],decls:3,vars:0,consts:[["role","progressbar",1,"progress-linear"],[1,"container"],[1,"bar"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1),t.\u0275\u0275element(2,"div",2),t.\u0275\u0275elementEnd()())},encapsulation:2,changeDetection:0}),o})();function ge(o,s,e){const n=e(s,o);return n>-1?o.splice(n,1):o.push(s),o}function _t(o,s,e,n,r){const i=e<n;for(let l=0;l<s.length;l++){let C={start:0,end:0};C=i?{start:e,end:n}:{start:n,end:e+1},(i&&l<=n&&l>=e||!i&&l>=n&&l<=e)&&l>=C.start&&l<=C.end&&o.push(s[l])}return o}var D=function(o){return o[o.up=38]="up",o[o.down=40]="down",o[o.return=13]="return",o[o.escape=27]="escape",o[o.left=37]="left",o[o.right=39]="right",o}(D||{});let yt=(()=>{class o{constructor(){this.activate=new t.EventEmitter,this.select=new t.EventEmitter}selectRow(e,n,r){if(!this.selectEnabled)return;const i=this.selectionType===P.checkbox,h=this.selectionType===P.multiClick;let g=[];g=this.selectionType===P.multi||i||h?e.shiftKey?_t([],this.rows,n,this.prevIndex,this.getRowSelectedIdx.bind(this)):ge(e.ctrlKey||e.metaKey||h||i?[...this.selected]:[],r,this.getRowSelectedIdx.bind(this)):ge([],r,this.getRowSelectedIdx.bind(this)),"function"==typeof this.selectCheck&&(g=g.filter(this.selectCheck.bind(this))),this.selected.splice(0,this.selected.length),this.selected.push(...g),this.prevIndex=n,this.select.emit({selected:g})}onActivate(e,n){const{type:r,event:i,row:l}=e,h=this.selectionType===P.checkbox;!h&&("click"===r||"dblclick"===r)||h&&"checkbox"===r?this.selectRow(i,n,l):"keydown"===r&&(i.keyCode===D.return?this.selectRow(i,n,l):this.onKeyboardFocus(e)),this.activate.emit(e)}onKeyboardFocus(e){const{keyCode:n}=e.event;if(n===D.up||n===D.down||n===D.right||n===D.left){const i=this.selectionType===P.cell;e.cellElement&&i?i&&this.focusCell(e.cellElement,e.rowElement,n,e.cellIndex):this.focusRow(e.rowElement,n)}}focusRow(e,n){const r=this.getPrevNextRow(e,n);r&&r.focus()}getPrevNextRow(e,n){const r=e.parentElement;if(r){let i;if(n===D.up?i=r.previousElementSibling:n===D.down&&(i=r.nextElementSibling),i&&i.children.length)return i.children[0]}}focusCell(e,n,r,i){let l;if(r===D.left)l=e.previousElementSibling;else if(r===D.right)l=e.nextElementSibling;else if(r===D.up||r===D.down){const h=this.getPrevNextRow(n,r);if(h){const g=h.getElementsByClassName("datatable-body-cell");g.length&&(l=g[i])}}l&&l.focus()}getRowSelected(e){return this.getRowSelectedIdx(e,this.selected)>-1}getRowSelectedIdx(e,n){if(!n||!n.length)return-1;const r=this.rowIdentity(e);return n.findIndex(i=>this.rowIdentity(i)===r)}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.\u0275\u0275defineComponent({type:o,selectors:[["datatable-selection"]],inputs:{rows:"rows",selected:"selected",selectEnabled:"selectEnabled",selectionType:"selectionType",rowIdentity:"rowIdentity",selectCheck:"selectCheck"},outputs:{activate:"activate",select:"select"},ngContentSelectors:Q,decls:1,vars:0,template:function(e,n){1&e&&(t.\u0275\u0275projectionDef(),t.\u0275\u0275projection(0))},encapsulation:2,changeDetection:0}),o})();var H=function(o){return o.asc="asc",o.desc="desc",o}(H||{});let Ct=(()=>{class o{constructor(e,n){this.cd=n,this.activate=new t.EventEmitter,this.treeAction=new t.EventEmitter,this.isFocused=!1,this.onCheckboxChangeFn=this.onCheckboxChange.bind(this),this.activateFn=this.activate.emit.bind(this.activate),this.cellContext={onCheckboxChangeFn:this.onCheckboxChangeFn,activateFn:this.activateFn,row:this.row,group:this.group,value:this.value,column:this.column,rowHeight:this.rowHeight,isSelected:this.isSelected,rowIndex:this.rowIndex,treeStatus:this.treeStatus,onTreeAction:this.onTreeAction.bind(this)},this._element=e.nativeElement}set group(e){this._group=e,this.cellContext.group=e,this.checkValueUpdates(),this.cd.markForCheck()}get group(){return this._group}set rowHeight(e){this._rowHeight=e,this.cellContext.rowHeight=e,this.checkValueUpdates(),this.cd.markForCheck()}get rowHeight(){return this._rowHeight}set isSelected(e){this._isSelected=e,this.cellContext.isSelected=e,this.cd.markForCheck()}get isSelected(){return this._isSelected}set expanded(e){this._expanded=e,this.cellContext.expanded=e,this.cd.markForCheck()}get expanded(){return this._expanded}set rowIndex(e){this._rowIndex=e,this.cellContext.rowIndex=e,this.checkValueUpdates(),this.cd.markForCheck()}get rowIndex(){return this._rowIndex}set column(e){this._column=e,this.cellContext.column=e,this.checkValueUpdates(),this.cd.markForCheck()}get column(){return this._column}set row(e){this._row=e,this.cellContext.row=e,this.checkValueUpdates(),this.cd.markForCheck()}get row(){return this._row}set sorts(e){this._sorts=e,this.calcSortDir=this.calcSortDir(e)}get sorts(){return this._sorts}set treeStatus(e){this._treeStatus="collapsed"!==e&&"expanded"!==e&&"loading"!==e&&"disabled"!==e?"collapsed":e,this.cellContext.treeStatus=this._treeStatus,this.checkValueUpdates(),this.cd.markForCheck()}get treeStatus(){return this._treeStatus}get columnCssClasses(){let e="datatable-body-cell";if(this.column.cellClass)if("string"==typeof this.column.cellClass)e+=" "+this.column.cellClass;else if("function"==typeof this.column.cellClass){const n=this.column.cellClass({row:this.row,group:this.group,column:this.column,value:this.value,rowHeight:this.rowHeight});if("string"==typeof n)e+=" "+n;else if("object"==typeof n){const r=Object.keys(n);for(const i of r)!0===n[i]&&(e+=` ${i}`)}}return this.sortDir||(e+=" sort-active"),this.isFocused&&(e+=" active"),this.sortDir===H.asc&&(e+=" sort-asc"),this.sortDir===H.desc&&(e+=" sort-desc"),e}get width(){return this.column.width}get minWidth(){return this.column.minWidth}get maxWidth(){return this.column.maxWidth}get height(){const e=this.rowHeight;return isNaN(e)?e:e+"px"}ngDoCheck(){this.checkValueUpdates()}ngOnDestroy(){this.cellTemplate&&this.cellTemplate.clear()}checkValueUpdates(){let e="";if(this.row&&this.column){const n=this.column.$$valueGetter(this.row,this.column.prop),r=this.column.pipe;r?e=r.transform(n):void 0!==e&&(e=n)}else e="";this.value!==e&&(this.value=e,this.cellContext.value=e,this.sanitizedValue=null!=e?this.stripHtml(e):e,this.cd.markForCheck())}onFocus(){this.isFocused=!0}onBlur(){this.isFocused=!1}onClick(e){this.activate.emit({type:"click",event:e,row:this.row,group:this.group,rowHeight:this.rowHeight,column:this.column,value:this.value,cellElement:this._element})}onDblClick(e){this.activate.emit({type:"dblclick",event:e,row:this.row,group:this.group,rowHeight:this.rowHeight,column:this.column,value:this.value,cellElement:this._element})}onKeyDown(e){const n=e.keyCode;(n===D.return||n===D.down||n===D.up||n===D.left||n===D.right)&&e.target===this._element&&(e.preventDefault(),e.stopPropagation(),this.activate.emit({type:"keydown",event:e,row:this.row,group:this.group,rowHeight:this.rowHeight,column:this.column,value:this.value,cellElement:this._element}))}onCheckboxChange(e){this.activate.emit({type:"checkbox",event:e,row:this.row,group:this.group,rowHeight:this.rowHeight,column:this.column,value:this.value,cellElement:this._element,treeStatus:"collapsed"})}calcSortDir(e){if(!e)return;const n=e.find(r=>r.prop===this.column.prop);return n?n.dir:void 0}stripHtml(e){return e.replace?e.replace(/<\/?[^>]+(>|$)/g,""):e}onTreeAction(){this.treeAction.emit(this.row)}calcLeftMargin(e,n){return e.isTreeColumn?n.level*(null!=e.treeLevelIndent?e.treeLevelIndent:50):0}}return o.\u0275fac=function(e){return new(e||o)(t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(t.ChangeDetectorRef))},o.\u0275cmp=t.\u0275\u0275defineComponent({type:o,selectors:[["datatable-body-cell"]],viewQuery:function(e,n){if(1&e&&t.\u0275\u0275viewQuery(je,7,t.ViewContainerRef),2&e){let r;t.\u0275\u0275queryRefresh(r=t.\u0275\u0275loadQuery())&&(n.cellTemplate=r.first)}},hostVars:10,hostBindings:function(e,n){1&e&&t.\u0275\u0275listener("focus",function(){return n.onFocus()})("blur",function(){return n.onBlur()})("click",function(i){return n.onClick(i)})("dblclick",function(i){return n.onDblClick(i)})("keydown",function(i){return n.onKeyDown(i)}),2&e&&(t.\u0275\u0275classMap(n.columnCssClasses),t.\u0275\u0275styleProp("width",n.width,"px")("min-width",n.minWidth,"px")("max-width",n.maxWidth,"px")("height",n.height))},inputs:{displayCheck:"displayCheck",group:"group",rowHeight:"rowHeight",isSelected:"isSelected",expanded:"expanded",rowIndex:"rowIndex",column:"column",row:"row",sorts:"sorts",treeStatus:"treeStatus"},outputs:{activate:"activate",treeAction:"treeAction"},decls:5,vars:6,consts:[[1,"datatable-body-cell-label"],["class","datatable-checkbox",4,"ngIf"],[4,"ngIf"],[3,"title","innerHTML",4,"ngIf"],[1,"datatable-checkbox"],["type","checkbox",3,"checked","click"],["class","datatable-tree-button",3,"disabled","click",4,"ngIf"],[1,"datatable-tree-button",3,"disabled","click"],["class","icon datatable-icon-collapse",4,"ngIf"],["class","icon datatable-icon-up",4,"ngIf"],["class","icon datatable-icon-down",4,"ngIf"],[1,"icon","datatable-icon-collapse"],[1,"icon","datatable-icon-up"],[1,"icon","datatable-icon-down"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"title","innerHTML"],["cellTemplate",""]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275template(1,Xe,2,1,"label",1),t.\u0275\u0275template(2,U,3,2,"ng-container",2),t.\u0275\u0275template(3,re,1,2,"span",3),t.\u0275\u0275template(4,be,2,2,null,2),t.\u0275\u0275elementEnd()),2&e&&(t.\u0275\u0275styleProp("margin-left",n.calcLeftMargin(n.column,n.row),"px"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.column.checkboxable&&(!n.displayCheck||n.displayCheck(n.row,n.column,n.value))),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.column.isTreeColumn),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!n.column.cellTemplate),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.column.cellTemplate))},dependencies:[x.NgIf,x.NgTemplateOutlet],encapsulation:2,changeDetection:0}),o})(),Ae=(()=>{class o{constructor(e,n,r,i){this.differs=e,this.scrollbarHelper=n,this.cd=r,this.treeStatus="collapsed",this.activate=new t.EventEmitter,this.treeAction=new t.EventEmitter,this._groupStyles={left:{},center:{},right:{}},this._element=i.nativeElement,this._rowDiffer=e.find({}).create()}set columns(e){this._columns=e,this.recalculateColumns(e),this.buildStylesByGroup()}get columns(){return this._columns}set innerWidth(e){if(this._columns){const n=V(this._columns);this._columnGroupWidths=N(n,this._columns)}this._innerWidth=e,this.recalculateColumns(),this.buildStylesByGroup()}get innerWidth(){return this._innerWidth}set offsetX(e){this._offsetX=e,this.buildStylesByGroup()}get offsetX(){return this._offsetX}get cssClass(){let e="datatable-body-row";if(this.isSelected&&(e+=" active"),this.rowIndex%2!=0&&(e+=" datatable-row-odd"),this.rowIndex%2==0&&(e+=" datatable-row-even"),this.rowClass){const n=this.rowClass(this.row);if("string"==typeof n)e+=` ${n}`;else if("object"==typeof n){const r=Object.keys(n);for(const i of r)!0===n[i]&&(e+=` ${i}`)}}return e}get columnsTotalWidths(){return this._columnGroupWidths.total}ngDoCheck(){this._rowDiffer.diff(this.row)&&this.cd.markForCheck()}trackByGroups(e,n){return n.type}columnTrackingFn(e,n){return n.$$id}buildStylesByGroup(){this._groupStyles.left=this.calcStylesByGroup("left"),this._groupStyles.center=this.calcStylesByGroup("center"),this._groupStyles.right=this.calcStylesByGroup("right"),this.cd.markForCheck()}calcStylesByGroup(e){const n=this._columnGroupWidths,r=this.offsetX,i={width:`${n[e]}px`};if("left"===e)A(i,r,0);else if("right"===e){const l=parseInt(this.innerWidth+"",0);A(i,-1*(n.total-l-r+this.scrollbarHelper.width),0)}return i}onActivate(e,n){e.cellIndex=n,e.rowElement=this._element,this.activate.emit(e)}onKeyDown(e){const n=e.keyCode;(n===D.return||n===D.down||n===D.up||n===D.left||n===D.right)&&e.target===this._element&&(e.preventDefault(),e.stopPropagation(),this.activate.emit({type:"keydown",event:e,row:this.row,rowElement:this._element}))}onMouseenter(e){this.activate.emit({type:"mouseenter",event:e,row:this.row,rowElement:this._element})}recalculateColumns(e=this.columns){this._columns=e;const n=V(this._columns);this._columnsByPin=Be(this._columns),this._columnGroupWidths=N(n,this._columns)}onTreeAction(){this.treeAction.emit()}}return o.\u0275fac=function(e){return new(e||o)(t.\u0275\u0275directiveInject(t.KeyValueDiffers),t.\u0275\u0275directiveInject(ae,4),t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(t.ElementRef))},o.\u0275cmp=t.\u0275\u0275defineComponent({type:o,selectors:[["datatable-body-row"]],hostVars:6,hostBindings:function(e,n){1&e&&t.\u0275\u0275listener("keydown",function(i){return n.onKeyDown(i)})("mouseenter",function(i){return n.onMouseenter(i)}),2&e&&(t.\u0275\u0275classMap(n.cssClass),t.\u0275\u0275styleProp("height",n.rowHeight,"px")("width",n.columnsTotalWidths,"px"))},inputs:{columns:"columns",innerWidth:"innerWidth",expanded:"expanded",rowClass:"rowClass",row:"row",group:"group",isSelected:"isSelected",rowIndex:"rowIndex",displayCheck:"displayCheck",treeStatus:"treeStatus",offsetX:"offsetX",rowHeight:"rowHeight"},outputs:{activate:"activate",treeAction:"treeAction"},decls:1,vars:2,consts:[[3,"class","ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngStyle"],["role","cell","tabindex","-1",3,"row","group","expanded","isSelected","rowIndex","column","rowHeight","displayCheck","treeStatus","activate","treeAction",4,"ngFor","ngForOf","ngForTrackBy"],["role","cell","tabindex","-1",3,"row","group","expanded","isSelected","rowIndex","column","rowHeight","displayCheck","treeStatus","activate","treeAction"]],template:function(e,n){1&e&&t.\u0275\u0275template(0,O,2,6,"div",0),2&e&&t.\u0275\u0275property("ngForOf",n._columnsByPin)("ngForTrackBy",n.trackByGroups)},dependencies:[Ct,x.NgForOf,x.NgStyle],encapsulation:2,changeDetection:0}),o})();function $t(o){const s=o.filter(e=>!!e);return!s.length||s.some(e=>"number"!=typeof e)?null:s.reduce((e,n)=>e+n)}function Qt(o){return null}let xt=(()=>{class o{constructor(){this.summaryRow={}}ngOnChanges(){!this.columns||!this.rows||(this.updateInternalColumns(),this.updateValues())}updateInternalColumns(){this._internalColumns=this.columns.map(e=>({...e,cellTemplate:e.summaryTemplate}))}updateValues(){this.summaryRow={},this.columns.filter(e=>!e.summaryTemplate).forEach(e=>{const n=this.rows.map(i=>i[e.prop]),r=this.getSummaryFunction(e);this.summaryRow[e.prop]=e.pipe?e.pipe.transform(r(n)):r(n)})}getSummaryFunction(e){return void 0===e.summaryFunc?$t:null===e.summaryFunc?Qt:e.summaryFunc}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.\u0275\u0275defineComponent({type:o,selectors:[["datatable-summary-row"]],hostAttrs:[1,"datatable-summary-row"],inputs:{rows:"rows",columns:"columns",rowHeight:"rowHeight",offsetX:"offsetX",innerWidth:"innerWidth"},features:[t.\u0275\u0275NgOnChangesFeature],decls:1,vars:1,consts:[["tabindex","-1",3,"innerWidth","offsetX","columns","rowHeight","row","rowIndex",4,"ngIf"],["tabindex","-1",3,"innerWidth","offsetX","columns","rowHeight","row","rowIndex"]],template:function(e,n){1&e&&t.\u0275\u0275template(0,ie,1,6,"datatable-body-row",0),2&e&&t.\u0275\u0275property("ngIf",n.summaryRow&&n._internalColumns)},dependencies:[Ae,x.NgIf],encapsulation:2}),o})(),vt=(()=>{class o{constructor(e,n){this.cd=e,this.differs=n,this.rowContextmenu=new t.EventEmitter(!1),this._expanded=!1,this.groupContext={group:this.row,expanded:this.expanded,rowIndex:this.rowIndex},this.rowContext={row:this.row,expanded:this.expanded,rowIndex:this.rowIndex},this.rowDiffer=n.find({}).create()}set rowIndex(e){this._rowIndex=e,this.rowContext.rowIndex=e,this.groupContext.rowIndex=e,this.cd.markForCheck()}get rowIndex(){return this._rowIndex}set expanded(e){this._expanded=e,this.groupContext.expanded=e,this.rowContext.expanded=e,this.cd.markForCheck()}get expanded(){return this._expanded}ngDoCheck(){this.rowDiffer.diff(this.row)&&(this.rowContext.row=this.row,this.groupContext.group=this.row,this.cd.markForCheck())}onContextmenu(e){this.rowContextmenu.emit({event:e,row:this.row})}getGroupHeaderStyle(){const e={};return e.transform="translate3d("+this.offsetX+"px, 0px, 0px)",e["backface-visibility"]="hidden",e.width=this.innerWidth,e}}return o.\u0275fac=function(e){return new(e||o)(t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(t.KeyValueDiffers))},o.\u0275cmp=t.\u0275\u0275defineComponent({type:o,selectors:[["datatable-row-wrapper"]],hostAttrs:[1,"datatable-row-wrapper"],hostBindings:function(e,n){1&e&&t.\u0275\u0275listener("contextmenu",function(i){return n.onContextmenu(i)})},inputs:{innerWidth:"innerWidth",rowDetail:"rowDetail",groupHeader:"groupHeader",offsetX:"offsetX",detailRowHeight:"detailRowHeight",row:"row",groupedRows:"groupedRows",rowIndex:"rowIndex",expanded:"expanded"},outputs:{rowContextmenu:"rowContextmenu"},ngContentSelectors:Q,decls:3,vars:3,consts:[["class","datatable-group-header",3,"ngStyle",4,"ngIf"],[4,"ngIf"],["class","datatable-row-detail",3,"height",4,"ngIf"],[1,"datatable-group-header",3,"ngStyle"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"datatable-row-detail"]],template:function(e,n){1&e&&(t.\u0275\u0275projectionDef(),t.\u0275\u0275template(0,Ce,2,2,"div",0),t.\u0275\u0275template(1,xe,1,0,"ng-content",1),t.\u0275\u0275template(2,De,2,3,"div",2)),2&e&&(t.\u0275\u0275property("ngIf",n.groupHeader&&n.groupHeader.template),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.groupHeader&&n.groupHeader.template&&n.expanded||!n.groupHeader||!n.groupHeader.template),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.rowDetail&&n.rowDetail.template&&n.expanded))},dependencies:[x.NgIf,x.NgStyle,x.NgTemplateOutlet],encapsulation:2,changeDetection:0}),o})(),Oe=(()=>{class o{constructor(e){this.cd=e,this.selected=[],this.scroll=new t.EventEmitter,this.page=new t.EventEmitter,this.activate=new t.EventEmitter,this.select=new t.EventEmitter,this.detailToggle=new t.EventEmitter,this.rowContextmenu=new t.EventEmitter(!1),this.treeAction=new t.EventEmitter,this.rowHeightsCache=new ft,this.temp=[],this.offsetY=0,this.indexes={},this.rowIndexes=new WeakMap,this.rowExpansions=[],this.getDetailRowHeight=(n,r)=>{if(!this.rowDetail)return 0;const i=this.rowDetail.rowHeight;return"function"==typeof i?i(n,r):i},this.rowTrackingFn=(n,r)=>{const i=this.getRowIndex(r);return this.trackByProp?r[this.trackByProp]:i}}set pageSize(e){this._pageSize=e,this.recalcLayout()}get pageSize(){return this._pageSize}set rows(e){this._rows=e,this.recalcLayout()}get rows(){return this._rows}set columns(e){this._columns=e;const n=V(e);this.columnGroupWidths=N(n,e)}get columns(){return this._columns}set offset(e){this._offset=e,(!this.scrollbarV||this.scrollbarV&&!this.virtualization)&&this.recalcLayout()}get offset(){return this._offset}set rowCount(e){this._rowCount=e,this.recalcLayout()}get rowCount(){return this._rowCount}get bodyWidth(){return this.scrollbarH?this.innerWidth+"px":"100%"}set bodyHeight(e){this._bodyHeight=this.scrollbarV?e+"px":"auto",this.recalcLayout()}get bodyHeight(){return this._bodyHeight}get selectEnabled(){return!!this.selectionType}get scrollHeight(){if(this.scrollbarV&&this.virtualization&&this.rowCount)return this.rowHeightsCache.query(this.rowCount-1)}ngOnInit(){this.rowDetail&&(this.listener=this.rowDetail.toggle.subscribe(({type:e,value:n})=>{"row"===e&&this.toggleRowExpansion(n),"all"===e&&this.toggleAllRows(n),this.updateIndexes(),this.updateRows(),this.cd.markForCheck()})),this.groupHeader&&(this.listener=this.groupHeader.toggle.subscribe(({type:e,value:n})=>{"group"===e&&this.toggleRowExpansion(n),"all"===e&&this.toggleAllRows(n),this.updateIndexes(),this.updateRows(),this.cd.markForCheck()}))}ngOnDestroy(){(this.rowDetail||this.groupHeader)&&this.listener.unsubscribe()}updateOffsetY(e){this.scroller&&(this.scrollbarV&&this.virtualization&&e?e=this.rowHeightsCache.query(this.pageSize*e-1):this.scrollbarV&&!this.virtualization&&(e=0),this.scroller.setOffset(e||0))}onBodyScroll(e){const n=e.scrollYPos,r=e.scrollXPos;(this.offsetY!==n||this.offsetX!==r)&&this.scroll.emit({offsetY:n,offsetX:r}),this.offsetY=n,this.offsetX=r,this.updateIndexes(),this.updatePage(e.direction),this.updateRows()}updatePage(e){let n=this.indexes.first/this.pageSize;"up"===e?n=Math.ceil(n):"down"===e&&(n=Math.floor(n)),void 0!==e&&!isNaN(n)&&this.page.emit({offset:n})}updateRows(){const{first:e,last:n}=this.indexes;let r=e,i=0;const l=[];if(this.groupedRows){let h=3;for(1===this.groupedRows.length&&(h=this.groupedRows[0].value.length);r<n&&r<this.groupedRows.length;){const g=this.groupedRows[r];this.rowIndexes.set(g,r),g.value&&g.value.forEach((b,C)=>{this.rowIndexes.set(b,`${r}-${C}`)}),l[i]=g,i++,r++}}else for(;r<n&&r<this.rowCount;){const h=this.rows[r];h&&(this.rowIndexes.set(h,r),l[i]=h),i++,r++}this.temp=l}getRowHeight(e){return"function"==typeof this.rowHeight?this.rowHeight(e):this.rowHeight}getGroupHeight(e){let n=0;if(e.value)for(let r=0;r<e.value.length;r++)n+=this.getRowAndDetailHeight(e.value[r]);return n}getRowAndDetailHeight(e){let n=this.getRowHeight(e);return this.getRowExpanded(e)&&(n+=this.getDetailRowHeight(e)),n}getRowsStyles(e){const n={};if(this.groupedRows&&(n.width=this.columnGroupWidths.total),this.scrollbarV&&this.virtualization){let r=0;if(this.groupedRows){const l=e[e.length-1];r=l?this.getRowIndex(l):0}else r=this.getRowIndex(e);A(n,0,this.rowHeightsCache.query(r-1))}return n}getBottomSummaryRowStyles(){if(!this.scrollbarV||!this.rows||!this.rows.length)return null;const e={position:"absolute"};return A(e,0,this.rowHeightsCache.query(this.rows.length-1)),e}hideIndicator(){setTimeout(()=>this.loadingIndicator=!1,500)}updateIndexes(){let e=0,n=0;if(this.scrollbarV)if(this.virtualization){const r=parseInt(this.bodyHeight,0);e=this.rowHeightsCache.getRowIndex(this.offsetY),n=this.rowHeightsCache.getRowIndex(r+this.offsetY)+1}else e=0,n=this.rowCount;else this.externalPaging||(e=Math.max(this.offset*this.pageSize,0)),n=Math.min(e+this.pageSize,this.rowCount);this.indexes={first:e,last:n}}refreshRowHeightCache(){if(this.scrollbarV&&(!this.scrollbarV||this.virtualization)&&(this.rowHeightsCache.clearCache(),this.rows&&this.rows.length)){const e=new Set;for(const n of this.rows)this.getRowExpanded(n)&&e.add(n);this.rowHeightsCache.initCache({rows:this.rows,rowHeight:this.rowHeight,detailRowHeight:this.getDetailRowHeight,externalVirtual:this.scrollbarV&&this.externalPaging,rowCount:this.rowCount,rowIndexes:this.rowIndexes,rowExpansions:e})}}getAdjustedViewPortIndex(){const e=this.indexes.first;return this.scrollbarV&&this.virtualization&&this.rowHeightsCache.query(e-1)<=this.offsetY?e-1:e}toggleRowExpansion(e){const n=this.getAdjustedViewPortIndex(),r=this.getRowExpandedIdx(e,this.rowExpansions),i=r>-1;if(this.scrollbarV&&this.virtualization){const l=this.getDetailRowHeight(e)*(i?-1:1),h=this.getRowIndex(e);this.rowHeightsCache.update(h,l)}i?this.rowExpansions.splice(r,1):this.rowExpansions.push(e),this.detailToggle.emit({rows:[e],currentIndex:n})}toggleAllRows(e){this.rowExpansions=[];const n=this.getAdjustedViewPortIndex();if(e)for(const r of this.rows)this.rowExpansions.push(r);this.scrollbarV&&this.recalcLayout(),this.detailToggle.emit({rows:this.rows,currentIndex:n})}recalcLayout(){this.refreshRowHeightCache(),this.updateIndexes(),this.updateRows()}columnTrackingFn(e,n){return n.$$id}stylesByGroup(e){const n=this.columnGroupWidths,r=this.offsetX,i={width:`${n[e]}px`};if("left"===e)A(i,r,0);else if("right"===e){const l=parseInt(this.innerWidth+"",0);A(i,-1*(n.total-l-r),0)}return i}getRowExpanded(e){if(0===this.rowExpansions.length&&this.groupExpansionDefault)for(const n of this.groupedRows)this.rowExpansions.push(n);return this.getRowExpandedIdx(e,this.rowExpansions)>-1}getRowExpandedIdx(e,n){if(!n||!n.length)return-1;const r=this.rowIdentity(e);return n.findIndex(i=>this.rowIdentity(i)===r)}getRowIndex(e){return this.rowIndexes.get(e)||0}onTreeAction(e){this.treeAction.emit({row:e})}}return o.\u0275fac=function(e){return new(e||o)(t.\u0275\u0275directiveInject(t.ChangeDetectorRef))},o.\u0275cmp=t.\u0275\u0275defineComponent({type:o,selectors:[["datatable-body"]],viewQuery:function(e,n){if(1&e&&t.\u0275\u0275viewQuery(Me,5),2&e){let r;t.\u0275\u0275queryRefresh(r=t.\u0275\u0275loadQuery())&&(n.scroller=r.first)}},hostAttrs:[1,"datatable-body"],hostVars:4,hostBindings:function(e,n){2&e&&t.\u0275\u0275styleProp("width",n.bodyWidth)("height",n.bodyHeight)},inputs:{scrollbarV:"scrollbarV",scrollbarH:"scrollbarH",loadingIndicator:"loadingIndicator",externalPaging:"externalPaging",rowHeight:"rowHeight",offsetX:"offsetX",emptyMessage:"emptyMessage",selectionType:"selectionType",selected:"selected",rowIdentity:"rowIdentity",rowDetail:"rowDetail",groupHeader:"groupHeader",selectCheck:"selectCheck",displayCheck:"displayCheck",trackByProp:"trackByProp",rowClass:"rowClass",groupedRows:"groupedRows",groupExpansionDefault:"groupExpansionDefault",innerWidth:"innerWidth",groupRowsBy:"groupRowsBy",virtualization:"virtualization",summaryRow:"summaryRow",summaryPosition:"summaryPosition",summaryHeight:"summaryHeight",pageSize:"pageSize",rows:"rows",columns:"columns",offset:"offset",rowCount:"rowCount",bodyHeight:"bodyHeight"},outputs:{scroll:"scroll",page:"page",activate:"activate",select:"select",detailToggle:"detailToggle",rowContextmenu:"rowContextmenu",treeAction:"treeAction"},decls:5,vars:9,consts:[[4,"ngIf"],[3,"selected","rows","selectCheck","selectEnabled","selectionType","rowIdentity","select","activate"],["selector",""],[3,"scrollbarV","scrollbarH","scrollHeight","scrollWidth","scroll",4,"ngIf"],["class","empty-row",3,"innerHTML",4,"ngIf"],[3,"scrollbarV","scrollbarH","scrollHeight","scrollWidth","scroll"],[3,"rowHeight","offsetX","innerWidth","rows","columns",4,"ngIf"],[3,"groupedRows","innerWidth","ngStyle","rowDetail","groupHeader","offsetX","detailRowHeight","row","expanded","rowIndex","rowContextmenu",4,"ngFor","ngForOf","ngForTrackBy"],["role","row",3,"ngStyle","rowHeight","offsetX","innerWidth","rows","columns",4,"ngIf"],[3,"rowHeight","offsetX","innerWidth","rows","columns"],[3,"groupedRows","innerWidth","ngStyle","rowDetail","groupHeader","offsetX","detailRowHeight","row","expanded","rowIndex","rowContextmenu"],["role","row","tabindex","-1",3,"isSelected","innerWidth","offsetX","columns","rowHeight","row","rowIndex","expanded","rowClass","displayCheck","treeStatus","treeAction","activate",4,"ngIf","ngIfElse"],["groupedRowsTemplate",""],["role","row","tabindex","-1",3,"isSelected","innerWidth","offsetX","columns","rowHeight","row","rowIndex","expanded","rowClass","displayCheck","treeStatus","treeAction","activate"],["role","row","tabindex","-1",3,"isSelected","innerWidth","offsetX","columns","rowHeight","row","group","rowIndex","expanded","rowClass","activate",4,"ngFor","ngForOf","ngForTrackBy"],["role","row","tabindex","-1",3,"isSelected","innerWidth","offsetX","columns","rowHeight","row","group","rowIndex","expanded","rowClass","activate"],["role","row",3,"ngStyle","rowHeight","offsetX","innerWidth","rows","columns"],[1,"empty-row",3,"innerHTML"]],template:function(e,n){1&e&&(t.\u0275\u0275template(0,Se,1,0,"datatable-progress",0),t.\u0275\u0275elementStart(1,"datatable-selection",1,2),t.\u0275\u0275listener("select",function(i){return n.select.emit(i)})("activate",function(i){return n.activate.emit(i)}),t.\u0275\u0275template(3,c,4,8,"datatable-scroller",3),t.\u0275\u0275template(4,u,1,1,"div",4),t.\u0275\u0275elementEnd()),2&e&&(t.\u0275\u0275property("ngIf",n.loadingIndicator),t.\u0275\u0275advance(1),t.\u0275\u0275property("selected",n.selected)("rows",n.rows)("selectCheck",n.selectCheck)("selectEnabled",n.selectEnabled)("selectionType",n.selectionType)("rowIdentity",n.rowIdentity),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==n.rows?null:n.rows.length),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=n.rows&&n.rows.length||n.loadingIndicator)))},dependencies:[bt,yt,Me,xt,vt,Ae,x.NgIf,x.NgForOf,x.NgStyle],encapsulation:2,changeDetection:0}),o})();function Tt(o,s){return o===K.single?s===H.asc?H.desc:H.asc:s?s===H.asc?H.desc:void 0:H.asc}function Dt(o,s){if((null===o||typeof o>"u")&&(o=0),(null===s||typeof s>"u")&&(s=0),o instanceof Date&&s instanceof Date){if(o<s)return-1;if(o>s)return 1}else if(isNaN(parseFloat(o))||!isFinite(o)||isNaN(parseFloat(s))||!isFinite(s)){if(o=String(o),s=String(s),o.toLowerCase()<s.toLowerCase())return-1;if(o.toLowerCase()>s.toLowerCase())return 1}else{if(parseFloat(o)<parseFloat(s))return-1;if(parseFloat(o)>parseFloat(s))return 1}return 0}function St(o,s,e){if(!o)return[];if(!e||!e.length||!s)return[...o];const n=new Map;o.forEach((h,g)=>n.set(h,g));const r=[...o],i=s.reduce((h,g)=>(g.comparator&&"function"==typeof g.comparator&&(h[g.prop]=g.comparator),h),{}),l=e.map(h=>{const g=h.prop;return{prop:g,dir:h.dir,valueGetter:ce(g),compareFn:i[g]||Dt}});return r.sort(function(h,g){for(const b of l){const{prop:C,valueGetter:B}=b,_=B(h,C),M=B(g,C),G=b.dir!==H.desc?b.compareFn(_,M,h,g,b.dir):-b.compareFn(_,M,h,g,b.dir);if(0!==G)return G}return n.has(h)&&n.has(g)?n.get(h)<n.get(g)?-1:1:0})}let It=(()=>{class o{constructor(e){this.cd=e,this.sort=new t.EventEmitter,this.select=new t.EventEmitter,this.columnContextmenu=new t.EventEmitter(!1),this.sortFn=this.onSort.bind(this),this.selectFn=this.select.emit.bind(this.select),this.cellContext={column:this.column,sortDir:this.sortDir,sortFn:this.sortFn,allRowsSelected:this.allRowsSelected,selectFn:this.selectFn}}set allRowsSelected(e){this._allRowsSelected=e,this.cellContext.allRowsSelected=e}get allRowsSelected(){return this._allRowsSelected}set column(e){this._column=e,this.cellContext.column=e,this.cd.markForCheck()}get column(){return this._column}set sorts(e){this._sorts=e,this.sortDir=this.calcSortDir(e),this.cellContext.sortDir=this.sortDir,this.sortClass=this.calcSortClass(this.sortDir),this.cd.markForCheck()}get sorts(){return this._sorts}get columnCssClasses(){let e="datatable-header-cell";if(this.column.sortable&&(e+=" sortable"),this.column.resizeable&&(e+=" resizeable"),this.column.headerClass)if("string"==typeof this.column.headerClass)e+=" "+this.column.headerClass;else if("function"==typeof this.column.headerClass){const r=this.column.headerClass({column:this.column});if("string"==typeof r)e+=r;else if("object"==typeof r){const i=Object.keys(r);for(const l of i)!0===r[l]&&(e+=` ${l}`)}}const n=this.sortDir;return n&&(e+=` sort-active sort-${n}`),e}get name(){return void 0===this.column.headerTemplate?this.column.name:void 0}get minWidth(){return this.column.minWidth}get maxWidth(){return this.column.maxWidth}get width(){return this.column.width}get isCheckboxable(){return this.column.checkboxable&&this.column.headerCheckboxable&&this.selectionType===P.checkbox}onContextmenu(e){this.columnContextmenu.emit({event:e,column:this.column})}ngOnInit(){this.sortClass=this.calcSortClass(this.sortDir)}calcSortDir(e){if(e&&this.column){const n=e.find(r=>r.prop===this.column.prop);if(n)return n.dir}}onSort(){if(!this.column.sortable)return;const e=Tt(this.sortType,this.sortDir);this.sort.emit({column:this.column,prevValue:this.sortDir,newValue:e})}calcSortClass(e){if(this.cellContext.column.sortable)return e===H.asc?`sort-btn sort-asc ${this.sortAscendingIcon}`:e===H.desc?`sort-btn sort-desc ${this.sortDescendingIcon}`:`sort-btn ${this.sortUnsetIcon}`}}return o.\u0275fac=function(e){return new(e||o)(t.\u0275\u0275directiveInject(t.ChangeDetectorRef))},o.\u0275cmp=t.\u0275\u0275defineComponent({type:o,selectors:[["datatable-header-cell"]],hostAttrs:[1,"datatable-header-cell"],hostVars:11,hostBindings:function(e,n){1&e&&t.\u0275\u0275listener("contextmenu",function(i){return n.onContextmenu(i)}),2&e&&(t.\u0275\u0275attribute("title",n.name),t.\u0275\u0275classMap(n.columnCssClasses),t.\u0275\u0275styleProp("height",n.headerHeight,"px")("min-width",n.minWidth,"px")("max-width",n.maxWidth,"px")("width",n.width,"px"))},inputs:{sortType:"sortType",sortAscendingIcon:"sortAscendingIcon",sortDescendingIcon:"sortDescendingIcon",sortUnsetIcon:"sortUnsetIcon",isTarget:"isTarget",targetMarkerTemplate:"targetMarkerTemplate",targetMarkerContext:"targetMarkerContext",allRowsSelected:"allRowsSelected",selectionType:"selectionType",column:"column",headerHeight:"headerHeight",sorts:"sorts"},outputs:{sort:"sort",select:"select",columnContextmenu:"columnContextmenu"},decls:6,vars:6,consts:[[1,"datatable-header-cell-template-wrap"],[4,"ngIf"],["class","datatable-checkbox",4,"ngIf"],["class","datatable-header-cell-wrapper",4,"ngIf"],[3,"click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"datatable-checkbox"],["type","checkbox",3,"checked","change"],[1,"datatable-header-cell-wrapper"],[1,"datatable-header-cell-label","draggable",3,"innerHTML","click"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275template(1,f,1,2,null,1),t.\u0275\u0275template(2,p,2,1,"label",2),t.\u0275\u0275template(3,m,2,1,"span",3),t.\u0275\u0275template(4,I,1,2,null,1),t.\u0275\u0275elementStart(5,"span",4),t.\u0275\u0275listener("click",function(){return n.onSort()}),t.\u0275\u0275elementEnd()()),2&e&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.isTarget),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.isCheckboxable),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!n.column.headerTemplate),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.column.headerTemplate),t.\u0275\u0275advance(1),t.\u0275\u0275classMap(n.sortClass))},dependencies:[x.NgIf,x.NgTemplateOutlet],encapsulation:2,changeDetection:0}),o})(),Ve=(()=>{class o{constructor(e){this.cd=e,this.sort=new t.EventEmitter,this.reorder=new t.EventEmitter,this.resize=new t.EventEmitter,this.select=new t.EventEmitter,this.columnContextmenu=new t.EventEmitter(!1),this._columnGroupWidths={total:100},this._styleByGroup={left:{},center:{},right:{}},this.destroyed=!1}set innerWidth(e){this._innerWidth=e,setTimeout(()=>{if(this._columns){const n=V(this._columns);this._columnGroupWidths=N(n,this._columns),this.setStylesByGroup()}})}get innerWidth(){return this._innerWidth}set headerHeight(e){this._headerHeight="auto"!==e?`${e}px`:e}get headerHeight(){return this._headerHeight}set columns(e){this._columns=e;const n=V(e);this._columnsByPin=Be(e),setTimeout(()=>{this._columnGroupWidths=N(n,e),this.setStylesByGroup()})}get columns(){return this._columns}set offsetX(e){this._offsetX=e,this.setStylesByGroup()}get offsetX(){return this._offsetX}ngOnDestroy(){this.destroyed=!0}onLongPressStart({event:e,model:n}){n.dragging=!0,this.dragEventTarget=e}onLongPressEnd({event:e,model:n}){this.dragEventTarget=e,setTimeout(()=>{const r=this._columns.find(i=>i.$$id===n.$$id);r&&(r.dragging=!1)},5)}get headerWidth(){return this.scrollbarH?this.innerWidth+"px":"100%"}trackByGroups(e,n){return n.type}columnTrackingFn(e,n){return n.$$id}onColumnResized(e,n){e<=n.minWidth?e=n.minWidth:e>=n.maxWidth&&(e=n.maxWidth),this.resize.emit({column:n,prevValue:n.width,newValue:e})}onColumnReordered({prevIndex:e,newIndex:n,model:r}){const i=this.getColumn(n);i.isTarget=!1,i.targetMarkerContext=void 0,this.reorder.emit({column:r,prevValue:e,newValue:n})}onTargetChanged({prevIndex:e,newIndex:n,initialIndex:r}){if(e||0===e){const i=this.getColumn(e);i.isTarget=!1,i.targetMarkerContext=void 0}if(n||0===n){const i=this.getColumn(n);i.isTarget=!0,r!==n&&(i.targetMarkerContext={class:"targetMarker ".concat(r>n?"dragFromRight":"dragFromLeft")})}}getColumn(e){const n=this._columnsByPin[0].columns.length;if(e<n)return this._columnsByPin[0].columns[e];const r=this._columnsByPin[1].columns.length;return e<n+r?this._columnsByPin[1].columns[e-n]:this._columnsByPin[2].columns[e-n-r]}onSort({column:e,prevValue:n,newValue:r}){if(e.dragging)return;const i=this.calcNewSorts(e,n,r);this.sort.emit({sorts:i,column:e,prevValue:n,newValue:r})}calcNewSorts(e,n,r){let i=0;this.sorts||(this.sorts=[]);const l=this.sorts.map((h,g)=>((h={...h}).prop===e.prop&&(i=g),h));return void 0===r?l.splice(i,1):n?l[i].dir=r:(this.sortType===K.single&&l.splice(0,this.sorts.length),l.push({dir:r,prop:e.prop})),l}setStylesByGroup(){this._styleByGroup.left=this.calcStylesByGroup("left"),this._styleByGroup.center=this.calcStylesByGroup("center"),this._styleByGroup.right=this.calcStylesByGroup("right"),this.destroyed||this.cd.detectChanges()}calcStylesByGroup(e){const n=this._columnGroupWidths,i={width:`${n[e]}px`};return"center"===e?A(i,-1*this.offsetX,0):"right"===e&&A(i,-1*(n.total-this.innerWidth),0),i}}return o.\u0275fac=function(e){return new(e||o)(t.\u0275\u0275directiveInject(t.ChangeDetectorRef))},o.\u0275cmp=t.\u0275\u0275defineComponent({type:o,selectors:[["datatable-header"]],hostAttrs:[1,"datatable-header"],hostVars:4,hostBindings:function(e,n){2&e&&t.\u0275\u0275styleProp("height",n.headerHeight)("width",n.headerWidth)},inputs:{sortAscendingIcon:"sortAscendingIcon",sortDescendingIcon:"sortDescendingIcon",sortUnsetIcon:"sortUnsetIcon",scrollbarH:"scrollbarH",dealsWithGroup:"dealsWithGroup",targetMarkerTemplate:"targetMarkerTemplate",innerWidth:"innerWidth",sorts:"sorts",sortType:"sortType",allRowsSelected:"allRowsSelected",selectionType:"selectionType",reorderable:"reorderable",headerHeight:"headerHeight",columns:"columns",offsetX:"offsetX"},outputs:{sort:"sort",reorder:"reorder",resize:"resize",select:"select",columnContextmenu:"columnContextmenu"},decls:2,vars:4,consts:[["role","row","orderable","",1,"datatable-header-inner",3,"reorder","targetChanged"],[3,"class","ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngStyle"],["role","columnheader","resizeable","","long-press","","draggable","",3,"resizeEnabled","pressModel","pressEnabled","dragX","dragY","dragModel","dragEventTarget","headerHeight","isTarget","targetMarkerTemplate","targetMarkerContext","column","sortType","sorts","selectionType","sortAscendingIcon","sortDescendingIcon","sortUnsetIcon","allRowsSelected","resize","longPressStart","longPressEnd","sort","select","columnContextmenu",4,"ngFor","ngForOf","ngForTrackBy"],["role","columnheader","resizeable","","long-press","","draggable","",3,"resizeEnabled","pressModel","pressEnabled","dragX","dragY","dragModel","dragEventTarget","headerHeight","isTarget","targetMarkerTemplate","targetMarkerContext","column","sortType","sorts","selectionType","sortAscendingIcon","sortDescendingIcon","sortUnsetIcon","allRowsSelected","resize","longPressStart","longPressEnd","sort","select","columnContextmenu"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275listener("reorder",function(i){return n.onColumnReordered(i)})("targetChanged",function(i){return n.onTargetChanged(i)}),t.\u0275\u0275template(1,T,2,5,"div",1),t.\u0275\u0275elementEnd()),2&e&&(t.\u0275\u0275styleProp("width",n._columnGroupWidths.total,"px"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",n._columnsByPin)("ngForTrackBy",n.trackByGroups))},dependencies:[It,Ue,x.NgForOf,x.NgStyle,Ye,qe,ke],encapsulation:2,changeDetection:0}),o})();function Rt(o,s,e){e=e||{};let n,r,i,l=null,h=0;function g(){h=!1===e.leading?0:+new Date,l=null,i=o.apply(n,r)}return function(){const b=+new Date;!h&&!1===e.leading&&(h=b);const C=s-(b-h);return n=this,r=arguments,C<=0?(clearTimeout(l),l=null,h=b,i=o.apply(n,r)):!l&&!1!==e.trailing&&(l=setTimeout(g,C)),i}}function Ht(o,s){return function(n,r,i){return{configurable:!0,enumerable:i.enumerable,get:function(){return Object.defineProperty(this,r,{configurable:!0,enumerable:i.enumerable,value:Rt(i.value,o,s)}),this[r]}}}}function Et(o){let s=0;for(const e of o)s+=e.flexGrow||0;return s}function Pt(o,s){const e=gt(o),n=Et(o),r=V(o);e!==s&&function Yt(o,s,e){for(const i in o)for(const l of o[i])l.canAutoResize?l.width=0:(s-=l.width,e-=l.flexGrow?l.flexGrow:0);const n={};let r=s;do{const i=r/e;r=0;for(const l in o)for(const h of o[l])if(h.canAutoResize&&!n[h.prop]){const g=h.width+h.flexGrow*i;void 0!==h.minWidth&&g<h.minWidth?(r+=g-h.minWidth,h.width=h.minWidth,n[h.prop]=!0):h.width=g}}while(0!==r)}(r,s,n)}function kt(o,s,e,n,r=300){const i=o.slice(e+1,o.length).filter(_=>!1!==_.canAutoResize);for(const _ of i)_.$$oldWidth||(_.$$oldWidth=_.width);let l=0,h=!1,g=Mt(o,r),b=s-g;const C=[];do{l=b/i.length,h=g>=s;for(const _ of i){if(h&&n)_.width=_.$$oldWidth||_.width||r;else{const M=(_.width||r)+l;_.minWidth&&M<_.minWidth?(_.width=_.minWidth,C.push(_)):_.maxWidth&&M>_.maxWidth?(_.width=_.maxWidth,C.push(_)):_.width=M}_.width=Math.max(0,_.width)}g=Mt(o),b=s-g,Ut(i,C)}while(b>1&&0!==i.length)}function Ut(o,s){for(const e of s){const n=o.indexOf(e);o.splice(n,1)}}function Mt(o,s=300){let e=0;for(const n of o)e+=n.width||s;return e}let Ft=(()=>{class o{constructor(){this.change=new t.EventEmitter,this._count=0,this._page=1,this._size=0}set size(e){this._size=e,this.pages=this.calcPages()}get size(){return this._size}set count(e){this._count=e,this.pages=this.calcPages()}get count(){return this._count}set page(e){this._page=e,this.pages=this.calcPages()}get page(){return this._page}get totalPages(){const e=this.size<1?1:Math.ceil(this.count/this.size);return Math.max(e||0,1)}canPrevious(){return this.page>1}canNext(){return this.page<this.totalPages}prevPage(){this.selectPage(this.page-1)}nextPage(){this.selectPage(this.page+1)}selectPage(e){e>0&&e<=this.totalPages&&e!==this.page&&(this.page=e,this.change.emit({page:e}))}calcPages(e){const n=[];let r=1,i=this.totalPages;e=e||this.page,5<this.totalPages&&(r=e-Math.floor(2.5),i=e+Math.floor(2.5),r<1?(r=1,i=Math.min(r+5-1,this.totalPages)):i>this.totalPages&&(r=Math.max(this.totalPages-5+1,1),i=this.totalPages));for(let g=r;g<=i;g++)n.push({number:g,text:g});return n}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.\u0275\u0275defineComponent({type:o,selectors:[["datatable-pager"]],hostAttrs:[1,"datatable-pager"],inputs:{pagerLeftArrowIcon:"pagerLeftArrowIcon",pagerRightArrowIcon:"pagerRightArrowIcon",pagerPreviousIcon:"pagerPreviousIcon",pagerNextIcon:"pagerNextIcon",size:"size",count:"count",page:"page"},outputs:{change:"change"},decls:14,vars:21,consts:[[1,"pager"],["role","button","aria-label","go to first page","href","javascript:void(0)",3,"click"],["role","button","aria-label","go to previous page","href","javascript:void(0)",3,"click"],["role","button","class","pages",3,"active",4,"ngFor","ngForOf"],["role","button","aria-label","go to next page","href","javascript:void(0)",3,"click"],["role","button","aria-label","go to last page","href","javascript:void(0)",3,"click"],["role","button",1,"pages"],["href","javascript:void(0)",3,"click"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"ul",0)(1,"li")(2,"a",1),t.\u0275\u0275listener("click",function(){return n.selectPage(1)}),t.\u0275\u0275element(3,"i"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(4,"li")(5,"a",2),t.\u0275\u0275listener("click",function(){return n.prevPage()}),t.\u0275\u0275element(6,"i"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(7,S,3,4,"li",3),t.\u0275\u0275elementStart(8,"li")(9,"a",4),t.\u0275\u0275listener("click",function(){return n.nextPage()}),t.\u0275\u0275element(10,"i"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(11,"li")(12,"a",5),t.\u0275\u0275listener("click",function(){return n.selectPage(n.totalPages)}),t.\u0275\u0275element(13,"i"),t.\u0275\u0275elementEnd()()()),2&e&&(t.\u0275\u0275advance(1),t.\u0275\u0275classProp("disabled",!n.canPrevious()),t.\u0275\u0275advance(2),t.\u0275\u0275classMap(n.pagerPreviousIcon),t.\u0275\u0275advance(1),t.\u0275\u0275classProp("disabled",!n.canPrevious()),t.\u0275\u0275advance(2),t.\u0275\u0275classMap(n.pagerLeftArrowIcon),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",n.pages),t.\u0275\u0275advance(1),t.\u0275\u0275classProp("disabled",!n.canNext()),t.\u0275\u0275advance(2),t.\u0275\u0275classMap(n.pagerRightArrowIcon),t.\u0275\u0275advance(1),t.\u0275\u0275classProp("disabled",!n.canNext()),t.\u0275\u0275advance(2),t.\u0275\u0275classMap(n.pagerNextIcon))},dependencies:[x.NgForOf],encapsulation:2,changeDetection:0}),o})(),Bt=(()=>{class o{constructor(){this.selectedCount=0,this.page=new t.EventEmitter}get isVisible(){return this.rowCount/this.pageSize>1}get curPage(){return this.offset+1}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.\u0275\u0275defineComponent({type:o,selectors:[["datatable-footer"]],hostAttrs:[1,"datatable-footer"],inputs:{footerHeight:"footerHeight",rowCount:"rowCount",pageSize:"pageSize",offset:"offset",pagerLeftArrowIcon:"pagerLeftArrowIcon",pagerRightArrowIcon:"pagerRightArrowIcon",pagerPreviousIcon:"pagerPreviousIcon",pagerNextIcon:"pagerNextIcon",totalMessage:"totalMessage",footerTemplate:"footerTemplate",selectedCount:"selectedCount",selectedMessage:"selectedMessage"},outputs:{page:"page"},decls:4,vars:8,consts:[[1,"datatable-footer-inner",3,"ngClass"],[4,"ngIf"],["class","page-count",4,"ngIf"],[3,"pagerLeftArrowIcon","pagerRightArrowIcon","pagerPreviousIcon","pagerNextIcon","page","size","count","hidden","change",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"page-count"],[3,"pagerLeftArrowIcon","pagerRightArrowIcon","pagerPreviousIcon","pagerNextIcon","page","size","count","hidden","change"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275template(1,R,1,8,null,1),t.\u0275\u0275template(2,F,3,3,"div",2),t.\u0275\u0275template(3,W,1,8,"datatable-pager",3),t.\u0275\u0275elementEnd()),2&e&&(t.\u0275\u0275styleProp("height",n.footerHeight,"px"),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(6,Ot,n.selectedMessage)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.footerTemplate),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!n.footerTemplate),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!n.footerTemplate))},dependencies:[Ft,x.NgClass,x.NgIf,x.NgTemplateOutlet],encapsulation:2,changeDetection:0}),o})(),qt=(()=>{class o{constructor(e,n,r,i,l,h,g){this.scrollbarHelper=e,this.dimensionsHelper=n,this.cd=r,this.columnChangesService=h,this.configuration=g,this.selected=[],this.scrollbarV=!1,this.scrollbarH=!1,this.rowHeight=30,this.columnMode=q.standard,this.headerHeight=30,this.footerHeight=0,this.externalPaging=!1,this.externalSorting=!1,this.loadingIndicator=!1,this.reorderable=!0,this.swapColumns=!0,this.sortType=K.single,this.sorts=[],this.cssClasses={sortAscending:"datatable-icon-up",sortDescending:"datatable-icon-down",sortUnset:"datatable-icon-sort-unset",pagerLeftArrow:"datatable-icon-left",pagerRightArrow:"datatable-icon-right",pagerPrevious:"datatable-icon-prev",pagerNext:"datatable-icon-skip"},this.messages={emptyMessage:"No data to display",totalMessage:"total",selectedMessage:"selected"},this.groupExpansionDefault=!1,this.selectAllRowsOnPage=!1,this.virtualization=!0,this.summaryRow=!1,this.summaryHeight=30,this.summaryPosition="top",this.scroll=new t.EventEmitter,this.activate=new t.EventEmitter,this.select=new t.EventEmitter,this.sort=new t.EventEmitter,this.page=new t.EventEmitter,this.reorder=new t.EventEmitter,this.resize=new t.EventEmitter,this.tableContextmenu=new t.EventEmitter(!1),this.treeAction=new t.EventEmitter,this.rowCount=0,this._offsetX=new k.BehaviorSubject(0),this._count=0,this._offset=0,this._subscriptions=[],this.rowIdentity=b=>this._groupRowsBy?b.key:b,this.element=i.nativeElement,this.rowDiffer=l.find({}).create(),this.configuration&&this.configuration.messages&&(this.messages={...this.configuration.messages})}set rows(e){this._rows=e,e&&(this._internalRows=[...e]),this.externalSorting||this.sortInternalRows(),this._internalRows=de(this._internalRows,X(this.treeFromRelation),X(this.treeToRelation)),this.recalculate(),this._rows&&this._groupRowsBy&&(this.groupedRows=this.groupArrayBy(this._rows,this._groupRowsBy)),this.cd.markForCheck()}get rows(){return this._rows}set groupRowsBy(e){e&&(this._groupRowsBy=e,this._rows&&this._groupRowsBy&&(this.groupedRows=this.groupArrayBy(this._rows,this._groupRowsBy)))}get groupRowsBy(){return this._groupRowsBy}set columns(e){e&&(this._internalColumns=[...e],Fe(this._internalColumns),this.recalculateColumns()),this._columns=e}get columns(){return this._columns}set limit(e){this._limit=e,this.recalculate()}get limit(){return this._limit}set count(e){this._count=e,this.recalculate()}get count(){return this._count}set offset(e){this._offset=e}get offset(){return Math.max(Math.min(this._offset,Math.ceil(this.rowCount/this.pageSize)-1),0)}get isFixedHeader(){const e=this.headerHeight;return"string"!=typeof e||"auto"!==e}get isFixedRow(){return"auto"!==this.rowHeight}get isVertScroll(){return this.scrollbarV}get isVirtualized(){return this.virtualization}get isHorScroll(){return this.scrollbarH}get isSelectable(){return void 0!==this.selectionType}get isCheckboxSelection(){return this.selectionType===P.checkbox}get isCellSelection(){return this.selectionType===P.cell}get isSingleSelection(){return this.selectionType===P.single}get isMultiSelection(){return this.selectionType===P.multi}get isMultiClickSelection(){return this.selectionType===P.multiClick}set columnTemplates(e){this._columnTemplates=e,this.translateColumns(e)}get columnTemplates(){return this._columnTemplates}get allRowsSelected(){let e=this.rows&&this.selected&&this.selected.length===this.rows.length;if(this.bodyComponent&&this.selectAllRowsOnPage){const n=this.bodyComponent.indexes;e=this.selected.length===n.last-n.first}return this.selected&&this.rows&&0!==this.rows.length&&e}ngOnInit(){this.recalculate()}ngAfterViewInit(){this.externalSorting||this.sortInternalRows(),!(typeof requestAnimationFrame>"u")&&requestAnimationFrame(()=>{this.recalculate(),this.externalPaging&&this.scrollbarV&&this.page.emit({count:this.count,pageSize:this.pageSize,limit:this.limit,offset:0})})}ngAfterContentInit(){this.columnTemplates.changes.subscribe(e=>this.translateColumns(e)),this.listenForColumnInputChanges()}translateColumns(e){if(e){const n=e.toArray();n.length&&(this._internalColumns=st(n),Fe(this._internalColumns),this.recalculateColumns(),this.sortInternalRows(),this.cd.markForCheck())}}groupArrayBy(e,n){const r=new Map;return e.forEach(h=>{const g=h[n];r.has(g)?r.get(g).push(h):r.set(g,[h])}),Array.from(r,h=>((h,g)=>({key:h,value:g}))(h[0],h[1]))}ngDoCheck(){this.rowDiffer.diff(this.rows)&&(this.externalSorting?this._internalRows=[...this.rows]:this.sortInternalRows(),this._internalRows=de(this._internalRows,X(this.treeFromRelation),X(this.treeToRelation)),this.recalculatePages(),this.cd.markForCheck())}recalculate(){this.recalculateDims(),this.recalculateColumns(),this.cd.markForCheck()}onWindowResize(){this.recalculate()}recalculateColumns(e=this._internalColumns,n=-1,r=this.scrollbarH){if(!e)return;let i=this._innerWidth;return this.scrollbarV&&(i-=this.scrollbarHelper.width),this.columnMode===q.force?kt(e,i,n,r):this.columnMode===q.flex&&Pt(e,i),e}recalculateDims(){const e=this.dimensionsHelper.getDimensions(this.element);if(this._innerWidth=Math.floor(e.width),this.scrollbarV){let n=e.height;this.headerHeight&&(n-=this.headerHeight),this.footerHeight&&(n-=this.footerHeight),this.bodyHeight=n}this.recalculatePages()}recalculatePages(){this.pageSize=this.calcPageSize(),this.rowCount=this.calcRowCount()}onBodyPage({offset:e}){this.externalPaging&&!this.virtualization||(this.offset=e,this.page.emit({count:this.count,pageSize:this.pageSize,limit:this.limit,offset:this.offset}))}onBodyScroll(e){this._offsetX.next(e.offsetX),this.scroll.emit(e),this.cd.detectChanges()}onFooterPage(e){this.offset=e.page-1,this.bodyComponent.updateOffsetY(this.offset),this.page.emit({count:this.count,pageSize:this.pageSize,limit:this.limit,offset:this.offset}),this.selectAllRowsOnPage&&(this.selected=[],this.select.emit({selected:this.selected}))}calcPageSize(e=this.rows){if(this.scrollbarV&&this.virtualization){const n=Math.ceil(this.bodyHeight/this.rowHeight);return Math.max(n,0)}return void 0!==this.limit?this.limit:e?e.length:0}calcRowCount(e=this.rows){return this.externalPaging?this.count:e?this.groupedRows?this.groupedRows.length:null!=this.treeFromRelation&&null!=this.treeToRelation?this._internalRows.length:e.length:0}onColumnContextmenu({event:e,column:n}){this.tableContextmenu.emit({event:e,type:he.header,content:n})}onRowContextmenu({event:e,row:n}){this.tableContextmenu.emit({event:e,type:he.body,content:n})}onColumnResize({column:e,newValue:n}){if(void 0===e)return;let r;const i=this._internalColumns.map((l,h)=>((l={...l}).$$id===e.$$id&&(r=h,l.width=n,l.$$oldWidth=n),l));this.recalculateColumns(i,r),this._internalColumns=i,this.resize.emit({column:e,newValue:n})}onColumnReorder({column:e,newValue:n,prevValue:r}){const i=this._internalColumns.map(l=>({...l}));if(this.swapColumns){const l=i[n];i[n]=e,i[r]=l}else if(n>r){const l=i[r];for(let h=r;h<n;h++)i[h]=i[h+1];i[n]=l}else{const l=i[r];for(let h=r;h>n;h--)i[h]=i[h-1];i[n]=l}this._internalColumns=i,this.reorder.emit({column:e,newValue:n,prevValue:r})}onColumnSort(e){this.selectAllRowsOnPage&&(this.selected=[],this.select.emit({selected:this.selected})),this.sorts=e.sorts,!1===this.externalSorting&&this.sortInternalRows(),this._internalRows=de(this._internalRows,X(this.treeFromRelation),X(this.treeToRelation)),this.offset=0,this.bodyComponent.updateOffsetY(this.offset),this.sort.emit(e)}onHeaderSelect(e){if(this.bodyComponent&&this.selectAllRowsOnPage){const n=this.bodyComponent.indexes.first,r=this.bodyComponent.indexes.last,i=this.selected.length===r-n;this.selected=[],i||this.selected.push(...this._internalRows.slice(n,r))}else{const n=this.selected.length===this.rows.length;this.selected=[],n||this.selected.push(...this.rows)}this.select.emit({selected:this.selected})}onBodySelect(e){this.select.emit(e)}onTreeAction(e){const n=e.row,r=this._rows.findIndex(i=>i[this.treeToRelation]===e.row[this.treeToRelation]);this.treeAction.emit({row:n,rowIndex:r})}ngOnDestroy(){this._subscriptions.forEach(e=>e.unsubscribe())}listenForColumnInputChanges(){this._subscriptions.push(this.columnChangesService.columnInputChanges$.subscribe(()=>{this.columnTemplates&&this.columnTemplates.notifyOnChanges()}))}sortInternalRows(){this._internalRows=St(this._internalRows,this._internalColumns,this.sorts)}}return o.\u0275fac=function(e){return new(e||o)(t.\u0275\u0275directiveInject(ae,4),t.\u0275\u0275directiveInject(Pe,4),t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(t.KeyValueDiffers),t.\u0275\u0275directiveInject(le),t.\u0275\u0275directiveInject("configuration",8))},o.\u0275cmp=t.\u0275\u0275defineComponent({type:o,selectors:[["ngx-datatable"]],contentQueries:function(e,n,r){if(1&e&&(t.\u0275\u0275contentQuery(r,ht,5),t.\u0275\u0275contentQuery(r,Ze,5),t.\u0275\u0275contentQuery(r,pt,5),t.\u0275\u0275contentQuery(r,dt,4)),2&e){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(n.rowDetail=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(n.groupHeader=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(n.footer=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(n.columnTemplates=i)}},viewQuery:function(e,n){if(1&e&&(t.\u0275\u0275viewQuery(Oe,5),t.\u0275\u0275viewQuery(Ve,5)),2&e){let r;t.\u0275\u0275queryRefresh(r=t.\u0275\u0275loadQuery())&&(n.bodyComponent=r.first),t.\u0275\u0275queryRefresh(r=t.\u0275\u0275loadQuery())&&(n.headerComponent=r.first)}},hostAttrs:[1,"ngx-datatable"],hostVars:22,hostBindings:function(e,n){1&e&&t.\u0275\u0275listener("resize",function(){return n.onWindowResize()},!1,t.\u0275\u0275resolveWindow),2&e&&t.\u0275\u0275classProp("fixed-header",n.isFixedHeader)("fixed-row",n.isFixedRow)("scroll-vertical",n.isVertScroll)("virtualized",n.isVirtualized)("scroll-horz",n.isHorScroll)("selectable",n.isSelectable)("checkbox-selection",n.isCheckboxSelection)("cell-selection",n.isCellSelection)("single-selection",n.isSingleSelection)("multi-selection",n.isMultiSelection)("multi-click-selection",n.isMultiClickSelection)},inputs:{targetMarkerTemplate:"targetMarkerTemplate",rows:"rows",groupRowsBy:"groupRowsBy",groupedRows:"groupedRows",columns:"columns",selected:"selected",scrollbarV:"scrollbarV",scrollbarH:"scrollbarH",rowHeight:"rowHeight",columnMode:"columnMode",headerHeight:"headerHeight",footerHeight:"footerHeight",externalPaging:"externalPaging",externalSorting:"externalSorting",limit:"limit",count:"count",offset:"offset",loadingIndicator:"loadingIndicator",selectionType:"selectionType",reorderable:"reorderable",swapColumns:"swapColumns",sortType:"sortType",sorts:"sorts",cssClasses:"cssClasses",messages:"messages",rowClass:"rowClass",selectCheck:"selectCheck",displayCheck:"displayCheck",groupExpansionDefault:"groupExpansionDefault",trackByProp:"trackByProp",selectAllRowsOnPage:"selectAllRowsOnPage",virtualization:"virtualization",treeFromRelation:"treeFromRelation",treeToRelation:"treeToRelation",summaryRow:"summaryRow",summaryHeight:"summaryHeight",summaryPosition:"summaryPosition",rowIdentity:"rowIdentity"},outputs:{scroll:"scroll",activate:"activate",select:"select",sort:"sort",page:"page",reorder:"reorder",resize:"resize",tableContextmenu:"tableContextmenu",treeAction:"treeAction"},decls:5,vars:34,consts:[["role","table","visibilityObserver","",3,"visible"],["role","rowgroup",3,"sorts","sortType","scrollbarH","innerWidth","offsetX","dealsWithGroup","columns","headerHeight","reorderable","targetMarkerTemplate","sortAscendingIcon","sortDescendingIcon","sortUnsetIcon","allRowsSelected","selectionType","sort","resize","reorder","select","columnContextmenu",4,"ngIf"],["role","rowgroup",3,"groupRowsBy","groupedRows","rows","groupExpansionDefault","scrollbarV","scrollbarH","virtualization","loadingIndicator","externalPaging","rowHeight","rowCount","offset","trackByProp","columns","pageSize","offsetX","rowDetail","groupHeader","selected","innerWidth","bodyHeight","selectionType","emptyMessage","rowIdentity","rowClass","selectCheck","displayCheck","summaryRow","summaryHeight","summaryPosition","page","activate","rowContextmenu","select","scroll","treeAction"],[3,"rowCount","pageSize","offset","footerHeight","footerTemplate","totalMessage","pagerLeftArrowIcon","pagerRightArrowIcon","pagerPreviousIcon","selectedCount","selectedMessage","pagerNextIcon","page",4,"ngIf"],["role","rowgroup",3,"sorts","sortType","scrollbarH","innerWidth","offsetX","dealsWithGroup","columns","headerHeight","reorderable","targetMarkerTemplate","sortAscendingIcon","sortDescendingIcon","sortUnsetIcon","allRowsSelected","selectionType","sort","resize","reorder","select","columnContextmenu"],[3,"rowCount","pageSize","offset","footerHeight","footerTemplate","totalMessage","pagerLeftArrowIcon","pagerRightArrowIcon","pagerPreviousIcon","selectedCount","selectedMessage","pagerNextIcon","page"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275listener("visible",function(){return n.recalculate()}),t.\u0275\u0275template(1,Vt,2,17,"datatable-header",1),t.\u0275\u0275elementStart(2,"datatable-body",2),t.\u0275\u0275listener("page",function(i){return n.onBodyPage(i)})("activate",function(i){return n.activate.emit(i)})("rowContextmenu",function(i){return n.onRowContextmenu(i)})("select",function(i){return n.onBodySelect(i)})("scroll",function(i){return n.onBodyScroll(i)})("treeAction",function(i){return n.onTreeAction(i)}),t.\u0275\u0275pipe(3,"async"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,jt,1,12,"datatable-footer",3),t.\u0275\u0275elementEnd()),2&e&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.headerHeight),t.\u0275\u0275advance(1),t.\u0275\u0275property("groupRowsBy",n.groupRowsBy)("groupedRows",n.groupedRows)("rows",n._internalRows)("groupExpansionDefault",n.groupExpansionDefault)("scrollbarV",n.scrollbarV)("scrollbarH",n.scrollbarH)("virtualization",n.virtualization)("loadingIndicator",n.loadingIndicator)("externalPaging",n.externalPaging)("rowHeight",n.rowHeight)("rowCount",n.rowCount)("offset",n.offset)("trackByProp",n.trackByProp)("columns",n._internalColumns)("pageSize",n.pageSize)("offsetX",t.\u0275\u0275pipeBind1(3,32,n._offsetX))("rowDetail",n.rowDetail)("groupHeader",n.groupHeader)("selected",n.selected)("innerWidth",n._innerWidth)("bodyHeight",n.bodyHeight)("selectionType",n.selectionType)("emptyMessage",n.messages.emptyMessage)("rowIdentity",n.rowIdentity)("rowClass",n.rowClass)("selectCheck",n.selectCheck)("displayCheck",n.displayCheck)("summaryRow",n.summaryRow)("summaryHeight",n.summaryHeight)("summaryPosition",n.summaryPosition),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.footerHeight))},dependencies:[Ve,Oe,Bt,Qe,x.NgIf,x.AsyncPipe],styles:[".ngx-datatable{display:block;overflow:hidden;justify-content:center;position:relative;transform:translate(0)}.ngx-datatable [hidden]{display:none!important}.ngx-datatable *,.ngx-datatable *:before,.ngx-datatable *:after{box-sizing:border-box}.ngx-datatable.scroll-vertical .datatable-body{overflow-y:auto}.ngx-datatable.scroll-vertical.virtualized .datatable-body .datatable-row-wrapper{position:absolute}.ngx-datatable.scroll-horz .datatable-body{overflow-x:auto;-webkit-overflow-scrolling:touch}.ngx-datatable.fixed-header .datatable-header .datatable-header-inner{white-space:nowrap}.ngx-datatable.fixed-header .datatable-header .datatable-header-inner .datatable-header-cell{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ngx-datatable.fixed-row .datatable-scroll,.ngx-datatable.fixed-row .datatable-scroll .datatable-body-row{white-space:nowrap}.ngx-datatable.fixed-row .datatable-scroll .datatable-body-row .datatable-body-cell,.ngx-datatable.fixed-row .datatable-scroll .datatable-body-row .datatable-body-group-cell{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.ngx-datatable .datatable-body-row,.ngx-datatable .datatable-row-center,.ngx-datatable .datatable-header-inner{display:flex;flex-direction:row;-o-flex-flow:row;flex-flow:row}.ngx-datatable .datatable-body-cell,.ngx-datatable .datatable-header-cell{overflow-x:hidden;vertical-align:top;display:inline-block;line-height:1.625}.ngx-datatable .datatable-body-cell:focus,.ngx-datatable .datatable-header-cell:focus{outline:none}.ngx-datatable .datatable-row-left,.ngx-datatable .datatable-row-right{z-index:9}.ngx-datatable .datatable-row-left,.ngx-datatable .datatable-row-center,.ngx-datatable .datatable-row-group,.ngx-datatable .datatable-row-right{position:relative}.ngx-datatable .datatable-header{display:block;overflow:hidden}.ngx-datatable .datatable-header .datatable-header-inner{align-items:stretch;-webkit-align-items:stretch}.ngx-datatable .datatable-header .datatable-header-cell{position:relative;display:inline-block}.ngx-datatable .datatable-header .datatable-header-cell.sortable .datatable-header-cell-wrapper{cursor:pointer}.ngx-datatable .datatable-header .datatable-header-cell.longpress .datatable-header-cell-wrapper{cursor:move}.ngx-datatable .datatable-header .datatable-header-cell .sort-btn{line-height:100%;vertical-align:middle;display:inline-block;cursor:pointer}.ngx-datatable .datatable-header .datatable-header-cell .resize-handle,.ngx-datatable .datatable-header .datatable-header-cell .resize-handle--not-resizable{display:inline-block;position:absolute;right:0;top:0;bottom:0;width:5px;padding:0 4px;visibility:hidden}.ngx-datatable .datatable-header .datatable-header-cell .resize-handle{cursor:ew-resize}.ngx-datatable .datatable-header .datatable-header-cell.resizeable:hover .resize-handle,.ngx-datatable .datatable-header .datatable-header-cell:hover .resize-handle--not-resizable{visibility:visible}.ngx-datatable .datatable-header .datatable-header-cell .targetMarker{position:absolute;top:0;bottom:0}.ngx-datatable .datatable-header .datatable-header-cell .targetMarker.dragFromLeft{right:0}.ngx-datatable .datatable-header .datatable-header-cell .targetMarker.dragFromRight{left:0}.ngx-datatable .datatable-header .datatable-header-cell .datatable-header-cell-template-wrap{height:inherit}.ngx-datatable .datatable-body{position:relative;z-index:10;display:block}.ngx-datatable .datatable-body .datatable-scroll{display:inline-block}.ngx-datatable .datatable-body .datatable-row-detail{overflow-y:hidden}.ngx-datatable .datatable-body .datatable-row-wrapper{display:flex;flex-direction:column}.ngx-datatable .datatable-body .datatable-body-row{outline:none}.ngx-datatable .datatable-body .datatable-body-row>div{display:flex}.ngx-datatable .datatable-footer{display:block;width:100%;overflow:auto}.ngx-datatable .datatable-footer .datatable-footer-inner{display:flex;align-items:center;width:100%}.ngx-datatable .datatable-footer .selected-count .page-count{flex:1 1 40%}.ngx-datatable .datatable-footer .selected-count .datatable-pager{flex:1 1 60%}.ngx-datatable .datatable-footer .page-count{flex:1 1 20%}.ngx-datatable .datatable-footer .datatable-pager{flex:1 1 80%;text-align:right}.ngx-datatable .datatable-footer .datatable-pager .pager,.ngx-datatable .datatable-footer .datatable-pager .pager li{padding:0;margin:0;display:inline-block;list-style:none}.ngx-datatable .datatable-footer .datatable-pager .pager li,.ngx-datatable .datatable-footer .datatable-pager .pager li a{outline:none}.ngx-datatable .datatable-footer .datatable-pager .pager li a{cursor:pointer;display:inline-block}.ngx-datatable .datatable-footer .datatable-pager .pager li.disabled a{cursor:not-allowed}\n"],encapsulation:2,changeDetection:0}),(0,te.gn)([Ht(5)],o.prototype,"onWindowResize",null),o})(),Kt=(()=>{class o{static forRoot(e){return{ngModule:o,providers:[{provide:"configuration",useValue:e}]}}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=t.\u0275\u0275defineInjector({providers:[ae,Pe,le],imports:[[x.CommonModule]]}),o})();var zt=function(o){return o.single="single",o.double="double",o}(zt||{});function Wt(o,s){const e=[],n=[];let r,i,l;for(;(r=document.elementFromPoint(o,s))&&-1===e.indexOf(r)&&null!=r;)e.push(r),n.push({value:r.style.getPropertyValue("pointer-events"),priority:r.style.getPropertyPriority("pointer-events")}),r.style.setProperty("pointer-events","none","important");for(i=n.length;l=n[--i];)e[i].style.setProperty("pointer-events",l.value?l.value:"",l.priority);return e}typeof document<"u"&&!document.elementsFromPoint&&(document.elementsFromPoint=Wt)},97582:(At,ee,z)=>{function te(a,c,u,d){var m,f=arguments.length,p=f<3?c:null===d?d=Object.getOwnPropertyDescriptor(c,u):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(a,c,u,d);else for(var y=a.length-1;y>=0;y--)(m=a[y])&&(p=(f<3?m(p):f>3?m(c,u,p):m(c,u))||p);return f>3&&p&&Object.defineProperty(c,u,p),p}function ne(a,c){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,c)}function oe(a,c,u,d){return new(u||(u=Promise))(function(p,m){function y(T){try{w(d.next(T))}catch(S){m(S)}}function I(T){try{w(d.throw(T))}catch(S){m(S)}}function w(T){T.done?p(T.value):function f(p){return p instanceof u?p:new u(function(m){m(p)})}(T.value).then(y,I)}w((d=d.apply(a,c||[])).next())})}function O(a){return this instanceof O?(this.v=a,this):new O(a)}function ie(a,c,u){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var f,d=u.apply(a,c||[]),p=[];return f={},y("next"),y("throw"),y("return",function m(v){return function(R){return Promise.resolve(R).then(v,S)}}),f[Symbol.asyncIterator]=function(){return this},f;function y(v,R){d[v]&&(f[v]=function(E){return new Promise(function(F,W){p.push([v,E,F,W])>1||I(v,E)})},R&&(f[v]=R(f[v])))}function I(v,R){try{!function w(v){v.value instanceof O?Promise.resolve(v.value.v).then(T,S):j(p[0][2],v)}(d[v](R))}catch(E){j(p[0][3],E)}}function T(v){I("next",v)}function S(v){I("throw",v)}function j(v,R){v(R),p.shift(),p.length&&I(p[0][0],p[0][1])}}function se(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u,c=a[Symbol.asyncIterator];return c?c.call(a):(a=function U(a){var c="function"==typeof Symbol&&Symbol.iterator,u=c&&a[c],d=0;if(u)return u.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw new TypeError(c?"Object is not iterable.":"Symbol.iterator is not defined.")}(a),u={},d("next"),d("throw"),d("return"),u[Symbol.asyncIterator]=function(){return this},u);function d(p){u[p]=a[p]&&function(m){return new Promise(function(y,I){!function f(p,m,y,I){Promise.resolve(I).then(function(w){p({value:w,done:y})},m)}(y,I,(m=a[p](m)).done,m.value)})}}}z.d(ee,{FC:()=>ie,KL:()=>se,gn:()=>te,mG:()=>oe,qq:()=>O,w6:()=>ne}),"function"==typeof SuppressedError&&SuppressedError}}]);