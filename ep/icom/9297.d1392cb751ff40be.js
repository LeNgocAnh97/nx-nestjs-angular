(self.webpackChunkicom=self.webpackChunkicom||[]).push([[9297],{8111:(T,_,s)=>{s.d(_,{$M:()=>D,md:()=>n.md,E2:()=>n.E2,ZR:()=>n.ZR,c2:()=>n.c2,PM:()=>n.PM,xh:()=>n.xh,NT:()=>n.NT,oS:()=>n.oS,cT:()=>n.cT});var n=s(61863);let D=(()=>{class l{static#t=this.KEY_MENU="menu";static#e=this.FUNCTIONS="functions";static#n=this.PERMISSIONS="permission"}return l})()},61863:(T,_,s)=>{s.d(_,{E2:()=>h,NT:()=>e,PM:()=>y,ZR:()=>C,c2:()=>R,cT:()=>M,md:()=>m,oS:()=>S,xh:()=>o});var n=s(93484),l=s(91872);const C=()=>({transform:t=>t?l(t).format("DD/MM/YYYY HH:mm"):"-"}),h=()=>({transform:t=>t||"-"}),m=t=>{if(Array.isArray(t))return t.map(c=>m(c));if("object"==typeof t&&null!==t){const c={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(c[r.replace(/([A-Z])/g,"_$1").toLowerCase()]=m(t[r]));return c}return t},e=(t,c,r)=>{let a=["start_time","end_time"];c&&(a=c.split(","));const[d,p]=a;if(!t.date_range||!t.date_range.length)return;const u=t.date_range,[f,v]=u;if(f instanceof String&&v instanceof String)return;const E={[d]:l(f),[p]:l(v)};t[d]=E[d],t[p]=E[p],delete t.date_range},o=(t,c,r)=>{let a=["start_time","end_time"];c&&(a=c.split(","));const[d,p]=a;if(!t.date_range||!t.date_range.length)return;const u=t.date_range,[f,v]=u;if(f instanceof String&&v instanceof String)return;const E={[d]:l(f).format("YYYY-MM-DDT00:00:00")+"Z",[p]:l(v).format("YYYY-MM-DDT00:00:00")+"Z"};t[d]=E[d],t[p]=E[p],delete t.date_range},y=(t,c)=>{for(const r in t)c[r]=t[r]},R=t=>{Object.values(t.controls).forEach(c=>{c.markAsTouched(),c instanceof n.FormGroup?R(c):c instanceof n.FormArray&&c.controls.forEach(r=>{r instanceof n.FormGroup?R(r):r instanceof n.FormControl&&r.markAsTouched()})})},M=(t,c,r,a,d,p,u)=>{const f=new XMLHttpRequest;f.open("POST",t,!0),f.responseType="blob";let v=localStorage?.getItem("token");for(;v?.includes('"');)v=v?.replace('"',"");f.setRequestHeader("Authorization",`Bearer ${v}`),f.onload=()=>{if(200===f.status){const E=new Blob([f.response],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),O=URL.createObjectURL(E),P=document.createElement("a"),A=f.getResponseHeader("Content-Disposition");let F="";if(!d){const j=new Date;F=`${j.getDate()}_${j.getMonth()+1}_${j.getFullYear()}`}let w=`${c}_${F}`;if(A){const I=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(A);null!=I&&I[1]&&(w=I[1].replace(/['"]/g,""))}P.href=O,P.download=w,document.body.appendChild(P),P.click(),URL.revokeObjectURL(O),document.body.removeChild(P),r.showAlertMessageDone("T\u1ea3i file th\xe0nh c\xf4ng."),u&&u()}else r.showAlertMessageError("T\u1ea3i file th\u1ea5t b\u1ea1i."),u&&u()},f.onerror=function(){console.error("Request error")},f.setRequestHeader("Content-Type","application/json"),a&&p&&o(a),f.send(JSON.stringify(a))};function S(t,c){return Object.keys(t).forEach(r=>{r.startsWith(c)&&delete t[r]}),t}},79466:(T,_,s)=>{s.d(_,{G:()=>l});var n=s(36151);let l=(()=>{class g{constructor(h,m,e){this.componentFactoryResolver=h,this.appRef=m,this.injector=e}appendComponentToBody(h){const e=this.componentFactoryResolver.resolveComponentFactory(h).create(this.injector);return this.appRef.attachView(e.hostView),document.body.appendChild(e.hostView.rootNodes[0]),e}appendComponentToComponent(h,m){const e=this.componentFactoryResolver.resolveComponentFactory(m);return h.viewContainerRef.createComponent(e)}removeComponentFromBody(h){this.appRef.detachView(h.hostView),h.destroy()}removeComponentFromComponent(h,m){const e=h.viewContainerRef,o=e.indexOf(m.hostView);-1!==o&&e.detach(o),m.destroy()}static#t=this.\u0275fac=function(m){return new(m||g)(n.\u0275\u0275inject(n.ComponentFactoryResolver),n.\u0275\u0275inject(n.ApplicationRef),n.\u0275\u0275inject(n.Injector))};static#e=this.\u0275prov=n.\u0275\u0275defineInjectable({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})()},57182:(T,_,s)=>{s.d(_,{s:()=>C});var n=s(16564),l=s(36151);let C=(()=>{class h{constructor(e){this.http=e,this.pathArray=[],this.delay=1e3,window.addEventListener("keydown",this.handleSpacebar.bind(this))}handleSpacebar(e){("Space"===e.code||32===e.keyCode)&&(this.pathArray.length=0)}printPathAndMethod(e,o){this.pathArray.push(`${e} : ${o}`)}pushPathWithDelay(e,o){setTimeout(()=>{this.printPathAndMethod(e,o)},this.delay)}get(e,o={},i={}){this.pushPathWithDelay("GET",e);let y={};return o&&(y=this.setParameter(o)),i=this.customHeaders(i),this.http.get(this.path(e),{headers:i,params:y})}put(e,o={},i={}){return this.pushPathWithDelay("PUT",e),i=this.customHeaders(i),this.http.put(this.path(e),o,{headers:i})}post(e,o={},i={},y={}){this.pushPathWithDelay("POST",e);let R={};return y&&(R=this.setParameter(y)),i=this.customHeaders(i),this.http.post(this.path(e),o,{headers:i,params:R})}patch(e,o={},i={},y={}){this.pushPathWithDelay("PATCH",e);let R={};return y&&(R=this.setParameter(y)),i=this.customHeaders(i),this.http.patch(this.path(e),o,{headers:i,params:R})}delete(e,o={}){return this.pushPathWithDelay("DELETE",e),o=this.customHeaders(o),this.http.delete(this.path(e),{headers:o})}customHeaders(e={}){let o=new n.HttpHeaders;for(const i in e)i&&null!=e[i]&&(o=o.append(i,e[i]));return o}setParameter(e){let o=new n.HttpParams;for(const i in e)i&&null!=e[i]&&(o=o.set(i,e[i]));return o}path(e){return`${e}`}getPathArray(){return this.pathArray}static#t=this.\u0275fac=function(o){return new(o||h)(l.\u0275\u0275inject(n.HttpClient))};static#e=this.\u0275prov=l.\u0275\u0275defineInjectable({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})()},53750:(T,_,s)=>{s.d(_,{pm:()=>S,Qi:()=>m,Gj:()=>o.G});var n=s(36151),D=s(66049),l=s(60202),g=s(65893),C=s(71684);s(37586);let m=(()=>{class t{constructor(r,a){this.router=r,this.toastService=a,this.modalCtrl=[],this.destroyRef=(0,n.inject)(n.DestroyRef),this.router.events.pipe((0,g.filter)(d=>d instanceof l.NavigationEnd),(0,D.takeUntilDestroyed)()).subscribe(d=>{for(let p=0,u=this.modalCtrl.length;p<u;p++)this.modalCtrl[p].destroy("onCancel");this.modalCtrl=[]})}showAlertMessageDone(r){this.toastService.success(r)}showAlertMessageError(r){this.toastService.error(r)}static#t=this.\u0275fac=function(a){return new(a||t)(n.\u0275\u0275inject(l.Router),n.\u0275\u0275inject(C.NzMessageService))};static#e=this.\u0275prov=n.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();s(57182);var o=s(79466);s(16564),s(87757);var M=s(33635);let S=179==s.j?(()=>{class t{constructor(r,a){this.router=r,this.activatedRoute=a,this.breadcrumbs$=this.router.events.pipe((0,M.map)(()=>this.createBreadcrumbs(this.activatedRoute.root)))}createBreadcrumbs(r,a="",d=[]){const p=r.children;if(0===p.length)return d;for(const u of p){if(u.snapshot.routeConfig&&u.snapshot.routeConfig.redirectTo)continue;const f=u.snapshot.url.map(E=>E.path).join("/");""!==f&&(a+=`/${f}`);const v=u.snapshot.data.breadcrumb;return v&&d.push({label:v,url:a}),this.createBreadcrumbs(u,a,d)}return console.log(d),d}static#t=this.\u0275fac=function(a){return new(a||t)(n.\u0275\u0275inject(l.Router),n.\u0275\u0275inject(l.ActivatedRoute))};static#e=this.\u0275prov=n.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})():null}}]);