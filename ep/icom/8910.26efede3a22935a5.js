(self.webpackChunkicom=self.webpackChunkicom||[]).push([[8910,1128,2819,4771,6780,9671,6099,6957,8938,122,7351,9974,8088],{8111:(P,R,n)=>{n.d(R,{$M:()=>D,md:()=>t.md,E2:()=>t.E2,ZR:()=>t.ZR,c2:()=>t.c2,PM:()=>t.PM,xh:()=>t.xh,NT:()=>t.NT,oS:()=>t.oS,cT:()=>t.cT});var t=n(61863);let D=(()=>{class c{static#e=this.KEY_MENU="menu";static#t=this.FUNCTIONS="functions";static#n=this.PERMISSIONS="permission"}return c})()},61863:(P,R,n)=>{n.d(R,{E2:()=>a,NT:()=>l,PM:()=>y,ZR:()=>C,c2:()=>_,cT:()=>M,md:()=>i,oS:()=>j,xh:()=>h});var t=n(93484),c=n(91872);const C=()=>({transform:e=>e?c(e).format("DD/MM/YYYY HH:mm"):"-"}),a=()=>({transform:e=>e||"-"}),i=e=>{if(Array.isArray(e))return e.map(r=>i(r));if("object"==typeof e&&null!==e){const r={};for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o.replace(/([A-Z])/g,"_$1").toLowerCase()]=i(e[o]));return r}return e},l=(e,r,o)=>{let s=["start_time","end_time"];r&&(s=r.split(","));const[f,u]=s;if(!e.date_range||!e.date_range.length)return;const p=e.date_range,[d,g]=p;if(d instanceof String&&g instanceof String)return;const E={[f]:c(d),[u]:c(g)};e[f]=E[f],e[u]=E[u],delete e.date_range},h=(e,r,o)=>{let s=["start_time","end_time"];r&&(s=r.split(","));const[f,u]=s;if(!e.date_range||!e.date_range.length)return;const p=e.date_range,[d,g]=p;if(d instanceof String&&g instanceof String)return;const E={[f]:c(d).format("YYYY-MM-DDT00:00:00")+"Z",[u]:c(g).format("YYYY-MM-DDT00:00:00")+"Z"};e[f]=E[f],e[u]=E[u],delete e.date_range},y=(e,r)=>{for(const o in e)r[o]=e[o]},_=e=>{Object.values(e.controls).forEach(r=>{r.markAsTouched(),r instanceof t.FormGroup?_(r):r instanceof t.FormArray&&r.controls.forEach(o=>{o instanceof t.FormGroup?_(o):o instanceof t.FormControl&&o.markAsTouched()})})},M=(e,r,o,s,f,u,p)=>{const d=new XMLHttpRequest;d.open("POST",e,!0),d.responseType="blob";let g=localStorage?.getItem("token");for(;g?.includes('"');)g=g?.replace('"',"");d.setRequestHeader("Authorization",`Bearer ${g}`),d.onload=()=>{if(200===d.status){const E=new Blob([d.response],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),S=URL.createObjectURL(E),T=document.createElement("a"),A=d.getResponseHeader("Content-Disposition");let F="";if(!f){const O=new Date;F=`${O.getDate()}_${O.getMonth()+1}_${O.getFullYear()}`}let N=`${r}_${F}`;if(A){const I=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(A);null!=I&&I[1]&&(N=I[1].replace(/['"]/g,""))}T.href=S,T.download=N,document.body.appendChild(T),T.click(),URL.revokeObjectURL(S),document.body.removeChild(T),o.showAlertMessageDone("T\u1ea3i file th\xe0nh c\xf4ng."),p&&p()}else o.showAlertMessageError("T\u1ea3i file th\u1ea5t b\u1ea1i."),p&&p()},d.onerror=function(){console.error("Request error")},d.setRequestHeader("Content-Type","application/json"),s&&u&&h(s),d.send(JSON.stringify(s))};function j(e,r){return Object.keys(e).forEach(o=>{o.startsWith(r)&&delete e[o]}),e}},248:(P,R,n)=>{n.d(R,{$:()=>h});var t=n(36151),c=n(27493),m=n(50038),a=n(8111),i=n(60202);let h=(()=>{class v{constructor(_,M){this.notificationService=_,this.router=M;const j=(0,t.inject)(c.n);this.functions=j.getItem(a.$M.FUNCTIONS)||[];const e=this.functions.filter(r=>location.pathname.includes(r.path||""));e||(this.showNotification("No action found"),this.permission={}),this.permission=e?.reduce((r,o)=>(o.code&&(r[o.code]=o.selected||!1),r),{})||{}}showNotification(_){this.notificationService.error("Permission Denied",_)}getPermission(_){return this.permission?.[_]||!1}static#e=this.\u0275fac=function(M){return new(M||v)(t.\u0275\u0275inject(m.NzNotificationService),t.\u0275\u0275inject(i.Router))};static#t=this.\u0275prov=t.\u0275\u0275defineInjectable({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})()},79466:(P,R,n)=>{n.d(R,{G:()=>c});var t=n(36151);let c=(()=>{class m{constructor(a,i,l){this.componentFactoryResolver=a,this.appRef=i,this.injector=l}appendComponentToBody(a){const l=this.componentFactoryResolver.resolveComponentFactory(a).create(this.injector);return this.appRef.attachView(l.hostView),document.body.appendChild(l.hostView.rootNodes[0]),l}appendComponentToComponent(a,i){const l=this.componentFactoryResolver.resolveComponentFactory(i);return a.viewContainerRef.createComponent(l)}removeComponentFromBody(a){this.appRef.detachView(a.hostView),a.destroy()}removeComponentFromComponent(a,i){const l=a.viewContainerRef,h=l.indexOf(i.hostView);-1!==h&&l.detach(h),i.destroy()}static#e=this.\u0275fac=function(i){return new(i||m)(t.\u0275\u0275inject(t.ComponentFactoryResolver),t.\u0275\u0275inject(t.ApplicationRef),t.\u0275\u0275inject(t.Injector))};static#t=this.\u0275prov=t.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})()},53750:(P,R,n)=>{n.d(R,{pm:()=>j,Qi:()=>i,Gj:()=>h.G});var t=n(36151),D=n(66049),c=n(60202),m=n(65893),C=n(71684);n(37586);let i=(()=>{class e{constructor(o,s){this.router=o,this.toastService=s,this.modalCtrl=[],this.destroyRef=(0,t.inject)(t.DestroyRef),this.router.events.pipe((0,m.filter)(f=>f instanceof c.NavigationEnd),(0,D.takeUntilDestroyed)()).subscribe(f=>{for(let u=0,p=this.modalCtrl.length;u<p;u++)this.modalCtrl[u].destroy("onCancel");this.modalCtrl=[]})}showAlertMessageDone(o){this.toastService.success(o)}showAlertMessageError(o){this.toastService.error(o)}static#e=this.\u0275fac=function(s){return new(s||e)(t.\u0275\u0275inject(c.Router),t.\u0275\u0275inject(C.NzMessageService))};static#t=this.\u0275prov=t.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();n(57182);var h=n(79466);n(16564),n(87757);var M=n(33635);let j=179==n.j?(()=>{class e{constructor(o,s){this.router=o,this.activatedRoute=s,this.breadcrumbs$=this.router.events.pipe((0,M.map)(()=>this.createBreadcrumbs(this.activatedRoute.root)))}createBreadcrumbs(o,s="",f=[]){const u=o.children;if(0===u.length)return f;for(const p of u){if(p.snapshot.routeConfig&&p.snapshot.routeConfig.redirectTo)continue;const d=p.snapshot.url.map(E=>E.path).join("/");""!==d&&(s+=`/${d}`);const g=p.snapshot.data.breadcrumb;return g&&f.push({label:g,url:s}),this.createBreadcrumbs(p,s,f)}return console.log(f),f}static#e=this.\u0275fac=function(s){return new(s||e)(t.\u0275\u0275inject(c.Router),t.\u0275\u0275inject(c.ActivatedRoute))};static#t=this.\u0275prov=t.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})():null},49671:(P,R,n)=>{function t(c,m,C,a,i,l,h){try{var v=c[l](h),y=v.value}catch(_){return void C(_)}v.done?m(y):Promise.resolve(y).then(a,i)}function D(c){return function(){var m=this,C=arguments;return new Promise(function(a,i){var l=c.apply(m,C);function h(y){t(l,a,i,h,v,"next",y)}function v(y){t(l,a,i,h,v,"throw",y)}h(void 0)})}}n.d(R,{Z:()=>D})}}]);