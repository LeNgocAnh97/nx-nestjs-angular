(self.webpackChunkicom=self.webpackChunkicom||[]).push([[4843],{74843:(T,u,r)=>{r.d(u,{d:()=>st});var c=r(14817),t=r(36151),m=r(93484),p=r(13391),y=r(62059),_=r(16283),d=r(14859),C=r(15311),A=r(87757),I=r(37586),S=r(17891),g=r(67626),Q=r(47332),w=r(33635),h=r(91872);let N=(()=>{class n{constructor(e){this.decimalPipe=e}transform(e,o,i,a="id",s="value"){switch(o){case"decimal":return e?this.decimalPipe.transform(e,"1.0-2"):"-";case"time":return e?h(e).format("DD/MM/YYYY HH:mm"):"-";case"pipe_custom":return i&&i(e,a,s);case"array":return Array.isArray(i)?this.processArrayArgs(e,i,a,s):(this.isObservable(i)&&i.subscribe(mt=>{this.processArrayArgs(e,mt,a,s)}),"-");default:return e||"-"}}isObservable(e){return!!e&&"function"==typeof e.subscribe}processArrayArgs(e,o,i="id",a="value"){return`<span class="${o?.find(s=>s[i]===e)?.class}">${o?.length&&o?.find(s=>s[i]===e)?.[a]||""}</span>`}static#t=this.\u0275fac=function(o){return new(o||n)(t.\u0275\u0275directiveInject(c.DecimalPipe,16))};static#e=this.\u0275pipe=t.\u0275\u0275definePipe({name:"dynamicPipe",type:n,pure:!0,standalone:!0})}return n})();var f=r(53019),E=r(59618),B=r(67786),F=r(53750),D=r(18019),x=r(24905),L=r(47809),P=r(54829),z=r(75150),b=r(71579);function M(n,l){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",22)(1,"button",23),t.\u0275\u0275listener("click",function(i){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(a.showModal(i))}),t.\u0275\u0275element(2,"span",24),t.\u0275\u0275text(3," Th\xeam m\u1edbi "),t.\u0275\u0275elementEnd()()}2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("action","add")("nzType","primary"))}function k(n,l){1&n&&t.\u0275\u0275elementContainer(0)}function j(n,l){if(1&n&&(t.\u0275\u0275elementStart(0,"div",22),t.\u0275\u0275template(1,k,1,0,"ng-container",25),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngTemplateOutlet",e.buttonTemplate)}}function J(n,l){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",26),t.\u0275\u0275listener("click",function(i){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(a.handlerExport(i))}),t.\u0275\u0275element(1,"span",27),t.\u0275\u0275text(2," Xu\u1ea5t file "),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("nzLoading",e.disableExport)("nzType","primary")}}function R(n,l){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"form",9),t.\u0275\u0275listener("keydown.enter",function(i){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.handlerSearch(i))}),t.\u0275\u0275elementStart(1,"div",10),t.\u0275\u0275element(2,"formly-form",11),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"div",12),t.\u0275\u0275template(4,M,4,2,"div",13),t.\u0275\u0275template(5,j,2,1,"div",13),t.\u0275\u0275template(6,J,3,2,"button",14),t.\u0275\u0275elementStart(7,"div",15)(8,"button",16),t.\u0275\u0275listener("click",function(i){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.handlerSearch(i))}),t.\u0275\u0275element(9,"i",17),t.\u0275\u0275text(10," T\xecm ki\u1ebfm "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(11,"button",18),t.\u0275\u0275listener("click",function(i){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.handlerReset(i))}),t.\u0275\u0275element(12,"i",19),t.\u0275\u0275text(13," L\xe0m m\u1edbi "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(14,"a",20),t.\u0275\u0275listener("click",function(i){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.handlerToggleCollapse(i))}),t.\u0275\u0275text(15),t.\u0275\u0275element(16,"span",21),t.\u0275\u0275elementEnd()()()()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("formGroup",e.form),t.\u0275\u0275advance(2),t.\u0275\u0275property("model",e.model)("fields",e.fields)("form",e.form)("options",e.options),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!e.ignoreButtonAdd&&!e.buttonTemplate),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.buttonTemplate),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.displayExportFile),t.\u0275\u0275advance(2),t.\u0275\u0275property("nzType","primary"),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate1(" ",e.options.formState.hidden?"Thu g\u1ecdn":"M\u1edf r\u1ed9ng"," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("nzType",e.options.formState.hidden?"up":"down")}}function K(n,l){if(1&n&&(t.\u0275\u0275elementStart(0,"th",28),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=l.$implicit;t.\u0275\u0275property("nzWidth",e.width||"140px"),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(e.title)}}function Y(n,l){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).index,o=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",((null==o.pagination?null:o.pagination.page)-1)*(o.pagination.limit||10)+e+1," ")}}const v=function(n,l,e,o,i){return[n,l,e,o,i]};function V(n,l){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"span",37),t.\u0275\u0275pipe(2,"dynamicPipe"),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit,o=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275classMap(e.class),t.\u0275\u0275property("innerHTML",t.\u0275\u0275pipeBindV(2,3,t.\u0275\u0275pureFunction5(9,v,o[e.key],e.pipe,e.pipeArgs,(null==e?null:e.keyField)||"id",(null==e?null:e.labelField)||"value")),t.\u0275\u0275sanitizeHtml)}}function H(n,l){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit,o=t.\u0275\u0275nextContext().$implicit,i=t.\u0275\u0275nextContext();t.\u0275\u0275classMap(e.class),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(i.lodash.get(o,e.key)||"-")}}function U(n,l){if(1&n&&(t.\u0275\u0275elementStart(0,"div",34),t.\u0275\u0275pipe(1,"dynamicPipe"),t.\u0275\u0275template(2,V,3,15,"ng-container",35),t.\u0275\u0275template(3,H,2,3,"ng-template",null,36,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275reference(4),o=t.\u0275\u0275nextContext().$implicit,i=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275property("nzTooltipTitle",t.\u0275\u0275pipeBindV(1,3,t.\u0275\u0275pureFunction5(9,v,i[o.key],o.pipe,o.pipeArgs,(null==o?null:o.keyField)||"id",(null==o?null:o.labelField)||"value"))),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",o.pipe)("ngIfElse",e)}}function G(n,l){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span"),t.\u0275\u0275text(2,"-"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd())}function O(n,l){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit,o=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(o[e.key])}}function Z(n,l){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div")(1,"a",38),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext().$implicit;return t.\u0275\u0275resetView(null==i?null:i.callback(a))}),t.\u0275\u0275template(2,G,3,0,"ng-container",35),t.\u0275\u0275template(3,O,2,1,"ng-template",null,39,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275reference(4),o=t.\u0275\u0275nextContext().$implicit,i=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("nzSize","default"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==i[o.key])("ngIfElse",e)}}function X(n,l){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"li",45),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext(3).$implicit;return t.\u0275\u0275resetView(i.callback(a))}),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.name," ")}}function $(n,l){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,X,2,1,"li",44),t.\u0275\u0275elementContainerEnd()),2&n){const e=l.$implicit,o=t.\u0275\u0275nextContext(3).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.condition&&e.condition(o))}}function W(n,l){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",40),t.\u0275\u0275text(2," H\xe0nh \u0111\u1ed9ng "),t.\u0275\u0275element(3,"span",41),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"nz-dropdown-menu",null,42)(6,"ul",43),t.\u0275\u0275template(7,$,2,1,"ng-container",6),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275reference(5),o=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("nzDropdownMenu",e),t.\u0275\u0275advance(6),t.\u0275\u0275property("ngForOf",o.actions)}}function q(n,l){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",46),t.\u0275\u0275element(2,"img",47),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit,o=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("alt",o.lodash.get(e,"medias[0].url")),t.\u0275\u0275property("nzFallback","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3PTWBSGcbGzM6GCKqlIBRV0dHRJFarQ0eUT8LH4BnRU0NHR0UEFVdIlFRV7TzRksomPY8uykTk/zewQfKw/9znv4yvJynLv4uLiV2dBoDiBf4qP3/ARuCRABEFAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghgg0Aj8i0JO4OzsrPv69Wv+hi2qPHr0qNvf39+iI97soRIh4f3z58/u7du3SXX7Xt7Z2enevHmzfQe+oSN2apSAPj09TSrb+XKI/f379+08+A0cNRE2ANkupk+ACNPvkSPcAAEibACyXUyfABGm3yNHuAECRNgAZLuYPgEirKlHu7u7XdyytGwHAd8jjNyng4OD7vnz51dbPT8/7z58+NB9+/bt6jU/TI+AGWHEnrx48eJ/EsSmHzx40L18+fLyzxF3ZVMjEyDCiEDjMYZZS5wiPXnyZFbJaxMhQIQRGzHvWR7XCyOCXsOmiDAi1HmPMMQjDpbpEiDCiL358eNHurW/5SnWdIBbXiDCiA38/Pnzrce2YyZ4//59F3ePLNMl4PbpiL2J0L979+7yDtHDhw8vtzzvdGnEXdvUigSIsCLAWavHp/+qM0BcXMd/q25n1vF57TYBp0a3mUzilePj4+7k5KSLb6gt6ydAhPUzXnoPR0dHl79WGTNCfBnn1uvSCJdegQhLI1vvCk+fPu2ePXt2tZOYEV6/fn31dz+shwAR1sP1cqvLntbEN9MxA9xcYjsxS1jWR4AIa2Ibzx0tc44fYX/16lV6NDFLXH+YL32jwiACRBiEbf5KcXoTIsQSpzXx4N28Ja4BQoK7rgXiydbHjx/P25TaQAJEGAguWy0+2Q8PD6/Ki4R8EVl+bzBOnZY95fq9rj9zAkTI2SxdidBHqG9+skdw43borCXO/ZcJdraPWdv22uIEiLA4q7nvvCug8WTqzQveOH26fodo7g6uFe/a17W3+nFBAkRYENRdb1vkkz1CH9cPsVy/jrhr27PqMYvENYNlHAIesRiBYwRy0V+8iXP8+/fvX11Mr7L7ECueb/r48eMqm7FuI2BGWDEG8cm+7G3NEOfmdcTQw4h9/55lhm7DekRYKQPZF2ArbXTAyu4kDYB2YxUzwg0gi/41ztHnfQG26HbGel/crVrm7tNY+/1btkOEAZ2M05r4FB7r9GbAIdxaZYrHdOsgJ/wCEQY0J74TmOKnbxxT9n3FgGGWWsVdowHtjt9Nnvf7yQM2aZU/TIAIAxrw6dOnAWtZZcoEnBpNuTuObWMEiLAx1HY0ZQJEmHJ3HNvGCBBhY6jtaMoEiJB0Z29vL6ls58vxPcO8/zfrdo5qvKO+d3Fx8Wu8zf1dW4p/cPzLly/dtv9Ts/EbcvGAHhHyfBIhZ6NSiIBTo0LNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiEC/wGgKKC4YMA4TAAAAABJRU5ErkJggg==")("nzSrc",o.lodash.get(e,"medias[0].url"))}}function tt(n,l){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",48),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext().$implicit;return t.\u0275\u0275resetView(i.callback(a))}),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}if(2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("nzType",e.buttonType)("nzDanger","danger"===e.buttonType),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.buttonText," ")}}function et(n,l){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",49),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext().$implicit;return t.\u0275\u0275resetView(i.callback(a))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}if(2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("nzType",e.iconType)}}function nt(n,l){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"nz-switch",50),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,o=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngModel",o[e.key])}}function ot(n,l){if(1&n&&(t.\u0275\u0275elementStart(0,"td",30),t.\u0275\u0275elementContainerStart(1,31),t.\u0275\u0275template(2,Y,2,1,"ng-container",32),t.\u0275\u0275template(3,U,5,15,"div",33),t.\u0275\u0275template(4,Z,5,3,"div",32),t.\u0275\u0275template(5,W,8,2,"ng-container",32),t.\u0275\u0275template(6,q,3,3,"ng-container",32),t.\u0275\u0275template(7,tt,3,3,"ng-container",32),t.\u0275\u0275template(8,et,2,1,"ng-container",32),t.\u0275\u0275template(9,nt,2,1,"ng-container",32),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementEnd()),2&n){const e=l.$implicit;t.\u0275\u0275styleProp("width",e.width||"auto"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngSwitch",e.type),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngSwitchCase","index"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngSwitchCase","text"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngSwitchCase","text-link"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngSwitchCase","action"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngSwitchCase","image"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngSwitchCase","button"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngSwitchCase","icon"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngSwitchCase","toggle")}}function it(n,l){if(1&n&&(t.\u0275\u0275elementStart(0,"tr"),t.\u0275\u0275template(1,ot,10,11,"td",29),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.columns)}}function at(n,l){if(1&n&&(t.\u0275\u0275elementStart(0,"div",51),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" T\u1ed5ng s\u1ed1 b\u1ea3n ghi: ",(null==e.pagination?null:e.pagination.total_rows)||0," ")}}function rt(n,l){1&n&&(t.\u0275\u0275elementStart(0,"div",52)(1,"span",53),t.\u0275\u0275text(2,"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u"),t.\u0275\u0275elementEnd()())}const lt=function(){return{x:"1500px",y:"calc(100vh - 260px)"}},ct=function(){return[10,20,30,40,50]};let st=(()=>{class n{constructor(){this.dataSet=[],this.isLoading=!0,this.options={},this.lodash=D,this.buttonTemplate=null,this.icomFilterChange=new t.EventEmitter,this.icomAdd=new t.EventEmitter,this.icomFunctionControl=new t.EventEmitter,this.IComMessageService=(0,t.inject)(F.Qi),this.cdr=(0,t.inject)(t.ChangeDetectorRef),this.columns=[]}ngOnInit(){this.limit=10,this.options={formState:{hidden:!0}},this.fetchData(1,this.limit||10),this.icomFunctionControl.emit({reset:()=>{this.fetchData()},addItem:e=>this.addItem(e),mergeItem:(e,o)=>this.mergeItem(e,o)})}fetchData(e=1,o=10){console.log(e),console.log(this.model),this.isLoading=!0;let i={limit:o,page:e,...this.model};this.model?.start_time&&(i={...i,start_time:this.model.start_time?h(this.model.start_time).format("YYYY-MM-DD"):""}),this.model?.end_time&&(i={...i,end_time:this.model.end_time?h(this.model.end_time).format("YYYY-MM-DD"):""}),console.log(i),this.loadFn&&(0,w.lastValueFrom)(this.loadFn(i)).then(a=>{if(a&&a.data&&a.data.items)return this.dataSet=a?.data?.items||[],this.functionParse&&(this.dataSet=this.functionParse(a.data.items)),this.pagination=a.data.pagination,this.isLoading=!1,void this.cdr.detectChanges();this.dataSet=[],this.pagination=a.data.pagination,this.isLoading=!1,this.cdr.detectChanges()}).catch(a=>{this.dataSet=[],this.pagination=void 0,this.isLoading=!1,this.cdr.detectChanges()})}onSearch(){this.fetchData(1),this.icomFilterChange.emit(this.model)}onPageChange(e){this.fetchData(e,this.pagination.limit)}handlerSearch(e){e.stopPropagation(),e.preventDefault(),this.fetchData(1,this.limit||10)}showModal(e){e.stopPropagation(),e.preventDefault(),this.icomAdd.emit(!0)}handlerReset(e){e.stopPropagation(),e.preventDefault(),this.model={},this.form.reset(),this.fetchData(1,this.limit||10)}handlerExport(e){e.stopPropagation(),e.preventDefault(),this.disableExport=!0,this.cdr.detectChanges(),this.functionExportFile(this.model,()=>{this.disableExport=!1,this.cdr.detectChanges()})}handlerToggleCollapse(e){e.stopPropagation(),e.preventDefault(),this.options.formState.hidden=!this.options.formState.hidden}onPageSizeChange(e){this.limit=e,this.fetchData(1,this.limit||10)}mergeItem(e,o){const i=this.dataSet.findIndex(a=>a[e]===o[e]);console.log(i),-1!==i?(this.dataSet[i]={...o},this.dataSet=[...this.dataSet],this.cdr.detectChanges()):this.addItem(o)}addItem(e){this.dataSet.unshift(e),this.cdr.detectChanges()}static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["icom-libs-core-components-table"]],inputs:{columns:"columns",loadFn:"loadFn",fields:"fields",model:"model",form:"form",functionParse:"functionParse",functionExportFile:"functionExportFile",limit:"limit",displayExportFile:"displayExportFile",ignoreButtonAdd:"ignoreButtonAdd",defaultExpand:"defaultExpand",disableExport:"disableExport",buttonTemplate:"buttonTemplate"},outputs:{icomFilterChange:"icomFilterChange",icomAdd:"icomAdd",icomFunctionControl:"icomFunctionControl"},standalone:!0,features:[t.\u0275\u0275ProvidersFeature([c.DecimalPipe]),t.\u0275\u0275StandaloneFeature],decls:14,vars:15,consts:[[1,"flex","flex-col","w-full","h-full"],["nz-form","","class","!p-4 bg-white border rounded-md",3,"formGroup","keydown.enter",4,"ngIf"],[1,"w-full","h-full","d-flex","mt-4","overflow-hidden"],["nzShowSizeChanger","",1,"h-full",3,"nzScroll","nzData","nzLoading","nzNoResult","nzTotal","nzPageSize","nzPageIndex","nzFrontPagination","nzPageSizeOptions","nzFooter","nzPageIndexChange","nzPageSizeChange"],["sectionTable",""],["class","text-xs font-semibold",3,"nzWidth",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["footerTemplate",""],["noResultTemplate",""],["nz-form","",1,"!p-4","bg-white","border","rounded-md",3,"formGroup","keydown.enter"],[1,"w-full","items-center"],[3,"model","fields","form","options"],["nz-row","",1,"flex","justify-between"],["class","",4,"ngIf"],["nz-button","",3,"nzLoading","nzType","click",4,"ngIf"],["nz-col","",1,"search-area","flex","items-center"],["nz-button","",1,"!flex","!items-center",3,"nzType","click"],["nz-icon","","nzType","search","nzTheme","outline"],["nz-button","",1,"ml-4","!flex","!items-center",3,"click"],["nz-icon","","nzTheme","outline","nzType","close-circle"],[1,"ml-4","items-center","flex",3,"click"],["nz-icon","",1,"ml-2",3,"nzType"],[1,""],["icomLibsHasPermissionDirective","","nz-button","",3,"action","nzType","click"],["nz-icon","","nzType","plus","nzTheme","outline"],[4,"ngTemplateOutlet"],["nz-button","",3,"nzLoading","nzType","click"],["nz-icon","","nzType","download"],[1,"text-xs","font-semibold",3,"nzWidth"],["class","text-xs !p-3",3,"width",4,"ngFor","ngForOf"],[1,"text-xs","!p-3"],[3,"ngSwitch"],[4,"ngSwitchCase"],["nz-tooltip","","class","overflow-hidden text-ellipsis whitespace-nowrap","class","multi-line",3,"nzTooltipTitle",4,"ngSwitchCase"],["nz-tooltip","",1,"multi-line",3,"nzTooltipTitle"],[4,"ngIf","ngIfElse"],["noPipe",""],[3,"innerHTML"],["nz-button","","nzType","link",3,"nzSize","click"],["notNullValue",""],["nz-button","","nz-dropdown","",3,"nzDropdownMenu"],["nz-icon","","nzType","down"],["menu","nzDropdownMenu"],["nz-menu",""],["nz-menu-item","",3,"click",4,"ngIf"],["nz-menu-item","",3,"click"],[1,"name-container","cursor-pointer",2,"width","80px","height","80px"],["nz-image","",2,"width","100%","height","100%","object-fit","contain","border","solid 1px #e7e7e7",3,"nzFallback","nzSrc","alt"],["nz-button","",3,"nzType","nzDanger","click"],["nz-icon","","nzTheme","outline",1,"cursor-pointer",3,"nzType","click"],[3,"ngModel"],[1,"footer-content"],[1,"flex","flex-col","items-center","justify-center"],[1,"block"]],template:function(o,i){if(1&o&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275template(1,R,17,11,"form",1),t.\u0275\u0275elementStart(2,"div",2)(3,"nz-table",3,4),t.\u0275\u0275listener("nzPageIndexChange",function(s){return i.onPageChange(s)})("nzPageSizeChange",function(s){return i.onPageSizeChange(s)}),t.\u0275\u0275elementStart(5,"thead")(6,"tr"),t.\u0275\u0275template(7,K,2,2,"th",5),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(8,"tbody"),t.\u0275\u0275template(9,it,2,1,"tr",6),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275template(10,at,2,1,"ng-template",null,7,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275template(12,rt,3,0,"ng-template",null,8,t.\u0275\u0275templateRefExtractor)),2&o){const a=t.\u0275\u0275reference(11);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.form),t.\u0275\u0275advance(2),t.\u0275\u0275property("nzScroll",t.\u0275\u0275pureFunction0(13,lt))("nzData",i.dataSet)("nzLoading",i.isLoading)("nzNoResult","Kh\xf4ng c\xf3 d\u1eef li\u1ec7u.")("nzTotal",null==i.pagination?null:i.pagination.total_rows)("nzPageSize",i.limit||10)("nzPageIndex",null==i.pagination?null:i.pagination.page)("nzFrontPagination",!1)("nzPageSizeOptions",t.\u0275\u0275pureFunction0(14,ct))("nzFooter",a),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngForOf",i.columns),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",i.dataSet)}},dependencies:[g.NzTableModule,g.NzTableComponent,g.NzTableCellDirective,g.NzThMeasureDirective,g.NzTheadComponent,g.NzTbodyComponent,g.NzTrDirective,y.FormlyNgZorroAntdModule,m.ReactiveFormsModule,m.\u0275NgNoValidate,m.NgControlStatus,m.NgControlStatusGroup,m.FormGroupDirective,p.FormlyModule,p.FormlyForm,_.NzButtonModule,_.NzButtonComponent,L.\u0275NzTransitionPatchDirective,P.NzWaveDirective,C.NzFormModule,z.NzColDirective,z.NzRowDirective,C.NzFormDirective,c.NgForOf,c.NgSwitch,c.NgSwitchCase,Q.NzTypographyModule,A.NzIconModule,A.NzIconDirective,I.NzModalModule,S.NzSelectModule,m.FormsModule,m.NgModel,d.NzDropDownModule,b.NzMenuDirective,b.NzMenuItemComponent,d.NzDropDownDirective,d.NzDropdownMenuComponent,d.NzDropdownButtonDirective,c.NgIf,N,f.NzSwitchModule,f.NzSwitchComponent,E.NzToolTipModule,E.NzTooltipDirective,B.E,c.NgTemplateOutlet,x.NzImageModule,x.NzImageDirective],styles:["nz-table[_ngcontent-%COMP%]{table:has(nz-embed-empty) {height: 100%;} .multi-line {display: -webkit-box; line-height: 24px; -webkit-box-orient: vertical; -webkit-line-clamp: 3; overflow: hidden; text-overflow: ellipsis;} overflow: hidden;nz-spin {height: 100%; .ant-spin-container {height: calc(100% - 50px) !important; .ant-table {height: 100%; .ant-table-container {height: 100%; overflow: hidden; .ant-table-body {overflow-x: scroll; overflow-x: hidden; height: calc(100% - 50px);}}}}}}"]})}return n})()},67786:(T,u,r)=>{r.d(u,{E:()=>m});var c=r(36151),t=r(248);let m=(()=>{class p{constructor(_,d){this.el=_,this.permissionService=d}ngOnInit(){this.permissionService.getPermission(this.action)||this.el.nativeElement.style.setProperty("display","none","important")}static#t=this.\u0275fac=function(d){return new(d||p)(c.\u0275\u0275directiveInject(c.ElementRef),c.\u0275\u0275directiveInject(t.$))};static#e=this.\u0275dir=c.\u0275\u0275defineDirective({type:p,selectors:[["","icomLibsHasPermissionDirective",""]],inputs:{action:"action"},standalone:!0})}return p})()}}]);