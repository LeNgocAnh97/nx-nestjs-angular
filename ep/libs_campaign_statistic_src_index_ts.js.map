{"version":3,"file":"libs_campaign_statistic_src_index_ts.js","mappings":"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","names":["i0","$event","_r2","ctx_r1","handlerClick","_c0","ctx_r0","filter","get","ranges","dayjs","utc","IcomLibsCampaignStatisticNavComponent","constructor","this","getStartOfWeek","Date","getStartOfCurrentMonth","getStartOfLastMonth","FormGroup","date_range","FormControl","icomFilter","EventEmitter","IComMessageService","inject","campaignService","IComLibsServicesProjectCampaignStatisticService","ngOnInit","start","end","value","emit","start_time","format","end_time","endOf","valueChanges","pipe","subscribe","length","console","log","currentDate","dayOfWeek","getDay","setHours","getFullYear","getMonth","getEndOfLastMonth","startOfCurrentMonth","getTime","e","_this","_asyncToGenerator","stopPropagation","preventDefault","xhr","XMLHttpRequest","open","downloadFileTransactionDetail","responseType","token","localStorage","getItem","includes","replace","setRequestHeader","onload","status","blob","Blob","response","type","downloadUrl","URL","createObjectURL","a","document","createElement","contentDisposition","getResponseHeader","filename","matches","exec","href","download","body","appendChild","click","revokeObjectURL","removeChild","showAlertMessageDone","onerror","error","parseDateRangeDayMonthYearToTwoKey","send","JSON","stringify","static","t","core","Xpm","selectors","inputs","label","ignoreFilter","outputs","standalone","features","decls","vars","consts","template","rf","ctx","IcomLibsCampaignStatisticNavComponent_div_4_Template","FormsModule","i1","ReactiveFormsModule","NzDatePickerModule","i2","NgIf","NzButtonModule","i3","i4","i5","NzIconModule","i6","NzDividerModule","NzSelectModule","encapsulation","BaseCampaignStatisticAbstractComponent","modalService","NzModalService","viewContainerRef","ViewContainerRef","lG2","chart","annotations","colors","dataLabels","series","stroke","labels","legend","fill","tooltip","plotOptions","responsive","xaxis","yaxis","grid","states","title","subtitle","theme","IComLibsCampaignStatisticTotalComponent","super","changeDetectorRef","ChangeDetectorRef","getDataChart","result","lastValueFrom","fetchDataByType","count","data","detectChanges","err","path","Error","getListApiStatisticByPathCampaign","DecimalPipe","changeDetection","item_r4","code","name","dateRange","chartConfig_r6","MissionsComponent_ng_container_7_div_1_Template","ctx_r3","chartConfigs","MissionsComponent","nzModalData","NZ_MODAL_DATA","missions","cdr","id","getListMissionByByCampaign","campaign_id","handlerMissionChange","find","item","selectedMission","obsArray","splitStringByComma","map","res","isLoading","combineLatest","push","configureBarChart","lineChart","barChart","rawData","configureSeries","height","stacked","determineChartType","toolbar","show","categories","date","enabled","x","configureLineChart","text","split","s","trim","first","other","items","typeChart","seriesData","forEach","day","dateIndex","y","Object","keys","MissionsComponent_ng_container_2_Template","MissionsComponent_div_5_Template","MissionsComponent_nz_spin_6_Template","MissionsComponent_ng_container_7_Template","NgApexchartsModule","NgFor","NzSpinModule","config","IComLibsCampaignStatisticTotalSuccessFailedComponent","ngZone","processBuildChart","total_reward_point","campaign_name","ids","width","events","dataPointSelection","event","chartContext","handlerDataPointClick","dataPointIndex","getTotalRewardPointGroup","handlerFilter","modal","create","nzTitle","nzContent","nzMaskClosable","nzClosable","nzWidth","nzZIndex","nzData","nzOnCancel","run","destroy","nzFooter","onClick","setTimeout","containerInstance","IComLibsCampaignStatisticTotalSuccessFailedComponent_nz_spin_2_Template","IComLibsCampaignStatisticTotalSuccessFailedComponent_apx_chart_3_Template","SuccessCampaignComponent","c","count_user","count_user_reward","fontFamily","w","getCountCustomerByCampaign","SuccessCampaignComponent_nz_spin_2_Template","SuccessCampaignComponent_apx_chart_3_Template","IComLibsCampaignStatisticComponent_gridster_item_2_ng_container_3_Template","IComLibsCampaignStatisticComponent_gridster_item_2_ng_container_4_Template","IComLibsCampaignStatisticComponent_gridster_item_2_ng_container_5_Template","IComLibsCampaignStatisticComponent_gridster_item_2_ng_container_6_Template","IComLibsCampaignStatisticComponent_gridster_item_2_ng_container_7_Template","item_r1","component","IComLibsCampaignStatisticComponent","dashboard","options","gridType","cols","rows","IComLibsCampaignStatisticComponent_gridster_item_2_Template","routes","breadcrumb","link","IComLibsCampaignStatisticModule","oAB","cJS","provide","OverlayContainer","useClass","FullscreenOverlayContainer","imports","CommonModule","RouterModule","forChild","FormlyModule","GridsterModule"],"sourceRoot":"webpack:///","sources":["./libs/campaign/statistic/src/list/base/nav/nav.component.html","./libs/campaign/statistic/src/list/base/nav/nav.component.ts","./libs/campaign/statistic/src/list/base/base.abstract.component.ts","./libs/campaign/statistic/src/list/total/total.component.ts","./libs/campaign/statistic/src/list/total/total.component.html","./libs/campaign/statistic/src/list/missions/missions.component.html","./libs/campaign/statistic/src/list/missions/missions.component.ts","./libs/campaign/statistic/src/list/point-by-campaign/point-by-campaign.component.html","./libs/campaign/statistic/src/list/point-by-campaign/point-by-campaign.component.ts","./libs/campaign/statistic/src/list/success-campaign/success-campaign.component.html","./libs/campaign/statistic/src/list/success-campaign/success-campaign.component.ts","./libs/campaign/statistic/src/list/list.component.html","./libs/campaign/statistic/src/list/list.component.ts","./libs/campaign/statistic/src/list/list.module.ts"],"sourcesContent":["<div class=\"flex w-full h-full justify-between\">\n  <div class=\"flex flex-col\">\n    <span class=\"text-base\">{{ label }}</span>\n  </div>\n\n  <div *ngIf=\"!ignoreFilter\" class=\"flex\">\n    <button class=\"mr-2\" nz-button [nzSize]=\"'default'\" nzShape=\"round\" (click)=\"handlerClick($event)\">\n      <span nz-icon nzType=\"file-excel\" nzTheme=\"outline\"></span>\n      <span nz-icon nzType=\"download\" nzTheme=\"outline\"></span>\n    </button>\n    <nz-range-picker\n      [nzPlaceHolder]=\"['dd/mm/yyyy', 'dd/mm/yyyy']\"\n      [formControl]=\"$any(filter.get('date_range'))\"\n      [nzRanges]=\"ranges\"\n    >\n    </nz-range-picker>\n  </div>\n</div>","import { NgIf } from '@angular/common';\nimport { Component, EventEmitter, Input, OnInit, Output, inject } from '@angular/core';\nimport {\n  FormControl,\n  FormGroup,\n  FormsModule,\n  ReactiveFormsModule,\n} from '@angular/forms';\nimport { NzButtonModule } from 'ng-zorro-antd/button';\nimport { NzDatePickerModule } from 'ng-zorro-antd/date-picker';\nimport { NzIconModule } from 'ng-zorro-antd/icon';\nimport { NzDividerModule } from 'ng-zorro-antd/divider';\nimport { NzSelectModule } from 'ng-zorro-antd/select';\nimport * as dayjs from 'dayjs';\nimport { IComLibsServicesProjectCampaignStatisticService } from '@icom/services/projects';\nimport { IComMessageService } from '@icom/services/common';\nimport * as utc from \"dayjs/plugin/utc\"\nimport { parseDateRangeDayMonthYearToTwoKey } from '@icom/defines';\n\ndayjs.extend(utc);\n\n@Component({\n  // eslint-disable-next-line @angular-eslint/component-selector\n  selector: 'icom-libs-campaign-statistic-nav',\n  templateUrl: './nav.component.html',\n  standalone: true,\n  imports: [\n    FormsModule,\n    ReactiveFormsModule,\n    NzDatePickerModule,\n    NgIf,\n    NzButtonModule,\n    NzIconModule,\n    NzDividerModule,\n    ReactiveFormsModule,\n    NzSelectModule,\n  ],\n})\nexport class IcomLibsCampaignStatisticNavComponent implements OnInit {\n  protected ranges = {\n    'Đầu tuần này': [this.getStartOfWeek(), new Date()],\n    'Đầu tháng này': [this.getStartOfCurrentMonth(), new Date()],\n    'Đầu tháng trước': [this.getStartOfLastMonth(), new Date()],\n  };\n\n  protected filter: FormGroup = new FormGroup({\n    date_range: new FormControl([this.getStartOfCurrentMonth(), new Date()]),\n  });\n\n  @Input() label!: string;\n  @Input() ignoreFilter: boolean | undefined;\n\n  @Output() icomFilter: EventEmitter<any> = new EventEmitter();\n\n  protected IComMessageService = inject(IComMessageService);\n  protected campaignService = inject(IComLibsServicesProjectCampaignStatisticService);\n\n  ngOnInit() {\n    // eslint-disable-next-line no-unsafe-optional-chaining\n    const [start, end] = this.filter?.get('date_range')?.value;\n    this.icomFilter.emit({\n      start_time: dayjs(start).utc().format(),\n      end_time: dayjs(end).endOf('day').utc().format()\n    });\n\n    this.filter.valueChanges.pipe().subscribe((value) => {\n      if (!value.date_range || !value.date_range?.length) {\n        this.icomFilter.emit({ start_time: '', end_time: '' });\n        return;\n      }\n      const [start, end] = value.date_range;\n      console.log(end);\n      this.icomFilter.emit({\n        start_time: dayjs(start).utc().format(),\n        end_time: dayjs(end).endOf('day').utc().format()\n      });\n    });\n  }\n\n  protected getStartOfWeek(): Date {\n    const currentDate = new Date();\n    const dayOfWeek = currentDate.getDay() || 7; // Chủ nhật là 0, chuyển thành 7\n    if (dayOfWeek !== 1) {\n      currentDate.setHours(-24 * (dayOfWeek - 1)); // Lùi lại đến thứ Hai\n    }\n    return currentDate;\n  }\n\n  protected getStartOfCurrentMonth(): Date {\n    const currentDate = new Date();\n    return new Date(currentDate.getFullYear(), currentDate.getMonth(), 1);\n  }\n\n  protected getStartOfLastMonth(): Date {\n    const currentDate = new Date();\n    return new Date(currentDate.getFullYear(), currentDate.getMonth() - 1, 1);\n  }\n\n  protected getEndOfLastMonth(): Date {\n    const startOfCurrentMonth = this.getStartOfCurrentMonth();\n    return new Date(startOfCurrentMonth.getTime() - 86400000); // Lùi 1 ngày\n  }\n\n  protected async handlerClick(e: Event) {\n    e.stopPropagation();\n    e.preventDefault();\n\n    const xhr = new XMLHttpRequest();\n\n    xhr.open('POST', this.campaignService.downloadFileTransactionDetail(), true);\n    xhr.responseType = 'blob';\n    let token = localStorage?.getItem('token');\n    while (token?.includes('\"')) {\n      token = token?.replace('\"', \"\");\n    }\n    xhr.setRequestHeader(\"Authorization\", `Bearer ${token}`);\n    xhr.onload = () => {\n      if (xhr.status === 200) {\n        const blob = new Blob([xhr.response], { type: 'application/octet-stream' });\n        const downloadUrl = URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        const contentDisposition = xhr.getResponseHeader('Content-Disposition');\n        console.log(contentDisposition);\n        let filename = 'detail_transaction.xlsx'; // Tên tệp mặc định\n\n        if (contentDisposition) {\n          const filenameRegex = /filename[^;=\\n]*=((['\"]).*?\\2|[^;\\n]*)/;\n          const matches = filenameRegex.exec(contentDisposition);\n          if (matches != null && matches[1]) {\n            filename = matches[1].replace(/['\"]/g, '');\n          }\n        }\n\n        a.href = downloadUrl;\n        a.download = filename;  // Tên tệp xuất\n        document.body.appendChild(a);\n        a.click();\n\n        URL.revokeObjectURL(downloadUrl);\n        document.body.removeChild(a);\n        this.IComMessageService.showAlertMessageDone('Tải file thành công.');\n      } else {\n        this.IComMessageService.showAlertMessageDone('Tải file thất bại.');\n      }\n    };\n\n    xhr.onerror = function () {\n      console.error('Request error');\n    };\n\n    xhr.setRequestHeader('Content-Type', 'application/json');\n    parseDateRangeDayMonthYearToTwoKey(this.filter.value);\n    xhr.send(JSON.stringify(this.filter.value));\n  }\n}\n","import { ChangeDetectorRef, Directive, Input, ViewContainerRef, inject } from '@angular/core';\nimport { ApexAnnotations, ApexAxisChartSeries, ApexChart, ApexDataLabels, ApexFill, ApexGrid, ApexLegend, ApexNonAxisChartSeries, ApexPlotOptions, ApexResponsive, ApexStates, ApexStroke, ApexTheme, ApexTitleSubtitle, ApexTooltip, ApexXAxis, ApexYAxis } from 'ng-apexcharts';\nimport { IComLibsServicesProjectCampaignStatisticService } from '@icom/services/projects';\nimport { NzModalService } from 'ng-zorro-antd/modal';\n@Directive()\nexport abstract class BaseCampaignStatisticAbstractComponent {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  @Input() filter!: any;\n\n  @Input() chart!: ApexChart ;\n  @Input() annotations!: ApexAnnotations  ;\n  @Input() colors!: string[]  ;\n  @Input() dataLabels!: ApexDataLabels  ;\n  @Input() series!: ApexAxisChartSeries | ApexNonAxisChartSeries  ;\n  @Input() stroke!: ApexStroke  ;\n  @Input() labels!: string[]  ;\n  @Input() legend!: ApexLegend  ;\n  @Input() fill!: ApexFill  ;\n  @Input() tooltip!: ApexTooltip  ;\n  @Input() plotOptions!: ApexPlotOptions  ;\n  @Input() responsive!: ApexResponsive[]  ;\n  @Input() xaxis!: ApexXAxis  ;\n  @Input() yaxis!: ApexYAxis | ApexYAxis[]  ;\n  @Input() grid!: ApexGrid  ;\n  @Input() states!: ApexStates  ;\n  @Input() title!: string | undefined  ;\n  @Input() subtitle!: ApexTitleSubtitle ;\n  @Input() theme!: ApexTheme  ;\n\n\n  protected modalService = inject(NzModalService);\n  protected viewContainerRef = inject(ViewContainerRef);\n  protected campaignService = inject(IComLibsServicesProjectCampaignStatisticService);\n\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, Input, OnChanges, OnInit, SimpleChanges, inject } from '@angular/core';\nimport { Observable, lastValueFrom } from 'rxjs';\nimport { BaseCampaignStatisticAbstractComponent } from '../base/base.abstract.component';\nimport { IcomLibsCampaignStatisticNavComponent } from '../base/nav/nav.component';\nimport { DecimalPipe } from '@angular/common';\n\n@Component({\n  // eslint-disable-next-line @angular-eslint/component-selector\n  selector: 'icom-libs-campaign-statistic-total',\n  templateUrl: './total.component.html',\n  standalone: true,\n  imports: [IcomLibsCampaignStatisticNavComponent, DecimalPipe],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class IComLibsCampaignStatisticTotalComponent extends BaseCampaignStatisticAbstractComponent implements OnInit {\n  protected count!: number;\n\n  @Input() ignoreFilter: boolean | undefined;\n  @Input() type: string | undefined;\n\n  protected changeDetectorRef = inject(ChangeDetectorRef);\n  \n  constructor() {\n    super();\n  }\n\n  ngOnInit() {\n    this.getDataChart();\n  }\n\n  protected async getDataChart() {\n    try {\n      const result = await lastValueFrom(this.fetchDataByType(this.type || ''));\n      this.count = result?.data || 0;\n      this.changeDetectorRef?.detectChanges();\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  private fetchDataByType(type: string): Observable<any> {\n    let path: string;\n    switch (type) {\n      case 'total_campaign_active':\n        path = '/count-active';\n        break;\n      case 'total_point_30_day':\n        path = '/total-rewardpoint';\n        break;\n      case 'total_customer_join_30_day':\n        path = '/count-user';\n        break;\n      default:\n        throw new Error('Invalid type for API call');\n    }\n    return this.campaignService.getListApiStatisticByPathCampaign(path);\n  }\n}\n","<div\n\tclass=\"flex flex-col w-full h-full p-4\"\n\tstyle=\"background-color: #875fc0; background-image: linear-gradient(315deg, #875fc0 0%, #5346ba 74%)\"\n>\n\t<icom-libs-campaign-statistic-nav\n\t\t[ignoreFilter]=\"ignoreFilter\"\n\t\t[label]=\"title || ''\"\n\t\tclass=\" flex text-white\"\n\t></icom-libs-campaign-statistic-nav>\n\t<div class=\"flex flex-col h-full w-full items-center justify-center\">\n\t\t<div class=\"mt-4\">\n\t\t\t<span class=\"text-white text-xl\"> {{ count || 0 | number }} </span>\n\t\t</div>\n\t</div>\n</div>\n","<div class=\"flex flex-col w-full h-full\">\n  <nz-select\n    nzPlaceHolder=\"Chọn nhiệm vụ\"\n    [(ngModel)]=\"selectedMission\"\n    (ngModelChange)=\"handlerMissionChange()\"\n  >\n    <ng-container *ngFor=\"let item of missions\">\n      <nz-option [nzValue]=\"item?.code\" [nzLabel]=\"item?.name\"></nz-option>\n    </ng-container>\n  </nz-select>\n\n  <div class=\"flex mt-4 w-full h-full justify-between\">\n    <div class=\"flex flex-col\"></div>\n\n    <div *ngIf=\"chartConfigs && chartConfigs?.length\" class=\"flex\">\n      <nz-range-picker\n        [nzPlaceHolder]=\"['dd/mm/yyyy', 'dd/mm/yyyy']\"\n        [formControl]=\"dateRange\"\n        [nzPlacement]=\"'topRight'\"\n      >\n      </nz-range-picker>\n    </div>\n  </div>\n\n  <nz-spin\n    *ngIf=\"isLoading\"\n    class=\"w-full h-full flex justify-center items-center\"\n    nzSimple\n    [nzSize]=\"'large'\"\n  ></nz-spin>\n\n  <ng-container *ngIf=\"!isLoading\">\n    <div class=\"w-full h-full mt-4\" *ngFor=\"let chartConfig of chartConfigs\">\n      <nz-divider class=\"my-2\"></nz-divider>\n      <span class=\"text-xs font-semibold\">{{ chartConfig.label }}</span>\n      <apx-chart\n        class=\"w-full h-60\"\n        [series]=\"chartConfig.series\"\n        [chart]=\"chartConfig.chart\"\n        [xaxis]=\"chartConfig.xaxis\"\n        [labels]=\"chartConfig.labels\"\n        [stroke]=\"chartConfig.stroke\"\n        [title]=\"chartConfig.title\"\n        [dataLabels]=\"chartConfig.dataLabels\"\n        [yaxis]=\"chartConfig.yaxis\"\n      ></apx-chart>\n    </div>\n  </ng-container>\n \n</div>\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { IComLibsServicesProjectCampaignStatisticService } from '@icom/services/projects';\nimport { NgFor, NgIf } from '@angular/common';\nimport { ChangeDetectionStrategy, ChangeDetectorRef, Component, OnInit, inject } from '@angular/core';\nimport { FormControl, FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { NgApexchartsModule } from 'ng-apexcharts';\nimport { NZ_MODAL_DATA } from 'ng-zorro-antd/modal';\nimport { NzSelectModule } from 'ng-zorro-antd/select';\nimport { combineLatest, lastValueFrom, map } from 'rxjs';\nimport { NzDatePickerModule } from 'ng-zorro-antd/date-picker';\nimport { NzButtonModule } from 'ng-zorro-antd/button';\nimport * as dayjs from 'dayjs';\nimport { NzDividerModule } from 'ng-zorro-antd/divider';\nimport * as utc from \"dayjs/plugin/utc\"\nimport { NzSpinModule } from 'ng-zorro-antd/spin';\n\ndayjs.extend(utc);\n@Component({\n  selector: 'app-missions',\n  templateUrl: './missions.component.html',\n  standalone: true,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  imports: [\n    NzSelectModule,\n    FormsModule,\n    NgApexchartsModule,\n    NgIf,\n    NzDatePickerModule,\n    ReactiveFormsModule,\n    FormsModule,\n    NzButtonModule,\n    NzDividerModule,\n    NgFor,\n    NzSpinModule\n  ],\n})\nexport class MissionsComponent implements OnInit {\n  protected readonly nzModalData = inject(NZ_MODAL_DATA);\n  protected selectedMission!: string;\n  protected chartConfigs: any[] = [];\n  protected missions: any[] = [];\n  protected filter: any;\n  protected isLoading!: boolean;\n  protected dateRange = new FormControl([this.getStartOfCurrentMonth(), new Date()]);\n  protected cdr = inject(ChangeDetectorRef);\n  protected campaignService = inject(IComLibsServicesProjectCampaignStatisticService);\n\n  async ngOnInit() {\n    const id = this.nzModalData.id || '';\n    try {\n      const result = await lastValueFrom(this.campaignService.getListMissionByByCampaign({ campaign_id: id }));\n      this.missions = result?.data;\n    } catch (err) {\n      this.missions = [];\n    }\n\n    this.dateRange.valueChanges.pipe().subscribe((value) => {\n      if (!value || !value?.length) {\n        this.filter = { start_time: '', end_time: '' };\n        this.handlerMissionChange();\n        return;\n      }\n      const [start, end] = value;\n\n      this.filter = {\n        start_time: dayjs(start).utc().format(),\n        end_time: dayjs(end).endOf('day').utc().format()\n      };\n      this.handlerMissionChange();\n    });\n  }\n\n  protected handlerMissionChange() {\n    const result = this.missions.find(item => item.code === this.selectedMission);\n    this.chartConfigs = [];\n    const pathsArray = this.splitStringByComma(result.path);\n    const obsArray = pathsArray.map((path) => {\n      return this.campaignService.getListApiStatisticByPathCampaign(`/mission-list/${path}`, { campaign_id: this.nzModalData.id, ...this.filter })\n        .pipe(\n          map(res => res.data)\n        );\n    });\n    switch (this.selectedMission) {\n      case 'moi_ban_be':\n        this.isLoading = true;\n        combineLatest(obsArray).subscribe((result: any[]) => {\n          const [data] = result;\n          this.chartConfigs.push(this.configureBarChart(data, 'Số khách tham gia, Số người được mời'));\n          this.isLoading = false;\n          this.cdr.detectChanges();\n        }, (err: any) => {\n          this.isLoading = false;\n          this.cdr.detectChanges();\n        });\n        break;\n\n      case 'khao_sat':\n      case 'doi_uu_dai':\n      case 'xem_uu_dai':\n        this.isLoading = true;\n        combineLatest(obsArray).subscribe((result: any[]) => {\n          const [lineChart, barChart] = result;\n          this.chartConfigs.push(this.configureBarChart(lineChart, 'Số khách tham gia'));\n          this.chartConfigs.push(this.configureBarChart(barChart, 'Số điểm ghi nhận'));\n          this.isLoading = false;\n          this.cdr.detectChanges();\n        }, (err: any) => {\n          this.isLoading = false;\n          this.cdr.detectChanges();\n        });\n        break;\n      case 'mua_sam':\n        this.isLoading = true;\n        combineLatest(obsArray).subscribe((result: any[]) => {\n          const [lineChart, barChart] = result;\n          this.chartConfigs.push(this.configureBarChart(lineChart, 'Số khách tham gia, Số lượt order'));\n          this.chartConfigs.push(this.configureBarChart(barChart, 'Tổng doanh số , Doanh số trung bình theo khách tham gia'));\n          this.isLoading = false;\n          this.cdr.detectChanges();\n        }, (err: any) => {\n          this.isLoading = false;\n          this.cdr.detectChanges();\n        });\n        break;\n\n      case 'nap_the':\n        this.isLoading = true;\n        combineLatest(obsArray).subscribe((result: any[]) => {\n          const [lineChart, barChart] = result;\n          this.chartConfigs.push(this.configureBarChart(lineChart, 'Số lượt nạp thẻ, Số khách nạp thẻ'));\n          this.chartConfigs.push(this.configureBarChart(barChart, 'Doanh thu nạp thẻ'));\n          this.isLoading = false;\n          this.cdr.detectChanges();\n        }, (err: any) => {\n          this.isLoading = false;\n          this.cdr.detectChanges();\n        });\n        break;\n      case 'check_in':\n        this.isLoading = true;\n        combineLatest(obsArray).subscribe((result: any[]) => {\n          const [lineChart, barChart] = result;\n          this.chartConfigs.push(this.configureBarChart(lineChart, 'Số khách tham gia'));\n          this.chartConfigs.push(this.configureBarChart(barChart, 'Số voucher đã thưởng'));\n          this.isLoading = false;\n          this.cdr.detectChanges();\n        }, (err: any) => {\n          this.isLoading = false;\n          this.cdr.detectChanges();\n        });\n        break;\n\n      case 'mo_hop_qua':\n        this.isLoading = true;\n        combineLatest(obsArray).subscribe((result: any[]) => {\n          const [data] = result;\n          this.chartConfigs.push(this.configureBarChart(data, 'Mở hộp quà'));\n          this.isLoading = false;\n          this.cdr.detectChanges();\n        }, (err: any) => {\n          this.isLoading = false;\n          this.cdr.detectChanges();\n        });\n        break;\n      default:\n        console.log(`Chiến dịch ${this.selectedMission} không được hỗ trợ hoặc không xác định.`);\n    }\n  }\n\n  private configureBarChart(data: any[] = [], title: string) {\n    const rawData = data;\n    return {\n      series: this.configureSeries(rawData, 'column'),\n      chart: {\n        height: 350,\n        type: 'bar',\n        stacked: this.determineChartType(rawData),\n        toolbar: {\n          show: false\n        }\n      },\n      xaxis: {\n        categories: rawData.map(item => item.date)\n      },\n      label: title,\n      dataLabels: {\n        enabled: false\n      },\n      tooltip: {\n        x: {\n          format: 'dd MMM yyyy'\n        }\n      }\n    };\n  }\n\n  private configureLineChart(data: any[] = [], title: string) {\n    const rawData = data;\n\n    return {\n      series: this.configureSeries(rawData, 'line'),\n      chart: {\n        height: 350,\n        type: 'line',\n        stacked: this.determineChartType(rawData),\n      },\n      title: {\n        text: title\n      },\n      xaxis: {\n        categories: rawData.map(item => item.date)\n      },\n      dataLabels: {\n        enabled: false\n      },\n      tooltip: {\n        x: {\n          format: 'dd MMM yyyy'\n        }\n      }\n    };\n  }\n\n  private splitStringByComma(path: string): string[] {\n    return path.split(',').map(s => s.trim());\n  }\n\n  private determineChartType(data: any[]): boolean {\n    const [first, ...other] = data;\n    other;\n    if (first && first?.items?.[0]?.type === first?.items?.[1]?.type) {\n      return true;\n    }\n    return false;\n  }\n\n  private configureSeries(data: any[], typeChart: string) {\n    const seriesData: any = {};\n\n    data.forEach(day => {\n      (day.items as any[]).forEach(item => {\n        if (!seriesData[item.name]) {\n          seriesData[item.name] = [];\n        }\n      });\n    });\n\n    data.forEach(day => {\n      const dateIndex = day.date;\n\n      (day.items as any[]).forEach(item => {\n        seriesData[item.name].push({\n          x: dateIndex,\n          y: item?.value || item?.count,\n        });\n      });\n    });\n\n    const series = Object.keys(seriesData).map(type => ({\n      data: seriesData[type],\n      type: typeChart,\n      name: type,\n    }));\n\n    return series;\n  }\n\n  protected getStartOfCurrentMonth(): Date {\n    const currentDate = new Date();\n    return new Date(currentDate.getFullYear(), currentDate.getMonth(), 1);\n  }\n\n}\n","<div class=\"flex flex-col w-full h-full p-4\">\n  <icom-libs-campaign-statistic-nav\n    [label]=\"'Tổng số điểm thưởng theo chiến dịch'\"\n    class=\"text-xs font-semibold\"\n    (icomFilter)=\"handlerFilter($event)\"\n  ></icom-libs-campaign-statistic-nav>\n\n  <nz-spin\n    *ngIf=\"isLoading\"\n    class=\"w-full h-full flex justify-center items-center\"\n    nzSimple\n    [nzSize]=\"'large'\"\n  ></nz-spin>\n\n  <apx-chart\n    *ngIf=\"!isLoading && config\"\n    class=\"flex flex-col w-full h-full overflow-hidden\"\n    [series]=\"config.series\"\n    [chart]=\"config.chart\"\n    [labels]=\"config.labels\"\n    [responsive]=\"config.responsive\"\n    [title]=\"config.title\"\n  ></apx-chart>\n</div>\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { ChangeDetectionStrategy, ChangeDetectorRef, Component, NgZone, inject } from '@angular/core';\nimport { NgApexchartsModule } from 'ng-apexcharts';\nimport { IcomLibsCampaignStatisticNavComponent } from '../base/nav/nav.component';\n\nimport { NgIf } from '@angular/common';\nimport { lastValueFrom } from 'rxjs';\nimport { BaseCampaignStatisticAbstractComponent } from '../base/base.abstract.component';\nimport { IConfigLineChartByDay } from '../defines/config.define';\nimport { NzModalRef } from 'ng-zorro-antd/modal';\nimport { MissionsComponent } from '../missions/missions.component';\nimport { NzSpinModule } from 'ng-zorro-antd/spin';\n\n@Component({\n  // eslint-disable-next-line @angular-eslint/component-selector\n  selector: 'icom-libs-campaign-statistic-point-by-campaign',\n  templateUrl: './point-by-campaign.component.html',\n  standalone: true,\n  imports: [\n    NzSpinModule,\n    NgIf, IcomLibsCampaignStatisticNavComponent, NgApexchartsModule],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class IComLibsCampaignStatisticTotalSuccessFailedComponent extends BaseCampaignStatisticAbstractComponent {\n  protected config!: IConfigLineChartByDay | any;\n  protected isLoading!: boolean;\n\n  protected changeDetectorRef = inject(ChangeDetectorRef);\n  \n  constructor( private ngZone: NgZone){\n    super();\n  }\n\n  protected processBuildChart(data: any[]) {\n    const series = data.map(item => item.total_reward_point) || [];\n    const labels = data.map(item => item.campaign_name)  || [];\n    const ids = data.map(item => item.campaign_id)  || [];\n    this.config = {\n      series: series,\n      chart: {\n        type: 'pie',\n        width: '100%',\n        height: '100%',\n        events: {\n          dataPointSelection: (event: any, chartContext: any, config: any) => {\n            event.stopPropagation();\n            event.preventDefault();\n            this.handlerDataPointClick(ids[config.dataPointIndex]);\n          }\n        }\n      },\n      labels: labels,\n    };\n    this.changeDetectorRef.detectChanges();\n  }\n\n  protected async getDataChart() {\n    try {\n      this.isLoading = true;\n      const result = await lastValueFrom(this.campaignService.getTotalRewardPointGroup(this.filter));\n      this.processBuildChart(result?.data);\n      this.changeDetectorRef.detectChanges();\n    } catch (err) {\n      console.log(err);\n    } finally {\n      this.isLoading = false;\n      this.changeDetectorRef.detectChanges();\n    }\n  }\n\n  protected handlerFilter(event: any) {\n    this.filter = event;\n    this.getDataChart();\n  }\n\n  protected handlerDataPointClick(data: any) {\n    console.log(this.viewContainerRef);\n    const modal: NzModalRef<MissionsComponent> = this.modalService.create<MissionsComponent>({\n      nzTitle: 'Chi tiết báo cáo chiến dịch',\n      nzContent: MissionsComponent,\n      nzMaskClosable: true,\n      nzClosable: true,\n      nzWidth: 968,\n      nzZIndex: 999,\n      nzData: {\n        id: data\n      },\n      nzOnCancel: () => this.ngZone.run(() => {\n        modal.destroy();\n        this.changeDetectorRef.detectChanges();\n      })\n      ,\n      nzFooter: [\n        {\n          label: 'Đóng',\n          onClick: () => this.ngZone.run(() => {\n            modal.destroy();\n            this.changeDetectorRef.detectChanges(); \n          })\n        },\n      ]\n    });\n    setTimeout(() => {\n      this.changeDetectorRef.detectChanges();\n      modal.containerInstance.cdr.detectChanges();\n    }, 250);\n\n  }\n}\n","<div class=\"flex flex-col w-full h-full p-4\">\n  <icom-libs-campaign-statistic-nav\n    [label]=\"'Thống kê khách hàng theo chiến dịch'\"\n    class=\"text-xs font-semibold\"\n    (icomFilter)=\"handlerFilter($event)\"\n  ></icom-libs-campaign-statistic-nav>\n\n  <nz-spin\n    *ngIf=\"isLoading\"\n    class=\"w-full h-full flex justify-center items-center\"\n    nzSimple\n    [nzSize]=\"'large'\"\n  ></nz-spin>\n\n  <apx-chart\n    *ngIf=\"!isLoading && config\"\n    class=\"flex flex-col w-full h-full\"\n    [series]=\"config.series\"\n    [chart]=\"config.chart\"\n    [xaxis]=\"config.xaxis\"\n    [title]=\"config.title\"\n  ></apx-chart>\n</div>\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { NgIf } from \"@angular/common\";\nimport { ChangeDetectionStrategy, ChangeDetectorRef, Component, NgZone, OnInit, inject } from \"@angular/core\";\nimport {\n  NgApexchartsModule\n} from \"ng-apexcharts\";\nimport { BaseCampaignStatisticAbstractComponent } from \"../base/base.abstract.component\";\nimport { IcomLibsCampaignStatisticNavComponent } from \"../base/nav/nav.component\";\nimport { IConfigLineChartByDay } from \"../defines/config.define\";\nimport { NzModalRef } from \"ng-zorro-antd/modal\";\nimport { MissionsComponent } from \"../missions/missions.component\";\nimport { lastValueFrom } from \"rxjs\";\nimport { NzSpinModule } from \"ng-zorro-antd/spin\";\n\n\n@Component({\n  // eslint-disable-next-line @angular-eslint/component-selector\n  selector: 'icom-libs-campaign-statistic-success_campaign',\n  templateUrl: './success-campaign.component.html',\n  standalone: true,\n  imports: [NzSpinModule, NgIf, IcomLibsCampaignStatisticNavComponent, NgApexchartsModule],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class SuccessCampaignComponent extends BaseCampaignStatisticAbstractComponent {\n\n  protected config!: IConfigLineChartByDay | any;\n  protected isLoading!: boolean;\n\n  protected changeDetectorRef = inject(ChangeDetectorRef);\n  \n  constructor(\n    private ngZone: NgZone\n  ) {\n    super();\n  }\n\n  protected processBuildChart(data: any[]) {\n    this.config = {\n      series: [\n        {\n          name: 'Người tham gia',\n          data: data.map(c => c.count_user),\n          campaign_id: data.map(c => c.campaign_id)\n        },\n        {\n          name: 'Người được thưởng',\n          data: data.map(c => c.count_user_reward),\n          campaign_id: data.map(c => c.campaign_id)\n        }\n      ],\n      chart: {\n        type: 'bar',\n        height: '100%',\n        toolbar: {\n          show: false\n        },\n        fontFamily: '-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji',\n        events: {\n          dataPointSelection: (event: any, chartContext: any, config: any) => {\n            event.stopPropagation();\n            event.preventDefault();\n            this.handlerDataPointClick(config.w.config.xaxis.id[config.dataPointIndex]);\n          }\n        }\n      },\n      xaxis: {\n        categories: data.map(c => c.campaign_name),\n        id: data.map(c => c.campaign_id),\n      },\n      yaxis: {\n        title: {\n          text: 'Số lượng người dùng'\n        }\n      },\n      dataLabels: {\n        enabled: false\n      }\n    }\n  }\n\n  protected async getDataChart() {\n    try {\n      this.isLoading = true;\n      const result = await lastValueFrom(this.campaignService.getCountCustomerByCampaign(this.filter));\n      this.processBuildChart(result?.data);\n      this.changeDetectorRef.detectChanges();\n    } catch (err) {\n      console.log(err);\n    } finally {\n      this.isLoading = false;\n      this.changeDetectorRef.detectChanges();\n    }\n  }\n\n  protected handlerFilter(event: any) {\n    this.filter = event;\n    this.getDataChart();\n  }\n\n  protected handlerDataPointClick(data: any) {\n    console.log(this.viewContainerRef);\n    const modal: NzModalRef<MissionsComponent> = this.modalService.create<MissionsComponent>({\n      nzTitle: 'Chi tiết báo cáo chiến dịch',\n      nzContent: MissionsComponent,\n      nzMaskClosable: true,\n      nzClosable: true,\n      // nzViewContainerRef: this.viewContainerRef,\n      nzWidth: 968,\n      nzZIndex: 999,\n      nzData: {\n        id: data\n      },\n      nzOnCancel: () => this.ngZone.run(() => {\n        modal.destroy();\n        this.changeDetectorRef.detectChanges();\n      })\n      ,\n      nzFooter: [\n        {\n          label: 'Đóng',\n          onClick: () => this.ngZone.run(() => {\n            modal.destroy();\n            this.changeDetectorRef.detectChanges();\n          })\n        },\n      ]\n    });\n    this.changeDetectorRef.detectChanges();\n    modal.containerInstance.cdr.detectChanges();\n  }\n\n}\n","<div class=\"flex flex-col h-full w-full\">\n\t<gridster [options]=\"options\">\n\t\t<gridster-item [item]=\"item\" *ngFor=\"let item of dashboard\">\n\t\t\t<div (mousedown)=\"$event.stopPropagation()\" (touchstart)=\"$event.stopPropagation()\"></div>\n\t\t\t<ng-container [ngSwitch]=\"item['component']\">\n\t\t\t\t<ng-container *ngSwitchCase=\"'total_campaign_active'\">\n\t\t\t\t\t<icom-libs-campaign-statistic-total\n\t\t\t\t\t\tclass=\"h-full w-full\"\n\t\t\t\t\t\t[type]=\"'total_campaign_active'\"\n\t\t\t\t\t\t[title]=\"'Tổng số chiến dịch hoạt động'\"\n\t\t\t\t\t\t[ignoreFilter]=\"true\"\n\t\t\t\t\t></icom-libs-campaign-statistic-total>\n\t\t\t\t</ng-container>\n\n\t\t\t\t<ng-container *ngSwitchCase=\"'total_point_30_day'\">\n\t\t\t\t\t<icom-libs-campaign-statistic-total\n\t\t\t\t\t\tclass=\"h-full w-full\"\n\t\t\t\t\t\t[type]=\"'total_point_30_day'\"\n\t\t\t\t\t\t[title]=\"'Tổng số điểm thưởng 30 ngày qua'\"\n\t\t\t\t\t\t[ignoreFilter]=\"true\"\n\t\t\t\t\t></icom-libs-campaign-statistic-total>\n\t\t\t\t</ng-container>\n\n\t\t\t\t<ng-container *ngSwitchCase=\"'total_customer_join_30_day'\">\n\t\t\t\t\t<icom-libs-campaign-statistic-total\n\t\t\t\t\t\tclass=\"h-full w-full\"\n\t\t\t\t\t\t[type]=\"'total_customer_join_30_day'\"\n\t\t\t\t\t\t[title]=\"'Tổng số khách tham gia trong 30 ngày qua'\"\n\t\t\t\t\t\t[ignoreFilter]=\"true\"\n\t\t\t\t\t></icom-libs-campaign-statistic-total>\n\t\t\t\t</ng-container>\n\n\t\t\t\t<ng-container *ngSwitchCase=\"'point_by_campaign'\">\n\t\t\t\t\t<icom-libs-campaign-statistic-point-by-campaign\n\t\t\t\t\t\tclass=\"h-full w-full\"\n\t\t\t\t\t></icom-libs-campaign-statistic-point-by-campaign>\n\t\t\t\t</ng-container>\n\n\t\t\t\t<ng-container *ngSwitchCase=\"'customer_by_campaign'\">\n\t\t\t\t\t<icom-libs-campaign-statistic-success_campaign\n\t\t\t\t\t\tclass=\"h-full w-full\"\n\t\t\t\t\t></icom-libs-campaign-statistic-success_campaign>\n\t\t\t\t</ng-container>\n\t\t\t</ng-container>\n\t\t</gridster-item>\n\t</gridster>\n</div>\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { Component, OnInit, Input, ChangeDetectionStrategy } from \"@angular/core\";\nimport { GridsterConfig, GridsterItem } from \"angular-gridster2\";\n\n@Component({\n  // eslint-disable-next-line @angular-eslint/component-selector\n  selector: 'icom-libs-campaign-statistic',\n  templateUrl: './list.component.html',\n  styleUrls: ['./list.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class IComLibsCampaignStatisticComponent implements OnInit {\n  protected options: GridsterConfig;\n  protected dashboard: Array<GridsterItem>;\n\n  @Input() label: string | undefined;\n\n  constructor(\n  ) {\n    this.dashboard = [];\n    this.options = {\n      gridType: 'scrollVertical',\n    };\n  }\n\n  ngOnInit() {\n    this.dashboard = [\n      { cols: 4, rows: 1, y: 0, x: 0, component: 'total_campaign_active' },\n      { cols: 4, rows: 1, y: 0, x: 4, component: 'total_point_30_day' },\n      { cols: 4, rows: 1, y: 0, x: 8, component: 'total_customer_join_30_day' },\n      { cols: 12, rows: 3, y: 1, x: 0, component: 'customer_by_campaign' },\n      { cols: 6, rows: 3, y: 2, x: 0, component: 'point_by_campaign' },\n    ];\n  }\n}\n","import { FullscreenOverlayContainer, OverlayContainer, OverlayModule } from '@angular/cdk/overlay';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { GridsterModule } from 'angular-gridster2';\nimport { IcomLibsCampaignStatisticNavComponent } from './base/nav/nav.component';\nimport { IComLibsCampaignStatisticComponent } from './list.component';\nimport { SuccessCampaignComponent } from './success-campaign/success-campaign.component';\nimport { IComLibsCampaignStatisticTotalSuccessFailedComponent } from './point-by-campaign/point-by-campaign.component';\nimport { FormlyModule } from '@ngx-formly/core';\nimport { NzButtonModule } from 'ng-zorro-antd/button';\nimport { IComLibsCampaignStatisticTotalComponent } from './total/total.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: IComLibsCampaignStatisticComponent,\n\n    data: {\n      title: 'catalog',\n      breadcrumb: {\n        label: 'List Campaign Statistic',\n        link: 'product-management',\n      },\n    },\n  },\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RouterModule.forChild(routes),\n    FormlyModule,\n    GridsterModule,\n    IComLibsCampaignStatisticTotalComponent,\n    IComLibsCampaignStatisticTotalSuccessFailedComponent,\n    IcomLibsCampaignStatisticNavComponent,\n    SuccessCampaignComponent,\n    NzButtonModule\n  ],\n  declarations: [IComLibsCampaignStatisticComponent],\n  providers: [{ provide: OverlayContainer, useClass: FullscreenOverlayContainer }],\n})\nexport class IComLibsCampaignStatisticModule { }\n\n"],"x_google_ignoreList":[]}