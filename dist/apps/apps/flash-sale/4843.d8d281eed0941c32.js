(self.webpackChunkapps_flash_sale=self.webpackChunkapps_flash_sale||[]).push([[4843],{4843:(G,P,g)=>{"use strict";g.d(P,{d:()=>_});var D=g(6814),t=g(5879),z=g(95),M=g(5545),L=g(3802),C=g(2840),S=g(2787),T=g(3599),A=g(2595),b=g(1221),Z=g(9691),v=g(9663),E=g(8083),j=g(708),B=g(3304);let Y=(()=>{class r{constructor(n){this.decimalPipe=n}transform(n,f,l){switch(f){case"decimal":return this.decimalPipe.transform(n,"1.0-2");case"time":return B(n).format("DD/MM/YYYY HH:mm");case"array":return`<span class="${l?.find(h=>h.id===n).class}">${l?.length&&l?.find(h=>h.id===n)?.value||""}</span>`;default:return n}}static#t=this.\u0275fac=function(f){return new(f||r)(t.Y36(D.JJ,16))};static#n=this.\u0275pipe=t.Yjl({name:"dynamicPipe",type:r,pure:!0,standalone:!0})}return r})();var W=g(855),I=g(1958),w=g(2920),k=g(3460);function Q(r,d){if(1&r){const n=t.EpF();t.TgZ(0,"form",7),t.NdJ("keydown.enter",function(l){t.CHM(n);const h=t.oxw();return t.KtG(h.handlerSearch(l))}),t.TgZ(1,"div",8),t._UZ(2,"formly-form",9),t.qZA(),t.TgZ(3,"div",10)(4,"div",11)(5,"button",12),t.NdJ("click",function(l){t.CHM(n);const h=t.oxw();return t.KtG(h.showModal(l))}),t._UZ(6,"span",13),t._uU(7," Th\xeam m\u1edbi "),t.qZA()(),t.TgZ(8,"div",14)(9,"button",15),t.NdJ("click",function(l){t.CHM(n);const h=t.oxw();return t.KtG(h.handlerSearch(l))}),t._UZ(10,"i",16),t._uU(11," T\xecm ki\u1ebfm "),t.qZA(),t.TgZ(12,"button",17),t.NdJ("click",function(l){t.CHM(n);const h=t.oxw();return t.KtG(h.handlerReset(l))}),t._UZ(13,"i",18),t._uU(14," L\xe0m m\u1edbi "),t.qZA(),t.TgZ(15,"a",19),t.NdJ("click",function(l){t.CHM(n);const h=t.oxw();return t.KtG(h.handlerToggleCollapse(l))}),t._uU(16),t._UZ(17,"span",20),t.qZA()()()()}if(2&r){const n=t.oxw();t.Q6J("formGroup",n.form),t.xp6(2),t.Q6J("model",n.model)("fields",n.fields)("form",n.form)("options",n.options),t.xp6(3),t.Q6J("nzType","primary"),t.xp6(4),t.Q6J("nzType","primary"),t.xp6(7),t.hij(" ",n.options.formState.hidden?"Thu g\u1ecdn":"M\u1edf r\u1ed9ng"," "),t.xp6(1),t.Q6J("nzType",n.options.formState.hidden?"up":"down")}}function F(r,d){if(1&r&&(t.TgZ(0,"th",21),t._uU(1),t.qZA()),2&r){const n=d.$implicit;t.xp6(1),t.Oqu(n.title)}}function $(r,d){if(1&r&&(t.ynx(0),t._uU(1),t.BQk()),2&r){const n=t.oxw(2).index,f=t.oxw();t.xp6(1),t.hij(" ",((null==f.pagination?null:f.pagination.page)-1)*(f.limit||10)+n+1," ")}}function m(r,d){if(1&r&&(t.ynx(0),t._UZ(1,"span",28),t.ALo(2,"dynamicPipe"),t.BQk()),2&r){const n=t.oxw(2).$implicit,f=t.oxw().$implicit;t.xp6(1),t.Tol(n.class),t.Q6J("innerHTML",t.Dn7(2,3,f[n.key],n.pipe,n.pipeArgs),t.oJD)}}function J(r,d){if(1&r&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&r){const n=t.oxw(2).$implicit,f=t.oxw().$implicit;t.Tol(n.class),t.xp6(1),t.Oqu(f[n.key])}}function U(r,d){if(1&r&&(t.ynx(0),t.YNc(1,m,3,7,"ng-container",26),t.YNc(2,J,2,3,"ng-template",null,27,t.W1O),t.BQk()),2&r){const n=t.MAs(3),f=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",f.pipe)("ngIfElse",n)}}function s(r,d){if(1&r){const n=t.EpF();t.TgZ(0,"li",34),t.NdJ("click",function(){t.CHM(n);const l=t.oxw().$implicit,h=t.oxw(3).$implicit;return t.KtG(l.callback(h))}),t._uU(1),t.qZA()}if(2&r){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",n.name," ")}}function i(r,d){if(1&r&&(t.ynx(0),t.YNc(1,s,2,1,"li",33),t.BQk()),2&r){const n=d.$implicit,f=t.oxw(3).$implicit;t.xp6(1),t.Q6J("ngIf",n.condition&&n.condition(f))}}function e(r,d){if(1&r&&(t.ynx(0),t.TgZ(1,"button",29),t._uU(2," H\xe0nh \u0111\u1ed9ng "),t._UZ(3,"span",30),t.qZA(),t.TgZ(4,"nz-dropdown-menu",null,31)(6,"ul",32),t.YNc(7,i,2,1,"ng-container",5),t.qZA()(),t.BQk()),2&r){const n=t.MAs(5),f=t.oxw().$implicit;t.xp6(1),t.Q6J("nzDropdownMenu",n),t.xp6(6),t.Q6J("ngForOf",f.actions)}}function a(r,d){if(1&r&&(t.TgZ(0,"td",23),t.ynx(1,24),t.YNc(2,$,2,1,"ng-container",25),t.YNc(3,U,4,2,"ng-container",25),t.YNc(4,e,8,2,"ng-container",25),t.BQk(),t.qZA()),2&r){const n=d.$implicit;t.xp6(1),t.Q6J("ngSwitch",n.type),t.xp6(1),t.Q6J("ngSwitchCase","index"),t.xp6(1),t.Q6J("ngSwitchCase","text"),t.xp6(1),t.Q6J("ngSwitchCase","action")}}function o(r,d){if(1&r&&(t.TgZ(0,"tr"),t.YNc(1,a,5,4,"td",22),t.qZA()),2&r){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.columns)}}function c(r,d){if(1&r&&(t.TgZ(0,"div",35),t._uU(1),t.qZA()),2&r){const n=t.oxw();t.xp6(1),t.hij(" T\u1ed5ng s\u1ed1 b\u1ea3n ghi: ",(null==n.pagination?null:n.pagination.total_rows)||0," ")}}const u=function(){return{x:"1500px",y:"calc(100vh - 260px)"}},p=function(){return[10,20,30,40,50]};let _=(()=>{class r{constructor(){this.dataSet=[],this.isLoading=!0,this.options={},this.icomFilterChange=new t.vpe,this.icomAdd=new t.vpe,this.icomFunctionControl=new t.vpe,this.cdr=(0,t.f3M)(t.sBO),this.columns=[],this.options={formState:{hidden:!1}}}ngOnInit(){this.fetchData(1,this.limit||10),this.icomFunctionControl.emit({reset:()=>{this.fetchData()}})}fetchData(n=1,f=10){this.isLoading=!0;const l={limit:f,page:n,...this.model};this.loadFn&&(0,j.n)(this.loadFn(l)).then(h=>{this.dataSet=h.data.items,this.functionParse&&(this.dataSet=this.functionParse(h.data.items)),this.pagination=h.data.pagination,this.isLoading=!1,this.cdr.detectChanges()})}onSearch(){this.fetchData(1),this.icomFilterChange.emit(this.model)}onPageChange(n){this.fetchData(n,this.pagination.limit)}handlerSearch(n){n.stopPropagation(),n.preventDefault(),this.fetchData(1)}showModal(n){n.stopPropagation(),n.preventDefault(),this.icomAdd.emit(!0)}handlerReset(n){n.stopPropagation(),n.preventDefault(),this.form.reset(),this.fetchData(1)}handlerToggleCollapse(n){n.stopPropagation(),n.preventDefault(),this.options.formState.hidden=!this.options.formState.hidden}onPageSizeChange(n){this.fetchData(1,n)}static#t=this.\u0275fac=function(f){return new(f||r)};static#n=this.\u0275cmp=t.Xpm({type:r,selectors:[["icom-libs-core-components-table"]],inputs:{columns:"columns",loadFn:"loadFn",fields:"fields",model:"model",form:"form",functionParse:"functionParse",limit:"limit"},outputs:{icomFilterChange:"icomFilterChange",icomAdd:"icomAdd",icomFunctionControl:"icomFunctionControl"},standalone:!0,features:[t._Bn([D.JJ]),t.jDz],decls:11,vars:15,consts:[[1,"flex","flex-col","w-full","h-full"],["nz-form","","class","!p-4 bg-white border rounded-md",3,"formGroup","keydown.enter",4,"ngIf"],["nzShowSizeChanger","",1,"h-100",3,"nzScroll","nzTotal","nzPageSize","nzNoResult","nzPageIndex","nzFrontPagination","nzPageSizeOptions","nzLoading","nzFooter","nzData","nzPageIndexChange","nzPageSizeChange"],["sectionTable",""],["class","text-xs font-semibold ",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["footerTemplate",""],["nz-form","",1,"!p-4","bg-white","border","rounded-md",3,"formGroup","keydown.enter"],[1,"w-full","items-center"],[3,"model","fields","form","options"],["nz-row","",1,"flex","justify-between"],[1,""],["nz-button","",3,"nzType","click"],["nz-icon","","nzType","plus","nzTheme","outline"],["nz-col","",1,"search-area","flex","items-center"],["nz-button","",1,"!flex","!items-center",3,"nzType","click"],["nz-icon","","nzType","search","nzTheme","outline"],["nz-button","",1,"ml-4","!flex","!items-center",3,"click"],["nz-icon","","nzTheme","outline","nzType","close-circle"],[1,"ml-4","items-center","flex",3,"click"],["nz-icon","",1,"ml-2",3,"nzType"],[1,"text-xs","font-semibold"],["class","text-xs !p-3",4,"ngFor","ngForOf"],[1,"text-xs","!p-3"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngIf","ngIfElse"],["noPipe",""],[3,"innerHTML"],["nz-button","","nz-dropdown","",3,"nzDropdownMenu"],["nz-icon","","nzType","down"],["menu","nzDropdownMenu"],["nz-menu",""],["nz-menu-item","",3,"click",4,"ngIf"],["nz-menu-item","",3,"click"],[1,"footer-content"]],template:function(f,l){if(1&f&&(t.TgZ(0,"div",0),t.YNc(1,Q,18,9,"form",1),t.TgZ(2,"nz-table",2,3),t.NdJ("nzPageIndexChange",function(y){return l.onPageChange(y)})("nzPageSizeChange",function(y){return l.onPageSizeChange(y)}),t.TgZ(4,"thead")(5,"tr"),t.YNc(6,F,2,1,"th",4),t.qZA()(),t.TgZ(7,"tbody"),t.YNc(8,o,2,1,"tr",5),t.qZA()()(),t.YNc(9,c,2,1,"ng-template",null,6,t.W1O)),2&f){const h=t.MAs(10);t.xp6(1),t.Q6J("ngIf",l.form),t.xp6(1),t.Q6J("nzScroll",t.DdM(13,u))("nzTotal",null==l.pagination?null:l.pagination.total_rows)("nzPageSize",l.limit||10)("nzNoResult","Kh\xf4ng c\xf3 d\u1eef li\u1ec7u.")("nzPageIndex",null==l.pagination?null:l.pagination.page)("nzFrontPagination",!1)("nzPageSizeOptions",t.DdM(14,p))("nzLoading",l.isLoading)("nzFooter",h)("nzData",l.dataSet),t.xp6(4),t.Q6J("ngForOf",l.columns),t.xp6(2),t.Q6J("ngForOf",l.dataSet)}},dependencies:[v.HQ,v.N8,v.Uo,v._C,v.Om,v.p0,v.$Z,L.u,z.UX,z._Y,z.JL,z.sg,M.X0,M.T7,C.sL,C.ix,W.w,I.dQ,T.U5,w.t3,w.SK,T.Lr,D.sg,D.RF,D.n9,E.ZJ,A.PV,A.Ls,b.Qp,Z.LV,z.u5,S.b1,k.wO,k.u9,S.cm,S.RR,S.wA,D.O5,Y],styles:["nz-table[_ngcontent-%COMP%]{overflow:hidden;nz-spin {height: 100%; .ant-spin-container {height: calc(100% - 50px) !important; .ant-table {height: 100%; .ant-table-container {height: 100%; overflow: hidden; .ant-table-body {overflow-x: scroll; overflow-x: hidden; height: calc(100% - 50px);}}}}}}"]})}return r})()},3304:function(G){G.exports=function(){"use strict";var g=6e4,D=36e5,t="millisecond",z="second",M="minute",L="hour",C="day",S="week",T="month",A="quarter",b="year",Z="date",v="Invalid Date",E=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,j=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,B={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(s){var i=["th","st","nd","rd"],e=s%100;return"["+s+(i[(e-20)%10]||i[e]||i[0])+"]"}},Y=function(s,i,e){var a=String(s);return!a||a.length>=i?s:""+Array(i+1-a.length).join(e)+s},W={s:Y,z:function(s){var i=-s.utcOffset(),e=Math.abs(i),a=Math.floor(e/60),o=e%60;return(i<=0?"+":"-")+Y(a,2,"0")+":"+Y(o,2,"0")},m:function s(i,e){if(i.date()<e.date())return-s(e,i);var a=12*(e.year()-i.year())+(e.month()-i.month()),o=i.clone().add(a,T),c=e-o<0,u=i.clone().add(a+(c?-1:1),T);return+(-(a+(e-o)/(c?o-u:u-o))||0)},a:function(s){return s<0?Math.ceil(s)||0:Math.floor(s)},p:function(s){return{M:T,y:b,w:S,d:C,D:Z,h:L,m:M,s:z,ms:t,Q:A}[s]||String(s||"").toLowerCase().replace(/s$/,"")},u:function(s){return void 0===s}},I="en",w={};w[I]=B;var k="$isDayjsObject",Q=function(s){return s instanceof J||!(!s||!s[k])},F=function s(i,e,a){var o;if(!i)return I;if("string"==typeof i){var c=i.toLowerCase();w[c]&&(o=c),e&&(w[c]=e,o=c);var u=i.split("-");if(!o&&u.length>1)return s(u[0])}else{var p=i.name;w[p]=i,o=p}return!a&&o&&(I=o),o||!a&&I},$=function(s,i){if(Q(s))return s.clone();var e="object"==typeof i?i:{};return e.date=s,e.args=arguments,new J(e)},m=W;m.l=F,m.i=Q,m.w=function(s,i){return $(s,{locale:i.$L,utc:i.$u,x:i.$x,$offset:i.$offset})};var J=function(){function s(e){this.$L=F(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[k]=!0}var i=s.prototype;return i.parse=function(e){this.$d=function(a){var o=a.date,c=a.utc;if(null===o)return new Date(NaN);if(m.u(o))return new Date;if(o instanceof Date)return new Date(o);if("string"==typeof o&&!/Z$/i.test(o)){var u=o.match(E);if(u){var p=u[2]-1||0,_=(u[7]||"0").substring(0,3);return c?new Date(Date.UTC(u[1],p,u[3]||1,u[4]||0,u[5]||0,u[6]||0,_)):new Date(u[1],p,u[3]||1,u[4]||0,u[5]||0,u[6]||0,_)}}return new Date(o)}(e),this.init()},i.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},i.$utils=function(){return m},i.isValid=function(){return this.$d.toString()!==v},i.isSame=function(e,a){var o=$(e);return this.startOf(a)<=o&&o<=this.endOf(a)},i.isAfter=function(e,a){return $(e)<this.startOf(a)},i.isBefore=function(e,a){return this.endOf(a)<$(e)},i.$g=function(e,a,o){return m.u(e)?this[a]:this.set(o,e)},i.unix=function(){return Math.floor(this.valueOf()/1e3)},i.valueOf=function(){return this.$d.getTime()},i.startOf=function(e,a){var o=this,c=!!m.u(a)||a,u=m.p(e),p=function(y,x){var O=m.w(o.$u?Date.UTC(o.$y,x,y):new Date(o.$y,x,y),o);return c?O:O.endOf(C)},_=function(y,x){return m.w(o.toDate()[y].apply(o.toDate("s"),(c?[0,0,0,0]:[23,59,59,999]).slice(x)),o)},r=this.$W,d=this.$M,n=this.$D,f="set"+(this.$u?"UTC":"");switch(u){case b:return c?p(1,0):p(31,11);case T:return c?p(1,d):p(0,d+1);case S:var l=this.$locale().weekStart||0,h=(r<l?r+7:r)-l;return p(c?n-h:n+(6-h),d);case C:case Z:return _(f+"Hours",0);case L:return _(f+"Minutes",1);case M:return _(f+"Seconds",2);case z:return _(f+"Milliseconds",3);default:return this.clone()}},i.endOf=function(e){return this.startOf(e,!1)},i.$set=function(e,a){var o,c=m.p(e),u="set"+(this.$u?"UTC":""),p=(o={},o[C]=u+"Date",o[Z]=u+"Date",o[T]=u+"Month",o[b]=u+"FullYear",o[L]=u+"Hours",o[M]=u+"Minutes",o[z]=u+"Seconds",o[t]=u+"Milliseconds",o)[c],_=c===C?this.$D+(a-this.$W):a;if(c===T||c===b){var r=this.clone().set(Z,1);r.$d[p](_),r.init(),this.$d=r.set(Z,Math.min(this.$D,r.daysInMonth())).$d}else p&&this.$d[p](_);return this.init(),this},i.set=function(e,a){return this.clone().$set(e,a)},i.get=function(e){return this[m.p(e)]()},i.add=function(e,a){var o,c=this;e=Number(e);var u=m.p(a),p=function(d){var n=$(c);return m.w(n.date(n.date()+Math.round(d*e)),c)};if(u===T)return this.set(T,this.$M+e);if(u===b)return this.set(b,this.$y+e);if(u===C)return p(1);if(u===S)return p(7);var _=(o={},o[M]=g,o[L]=D,o[z]=1e3,o)[u]||1,r=this.$d.getTime()+e*_;return m.w(r,this)},i.subtract=function(e,a){return this.add(-1*e,a)},i.format=function(e){var a=this,o=this.$locale();if(!this.isValid())return o.invalidDate||v;var c=e||"YYYY-MM-DDTHH:mm:ssZ",u=m.z(this),p=this.$H,_=this.$m,r=this.$M,d=o.weekdays,n=o.months,l=function(x,O,N,H){return x&&(x[O]||x(a,c))||N[O].slice(0,H)},h=function(x){return m.s(p%12||12,x,"0")},y=o.meridiem||function(x,O,N){var H=x<12?"AM":"PM";return N?H.toLowerCase():H};return c.replace(j,function(x,O){return O||function(N){switch(N){case"YY":return String(a.$y).slice(-2);case"YYYY":return m.s(a.$y,4,"0");case"M":return r+1;case"MM":return m.s(r+1,2,"0");case"MMM":return l(o.monthsShort,r,n,3);case"MMMM":return l(n,r);case"D":return a.$D;case"DD":return m.s(a.$D,2,"0");case"d":return String(a.$W);case"dd":return l(o.weekdaysMin,a.$W,d,2);case"ddd":return l(o.weekdaysShort,a.$W,d,3);case"dddd":return d[a.$W];case"H":return String(p);case"HH":return m.s(p,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return y(p,_,!0);case"A":return y(p,_,!1);case"m":return String(_);case"mm":return m.s(_,2,"0");case"s":return String(a.$s);case"ss":return m.s(a.$s,2,"0");case"SSS":return m.s(a.$ms,3,"0");case"Z":return u}return null}(x)||u.replace(":","")})},i.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},i.diff=function(e,a,o){var c,u=this,p=m.p(a),_=$(e),r=(_.utcOffset()-this.utcOffset())*g,d=this-_,n=function(){return m.m(u,_)};switch(p){case b:c=n()/12;break;case T:c=n();break;case A:c=n()/3;break;case S:c=(d-r)/6048e5;break;case C:c=(d-r)/864e5;break;case L:c=d/D;break;case M:c=d/g;break;case z:c=d/1e3;break;default:c=d}return o?c:m.a(c)},i.daysInMonth=function(){return this.endOf(T).$D},i.$locale=function(){return w[this.$L]},i.locale=function(e,a){if(!e)return this.$L;var o=this.clone(),c=F(e,a,!0);return c&&(o.$L=c),o},i.clone=function(){return m.w(this.$d,this)},i.toDate=function(){return new Date(this.valueOf())},i.toJSON=function(){return this.isValid()?this.toISOString():null},i.toISOString=function(){return this.$d.toISOString()},i.toString=function(){return this.$d.toUTCString()},s}(),U=J.prototype;return $.prototype=U,[["$ms",t],["$s",z],["$m",M],["$H",L],["$W",C],["$M",T],["$y",b],["$D",Z]].forEach(function(s){U[s[1]]=function(i){return this.$g(i,s[0],s[1])}}),$.extend=function(s,i){return s.$i||(s(i,J,$),s.$i=!0),$},$.locale=F,$.isDayjs=Q,$.unix=function(s){return $(1e3*s)},$.en=w[I],$.Ls=w,$.p={},$}()}}]);