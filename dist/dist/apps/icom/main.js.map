{"version":3,"file":"main.js","mappings":"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","names":["AppComponent","constructor","this","title","static","t","core","Xpm","selectors","decls","vars","consts","template","rf","ctx","i0","appRoutes","path","canActivate","AuthGuardService","loadChildren","loadRemoteModule","remoteEntry","remoteName","exposedModule","ResolveLoginSuccessGuardService","loadComponent","__webpack_require__","e","then","bind","m","IcomLibsComponentsLoginComponent","AppRoutingModule","oAB","cJS","RouterModule","forRoot","initialNavigation","paramsInheritanceStrategy","IconRegisterService","iconService","http","loadIcons","iconNames","iconFolderPath","forEach","iconName","get","responseType","subscribe","svg","addIconLiteral","i1","i2","Yz7","factory","ɵfac","providedIn","ctx_r0","to","required","label","$event","_r5","ctx_r4","props","OnOpenChange","field","ctx_r6","OnOk","ctx_r7","onDateChange","ctx_r1","formControl","Mode","AutoFocus","Backdrop","Disabled","disabled","DisabledDate","PopupStyle","DropdownClassName","Size","format","InputReadOnly","PlaceHolder","placeholder","Borderless","SuffixIcon","Inline","DisabledTime","ShowTime","ShowToday","ShowNow","ctx_r3","value","IcomLibsCoreComponentsFormlyDatepicker","FieldType","ngOnInit","showErr","invalid","touched","event","console","log","emitTimeLocal","change","localDate","Date","getTime","getTimezoneOffset","onlyDay","setHours","formattedDate","toISOString","slice","replace","setValue","standalone","features","provide","DefaultValueAccessor","useExisting","NG_VALUE_ACCESSOR","multi","FormControlDirective","IcomLibsCoreComponentsFormlyDatepicker_nz_form_label_1_Template","IcomLibsCoreComponentsFormlyDatepicker_ng_container_3_Template","IcomLibsCoreComponentsFormlyDatepicker_ng_template_4_Template","className","readonly","_r2","_c0","NzDatePickerModule","ReactiveFormsModule","FormlyNgZorroAntdModule","NzFormModule","i3","i4","NgIf","FormlyModule","i5","NgClass","DatePipe","encapsulation","IcomLibsCoreComponentsFormlyRangepicker","IcomLibsCoreComponentsFormlyRangepicker_nz_form_label_1_Template","nzSize","nzShowTime","changeDetection","IcomLibsCoreComponentsFormlyQuillComponent","forwardRef","QuillEditorComponent","IcomLibsCoreComponentsFormlyQuillComponent_nz_form_label_1_Template","_c1","QuillModule","loading","width","height","ctx_r2","avatarUrl","IcomLibsCoreComponentsFormlyUploadComponent","fileList","campaignService","inject","IComLibsServicesProjectCampaignV3Service","msg","NzMessageService","cdr","ChangeDetectorRef","beforeUpload","file","Observable","observer","isJPG","type","error","complete","isLt2M","size","formatSize","checkImageDimension","dimensionRes","next","defaultValue","handleUploadChange","_this","_asyncToGenerator","formData","FormData","append","originFileObj","result","lastValueFrom","uploadImage","data","getBase64","img","detectChanges","callback","reader","FileReader","addEventListener","toString","readAsDataURL","handleChange","info","status","Promise","resolve","Image","src","window","URL","createObjectURL","onload","naturalWidth","naturalHeight","revokeObjectURL","sizeInBytes","toFixed","IcomLibsCoreComponentsFormlyUploadComponent_nz_form_label_1_Template","IcomLibsCoreComponentsFormlyUploadComponent_ng_container_4_Template","IcomLibsCoreComponentsFormlyUploadComponent_img_5_Template","accept","nzDisabled","NzUploadModule","NzButtonModule","NzIconModule","i6","i7","_r1","IcomLibsCoreComponentsFormlyPanelWrapperComponent_ng_template_2_span_0_Template","IcomLibsCoreComponentsFormlyPanelWrapperComponent","FieldWrapper","IcomLibsCoreComponentsFormlyPanelWrapperComponent_nz_card_1_Template","IcomLibsCoreComponentsFormlyPanelWrapperComponent_ng_template_2_Template","NzSpaceModule","NzCardModule","styles","EmailValidator","control","match","email","PhoneNumberValidator","phoneNumber","MaxValidatorMessageValidator","maxValidatorMessage","NumberIntMessageValidator","MaxUploadFileSizerValidator","TypeUploadFileSizerValidator","includes","emailValidationMessage","phoneNumberValidationMessage","maxError","max","minValidatorMessage","minError","min","maxUploadFileSize","maxSize","noWhitespaceMessage","uniqueSelection","name","TypeUploadFileSizerMessage","NumberIntMessage","fieldMatchValidator","fieldMatch","message","noWhitespaceValidator","trim","length","tmp_0_0","item_r7","valueProp","tmp_2_0","labelProp","FormlyFieldSelect_div_0_ng_template_3_div_0_Template","ctx_r5","isLoading","_r10","ctx_r9","handleAddNew","_r12","ctx_r11","handleKeydown","ctx_r13","loadMore","ctx_r14","onSearch","ctx_r15","FormlyFieldSelect_div_0_ng_container_2_Template","FormlyFieldSelect_div_0_ng_template_3_Template","FormlyFieldSelect_div_0_button_5_Template","classInclude","showError","nzServerSearch","maxMultiSelectItems","ignoreRemoveIcon","multiple","_r4","resolvedOptions","functionAddNew","ctx_r16","getSelectedLabel","FormlyFieldSelect_ng_template_1_span_0_Template","FormlyFieldSelect","pagination","limit","page","searchChange$","Subject","key","nzSelectComponent","nzOpen","preventDefault","pipe","debounceTime","distinctUntilChanged","switchMap","term","map","option","keySearch","searchData","items","isObservable","options","subscription","emitList","functionCheckExist","searchText","listOptionDropdown","ngOnDestroy","unsubscribe","Array","isArray","val","getLabelForValue","filter","join","selectedOption","find","id","_id","total_pages","search","viewQuery","NzSelectComponent","FormlyFieldSelect_div_0_Template","FormlyFieldSelect_ng_template_1_Template","CommonModule","NzSelectModule","FormlyNzFormFieldModule","FormlySelectModule","FormsModule","NzInputModule","NzSpinModule","field_r1","GridWrapperComponent","GridWrapperComponent_div_1_Template","fieldGroup","NgFor","_r6","add","undefined","markAsDirty","addText","i_r8","index","ctx_r10","remove","ArrayTypeComponent_div_6_div_2_Template","field_r7","removable","hide","ArrayTypeComponent","FieldArrayType","setValidators","Validators","updateValueAndValidity","ArrayTypeComponent_nz_form_label_1_Template","ArrayTypeComponent_nz_form_label_2_Template","ArrayTypeComponent_button_4_Template","ArrayTypeComponent_div_5_Template","ArrayTypeComponent_div_6_Template","formState","errors","MultiCheckboxTypeComponent","disabled2","checked","value2","NzCheckboxModule","handlerClick","ctx_r8","handlerCheck","CollapseWrapperComponent_nz_collapse_0_ng_template_2_Template","CollapseWrapperComponent_nz_collapse_0_div_4_Template","hasContent","CollapseWrapperComponent","stopPropagation","some","changeChecked","setTimeout","markAsTouched","setChecked","CollapseWrapperComponent_nz_collapse_0_Template","NzCollapseModule","FormlyFieldColorPickerComponent","preventInput","addonText","FormlyFieldNzInputNumber","test","FormlyFieldNzInputNumber_nz_form_label_1_Template","FormlyFieldNzInputNumber_nz_input_number_4_Template","FormlyFieldNzInputNumber_span_5_Template","FormlyFieldNzInputNumber_ng_template_6_Template","_r3","NzInputNumberModule","DecimalPipe","IcomLibsCoreComponentFormlyFieldSearchInput","IcomLibsCoreComponentFormlyFieldSearchInput_nz_form_label_1_Template","FormlyWrapperNzSelectTagsComponent","onChange","values","PaginationService","pageSize","currentPage","totalPages","calculateTotalPages","getCurrentPageItems","startIndex","getTotalPages","setItems","splice","push","resetItems","getItems","addItem","item","unshift","removeItem","findIndex","existingItem","product_id","recalculatePagination","itemExists","findPageIndex","Math","floor","setCurrentPage","getCurrentPage","ceil","_r8","inputControl","numberFormatter","numberParser","TableInputComponent_ng_container_0_div_4_small_1_Template","TableInputComponent_ng_container_0_div_4_small_2_Template","TableInputComponent_ng_container_0_div_4_small_3_Template","TableInputComponent_ng_container_0_ng_container_1_Template","TableInputComponent_ng_container_0_ng_template_2_Template","TableInputComponent_ng_container_0_div_4_Template","dirty","TableInputComponent","valueChange","EventEmitter","validators","FormControl","parseNumber","valueChanges","numericValue","emit","functionCheckReadonly","dataRow","save","valid","parseInt","inputs","outputs","TableInputComponent_ng_container_0_Template","TableInputComponent_ng_template_1_Template","item_r4","TableSelectMultiComponent_ng_container_0_nz_option_2_Template","selectControl","item_r6","TableSelectMultiComponent_ng_template_1_li_1_Template","selectedOptions","TableSelectMultiComponent","ngOnChanges","TableSelectMultiComponent_ng_container_0_Template","TableSelectMultiComponent_ng_template_1_Template","ImportModalContentComponent","onSave","IComMessageService","IComMessageFlashSaleService","IComLibsServicesProjectFlashSaleService","nzModalData","NZ_MODAL_DATA","handlerDownloadFile","uploadFile","request","file_name","keepFileName","xhr","XMLHttpRequest","open","token","localStorage","getItem","setRequestHeader","blob","Blob","response","downloadUrl","a","document","createElement","contentDisposition","getResponseHeader","dateString","currentDate","getDate","getMonth","getFullYear","filename","matches","exec","href","download","body","appendChild","click","removeChild","showAlertMessageDone","onerror","parseDateRangeDayMonthYearToTwoKey","keys","keysParse","keyStart","keyEnd","date_range","dataRange","start","end","String","obj","o","dayjs","l","send","JSON","stringify","environment","apiGatewayUrl","suffixCampaignV3","handleImport","uploadVoucher","res","err","showAlertMessageError","error_message","NzAlertModule","ShowTooltipOnOverflowDirective","el","renderer","onMouseEnter","nativeElement","offsetWidth","scrollWidth","setAttribute","removeAttribute","lG2","hostBindings","FormatValuePipe","transform","args","Intl","NumberFormat","Yjl","pure","DropdownTableTypeComponent_nz_select_1_ng_template_1_div_0_Template","_r16","onImageError","option_r14","medias","url","quantity_available_by_gen_code_type","DropdownTableTypeComponent_nz_select_1_ng_container_3_nz_option_1_Template","optionList","option_r19","DropdownTableTypeComponent_nz_select_1_ng_container_4_nz_option_1_Template","_r21","ctx_r20","selectedValue","ctx_r22","handlerSelectChange","ctx_r23","ctx_r24","ctx_r25","onSelectOpenChange","DropdownTableTypeComponent_nz_select_1_ng_template_1_Template","DropdownTableTypeComponent_nz_select_1_ng_container_3_Template","DropdownTableTypeComponent_nz_select_1_ng_container_4_Template","nzOptionHeightPx","_c2","customOption","_r27","ctx_r26","openImportModal","col_r28","hiddenWhenReadonly","i_r30","DropdownTableTypeComponent_tr_10_ng_container_2_ng_container_3_i_1_Template","DropdownTableTypeComponent_tr_10_ng_container_2_ng_container_3_span_2_Template","ctx_r34","data_r29","col_r33","DropdownTableTypeComponent_tr_10_ng_container_2_div_5_ng_template_2_span_0_Template","DropdownTableTypeComponent_tr_10_ng_container_2_div_5_ng_template_2_span_1_Template","DropdownTableTypeComponent_tr_10_ng_container_2_div_5_ng_template_2_span_2_Template","ctx_r47","isNumber","ignoreParseNumber","isString","DropdownTableTypeComponent_tr_10_ng_container_2_div_5_ng_container_1_Template","DropdownTableTypeComponent_tr_10_ng_container_2_div_5_ng_template_2_Template","_r46","DropdownTableTypeComponent_tr_10_ng_container_2_div_6_a_1_ng_template_2_span_0_Template","DropdownTableTypeComponent_tr_10_ng_container_2_div_6_a_1_ng_template_2_span_1_Template","ctx_r64","_r75","$implicit","clickAction","DropdownTableTypeComponent_tr_10_ng_container_2_div_6_a_1_ng_container_1_Template","DropdownTableTypeComponent_tr_10_ng_container_2_div_6_a_1_ng_template_2_Template","_r63","DropdownTableTypeComponent_tr_10_ng_container_2_div_6_a_1_Template","_r83","ctx_r81","handlerChange","inputType","ctx_r38","_r89","ctx_r87","ctx_r39","_r96","ctx_r94","DropdownTableTypeComponent_tr_10_ng_container_2_ng_container_9_button_1_Template","ctx_r40","DropdownTableTypeComponent_tr_10_ng_container_2_ng_container_3_Template","DropdownTableTypeComponent_tr_10_ng_container_2_ng_container_4_Template","DropdownTableTypeComponent_tr_10_ng_container_2_div_5_Template","DropdownTableTypeComponent_tr_10_ng_container_2_div_6_Template","DropdownTableTypeComponent_tr_10_ng_container_2_ng_container_7_Template","DropdownTableTypeComponent_tr_10_ng_container_2_ng_container_8_Template","DropdownTableTypeComponent_tr_10_ng_container_2_ng_container_9_Template","ctx_r32","DropdownTableTypeComponent_tr_10_ng_container_2_Template","columns","_r98","ctx_r97","DropdownTableTypeComponent","super","pagedItems","fallback","paginationService","modalService","NzModalService","isFirst","icomFunctionControl","reset","updatePageItems","callBackThis","keyGetValue","fieldChanges","changeItems","listDataMapping","dataMapping","product_name","mergeApiDataToSelectedItem","patchValue","handleApiData","updateTable","exists","functionCheckCondition","pageIndex","highlightRow","apiResponse","apiData","dataMap","Object","assign","target","confirm","nzTitle","nzOkText","nzOkType","nzMaskClosable","nzClosable","nzOnOk","nzCancelText","drop","prevIndex","previousIndex","newIndex","currentIndex","moveItemInArray","removeHighLight","tableRows","row","classList","rowElement","scrollIntoView","behavior","block","handlerSave","temp","templates","specificValidate","resultSpecificValidate","modalRef","create","nzContent","nzOkLoading","nzData","objectUpload","instance","getContentComponent","take","count","updateConfig","DropdownTableTypeComponent_nz_select_1_Template","DropdownTableTypeComponent_div_2_Template","DropdownTableTypeComponent_ng_container_8_Template","DropdownTableTypeComponent_tr_10_Template","DropdownTableTypeComponent_nz_pagination_11_Template","DropdownTableTypeComponent_ng_template_12_Template","import","NzTableModule","NgForOf","NzPaginationModule","i8","DragDropModule","i9","NgSwitchCase","NgSwitch","NzImageModule","i10","i11","NzToolTipModule","i12","handleInput","maxLength","FormlyFieldCustomInputComponent","parseFloat","Number","isNaN","FormlyFieldCustomInputComponent_ng_container_1_Template","FormlyFieldCustomInputComponent_ng_template_2_Template","option_r4","FormlyFieldRadio_ng_container_0_label_2_Template","FormlyFieldRadio_ng_template_1_span_0_Template","FormlyFieldRadio","checkAndSetCheckedOption","checkedOption","form","FormlyFieldRadio_ng_container_0_Template","FormlyFieldRadio_ng_template_1_Template","NzRadioModule","rows","FormlyFieldTextareaCustom","FormlyFieldTextareaCustom_ng_container_0_Template","FormlyFieldTextareaCustom_ng_template_1_Template","antDesignIcons","ArrowLeftOutline","LogoutOutline","UserOutline","EditFill","AppModule","iconRegister","bootstrap","HTTP_INTERCEPTORS","useClass","HeaderInterceptor","ErrorHandlerInterceptor","NZ_I18N","useValue","en_US","NZ_ICONS","imports","BrowserModule","HttpClientModule","BrowserAnimationsModule","types","component","wrappers","validation","validationMessages","extras","resetFieldOnHide","__NgCli_bootstrap_1","bootstrapModule","catch","production","apiGetFileStatic","merchantUrl","suffixCampaign","suffixOrder","suffixDynamicHome","suffixProduct","router","route","state","navigate","of","role","jwt_decode","localStorageService","intercept","headers","has","delete","clone","set","handle","tap","finalize","authService","iComMessageService","catchError","errorHandler","errorResponse","HttpErrorResponse","logout","LocalStorageService","setItem","parse","getTokenData","clear","clearAllLocalStorage","_angular_core__WEBPACK_IMPORTED_MODULE_1__","ApiService","queryParams","params","setParameter","customHeaders","put","payload","post","patch","HttpHeaders","routerParams","HttpParams","nzModalService","toastService","modalCtrl","destroyRef","DestroyRef","events","NavigationEnd","takeUntilDestroyed","i","len","destroy","showModalByStatus","nzOnCancel","success","warning","afterClose","_angular_core__WEBPACK_IMPORTED_MODULE_0__","apiService","edit","detail","voucherList","list","listGroup","deleteGroup","addGroup","editGroup","sortField","order","new_order","transactionList","downloadFileVoucher","changeStatusActive","changeStatusInactive","IcomLibsProjectLoginService","login","loginMerchant","Authorization","location","getRefreshToken","refreshToken","refresh_token","_angular_core__WEBPACK_IMPORTED_MODULE_5__","addEditCampaign","getTypeMissions","group","getActionMission","getContributor","getPool","getSubPool","getRewardLevel","getRewardForm","getMessageTemplate","getTypeReward","getListStatus","getListTimeStart","getListTimeEnd","getListOrderAction","getListOrderActionBy","getListActionType","getListActionParam","action_type_code"],"sourceRoot":"webpack:///","sources":["./apps/shell/src/app/app.component.ts","./apps/shell/src/app/app.component.html","./apps/shell/src/app/app.routing.module.ts","./libs/core/services/common/icon-load.service.ts","./libs/core/components/formly/datepicker.component.ts","./libs/core/components/formly/range-picker/range-picker.component.html","./libs/core/components/formly/range-picker/range-picker.component.ts","./libs/core/components/formly/quill.component.ts","./libs/core/components/formly/upload.component.ts","./libs/core/components/formly/group-wrapper.component.ts","./libs/core/components/formly/validator.define.ts","./libs/core/components/formly/select.component.ts","./libs/core/components/formly/grid-wrapper.component.ts","./libs/core/components/formly/array.type.ts","./libs/core/components/formly/checkbox-group.type.ts","./libs/core/components/formly/collapse-expand.type.ts","./libs/core/components/formly/color.type.ts","./libs/core/components/formly/input-number.type.ts","./libs/core/components/formly/input/input.component.html","./libs/core/components/formly/input/input.component.ts","./libs/core/components/formly/tags.type.ts","./libs/core/components/formly/dropdown-table/service/pagination.service.ts","./libs/core/components/formly/dropdown-table/templates/input.component.ts","./libs/core/components/formly/dropdown-table/templates/select.component.ts","./libs/core/components/formly/dropdown-table/templates/modal.component.ts","./libs/core/defines/static.define.ts","./libs/core/components/formly/dropdown-table/directive/tooltip.directive.ts","./libs/core/components/formly/dropdown-table/pipes/format-value.pipe.ts","./libs/core/components/formly/dropdown-table/dropdown-table.component.html","./libs/core/components/formly/dropdown-table/dropdown-table.component.ts","./libs/core/components/formly/input.type.ts","./libs/core/components/formly/radio.type.ts","./libs/core/components/formly/textarea.type.ts","./apps/shell/src/app/app.module.ts","./apps/shell/src/main.ts","./libs/core/environments/environment.ts","./libs/core/services/authenticate/auth-guard.service.ts","./libs/core/services/authenticate/resolve-login-success-guard.service.ts","./libs/core/services/authenticate/header.interceptor.ts","./libs/core/services/authenticate/error.interceptor.ts","./libs/core/services/authenticate/local-storage.service.ts","./libs/core/services/common/http.service.ts","./libs/core/services/common/modal.service.ts","./libs/core/services/projects/flash-sale/flash-sale.service.ts","./libs/core/services/projects/iam/login.service.ts","./libs/core/services/projects/campaign/campaign_v3.service.ts"],"sourcesContent":["import { Component } from '@angular/core';\n@Component({\n  selector: 'icom-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss'],\n})\nexport class AppComponent {\n  title = 'icom';\n}\n","<div class=\"w-full h-full min-w-[1366px]\">\n  <router-outlet></router-outlet>\n</div>\n ","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { AuthGuardService, ResolveLoginSuccessGuardService } from '@icom/services/authenticate'\nimport { loadRemoteModule } from '@angular-architects/module-federation';\n\nexport const appRoutes: Routes = [\n\t{\n\t\tpath: '',\n\t\tcanActivate: [AuthGuardService],\n\t\t// loadChildren: () => import('@icom/layout').then(m => m.IcomLibsComponentsLayoutModule),\n\t\tloadChildren: () => loadRemoteModule({\n\t\t\tremoteEntry: 'http://localhost:4201/remoteEntry.js',\n\t\t\tremoteName: 'app1',\n\t\t\texposedModule: './Module'\n\t\t  })\n\t\t},\n\t{\n\t\tpath: 'login',\n\t\tcanActivate: [ResolveLoginSuccessGuardService],\n\t\tloadComponent: () => import('@icom/login').then(m => m.IcomLibsComponentsLoginComponent),\n\t}\n];\n@NgModule({\n\timports: [\n\t\tRouterModule.forRoot(appRoutes, {\n\t\t\tinitialNavigation: 'enabledBlocking',\n\t\t\tparamsInheritanceStrategy: 'always',\n\t\t}),\n\t],\n\texports: [RouterModule],\n})\nexport class AppRoutingModule { }\n","import { Injectable, Inject } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { NzIconService } from 'ng-zorro-antd/icon';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class IconRegisterService {\n  constructor(\n    private iconService: NzIconService,\n    private http: HttpClient\n  ) {}\n\n  loadIcons(iconNames: string[], iconFolderPath: string): void {\n    // this.iconService.changeAssetsSource('assets/icons');\n    iconNames.forEach((iconName) => {\n      this.http.get(`${iconFolderPath}/${iconName}.svg`, { responseType: 'text' }).subscribe(svg => {\n        this.iconService.addIconLiteral(iconName, svg);\n      });\n    });\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { NzDatePickerModule } from 'ng-zorro-antd/date-picker';\nimport { FieldType, FormlyFieldConfig, FormlyModule } from '@ngx-formly/core';\nimport { DefaultValueAccessor, NG_VALUE_ACCESSOR, FormControlDirective, ReactiveFormsModule } from '@angular/forms';\nimport { FormlyNgZorroAntdModule } from '@ngx-formly/ng-zorro-antd';\nimport { NzFormModule } from 'ng-zorro-antd/form';\nimport { DatePipe, NgClass, NgIf } from '@angular/common';\nimport { NzUploadModule } from 'ng-zorro-antd/upload';\n\n@Component({\n  selector: 'icom-libs-core-components-formly-datepicker',\n  template: `\n    <nz-form-item class=\"ant-form-item ant-row {{ to.className }}\">\n      <nz-form-label *ngIf=\"to.label\" [nzRequired]=\"to.required\">{{ to.label }}</nz-form-label>\n      <nz-form-control class=\"ant-form-item-control\">\n      <ng-container *ngIf=\"!to.readonly; else readonlyTemplate\">\n      <nz-date-picker \n      \n        [formControl]=\"$any(formControl)\"\n        [nzMode]=\"props.Mode\"\n        [nzAllowClear]=\"true\"\n        [nzAutoFocus]=\"props.AutoFocus\"\n        [nzBackdrop]=\"props.Backdrop\"\n        [nzDisabled]=\"props.Disabled || props.disabled || formControl.disabled\"\n        [nzDisabledDate]=\"props.DisabledDate\"\n        [nzPopupStyle]=\"props.PopupStyle\"\n        [nzDropdownClassName]=\"props.DropdownClassName\"\n        [nzSize]=\"props.Size\"\n        [nzFormat]=\"props.format\"\n        [nzInputReadOnly]=\"props.InputReadOnly\"\n        [nzPlaceHolder]=\"props.PlaceHolder || props.placeholder\"\n        [nzBorderless]=\"props.Borderless\"\n        [nzSuffixIcon]=\"props.SuffixIcon\"\n        [nzInline]=\"props.Inline\"\n        (nzOnOpenChange)=\"props.OnOpenChange?.($event, field)\"\n        [nzDisabledTime]=\"props.DisabledTime\"\n        [nzShowTime]=\"props.ShowTime\"\n        [nzShowToday]=\"props.ShowToday\"\n        [nzShowNow]=\"props.ShowNow\"\n        (nzOnOk)=\" props.OnOk?.($event, field)\"\n        (ngModelChange)=\"onDateChange($event)\"\n        ngDefaultControl>\n      </nz-date-picker>\n      </ng-container>\n      <ng-template #readonlyTemplate>\n          <span>{{ formControl.value | date: to.format }}</span>\n        </ng-template>\n\n      <div class=\"ant-form-item-explain\" [ngClass]=\"{'ant-form-item-explain-connected' : !showErr(field)}\">\n          <div class=\"ant-form-item-explain-error\">\n            <formly-validation-message [field]=\"field\"></formly-validation-message>\n          </div>\n        </div>\n      </nz-form-control>\n      \n    </nz-form-item>\n\n  `,\n  standalone: true,\n  imports: [\n    NzDatePickerModule,\n    ReactiveFormsModule,\n    FormlyNgZorroAntdModule,\n    NzFormModule,\n    NgIf,\n    FormlyNgZorroAntdModule,\n    FormlyModule,\n    NgIf,\n    NzFormModule,\n    NgClass,\n    DatePipe\n  ],\n  providers: [\n    { provide: DefaultValueAccessor, useExisting: IcomLibsCoreComponentsFormlyDatepicker },\n    { provide: NG_VALUE_ACCESSOR, useExisting: IcomLibsCoreComponentsFormlyDatepicker, multi: true },\n    FormControlDirective\n  ],\n})\nexport class IcomLibsCoreComponentsFormlyDatepicker extends FieldType implements OnInit {\n  ngOnInit(): void {\n    // console.log(this);\n    // this.formControl.setValue(new Date(this.model[this.key as string].replace(\" \", \"T\")).toISOString().slice(0, -1));\n  }\n  showErr(field: FormlyFieldConfig) {\n    return field.formControl && field.formControl.invalid && field.formControl.touched;\n  }\n\n  onDateChange(event: Date): void {\n    console.log(this.field?.props);\n    if (!this.field?.props?.emitTimeLocal) {\n      this.props.change && this.props.change(this.field, event);\n      return;\n    }\n    const localDate = new Date(event.getTime() - (event.getTimezoneOffset() * 60000));\n\n    if (this.field?.props?.onlyDay) {\n      localDate.setHours(0, 0, 0, 0);\n    }\n    \n    // Định dạng ngày giờ theo định dạng mong muốn mà không chuyển đổi sang UTC\n    const formattedDate = localDate.toISOString().slice(0, -1).replace('T', ' ');\n    \n    this.formControl.setValue(formattedDate);\n    this.props.change && this.props.change(this.field, event);\n  }\n\n\n  \n}\n","<nz-form-item class=\"ant-form-item ant-row ant-form-item-required {{ to.className }}\">\n  <nz-form-label *ngIf=\"to.label\" [nzRequired]=\"to.required\">{{\n    to.label\n  }}</nz-form-label>\n  <nz-form-control class=\"ant-form-item-control\">\n    <nz-range-picker\n      #instance\n      [formControl]=\"$any(formControl)\"\n      [nzSize]=\"props.nzSize\"\n      [nzFormat]=\"props.format\"\n      [nzShowTime]=\"props.nzShowTime\"\n      ngDefaultControl\n    >\n    </nz-range-picker>\n    <div class=\"ant-form-item-explain\" [ngClass]=\"{'ant-form-item-explain-connected' : !showErr(field)}\">\n      <div class=\"ant-form-item-explain-error\">\n        <formly-validation-message [field]=\"field\"></formly-validation-message>\n      </div>\n    </div>\n  </nz-form-control>\n</nz-form-item>\n","import { ChangeDetectionStrategy, Component, Input, OnInit } from '@angular/core';\nimport { ReactiveFormsModule, DefaultValueAccessor, NG_VALUE_ACCESSOR, FormControlDirective } from '@angular/forms';\nimport { FieldType, FormlyFieldConfig, FormlyModule } from '@ngx-formly/core';\nimport { FormlyNgZorroAntdModule } from '@ngx-formly/ng-zorro-antd';\nimport { NzDatePickerModule } from 'ng-zorro-antd/date-picker';\nimport { IcomLibsCoreComponentsFormlyDatepicker } from '../datepicker.component';\nimport { NgClass, NgIf } from '@angular/common';\nimport { NzFormModule } from 'ng-zorro-antd/form';\n\n@Component({\n  selector: 'icom-libs-core-components-formly-range_picker',\n  templateUrl: './range-picker.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: true,\n  imports :[\n    NzDatePickerModule,\n    ReactiveFormsModule,\n    FormlyNgZorroAntdModule,\n    FormlyModule,\n    NgIf,\n    NzFormModule,\n    NgClass,\n    \n  ],\n  providers: [\n    { provide: DefaultValueAccessor, useExisting: IcomLibsCoreComponentsFormlyDatepicker },\n    { provide: NG_VALUE_ACCESSOR, useExisting: IcomLibsCoreComponentsFormlyDatepicker, multi: true },\n    FormControlDirective // Import và thêm FormControlDirective vào danh sách providers\n  ],\n})\nexport class IcomLibsCoreComponentsFormlyRangepicker extends FieldType { \n\n  ngOnInit() {\n    console.log(this.formControl)\n  }\n\n  showErr(field: FormlyFieldConfig) {\n\t\treturn field.formControl && field.formControl.invalid && field.formControl.touched;\n\t}\n}\n","import { Component, forwardRef } from '@angular/core';\nimport { FieldType, FormlyFieldConfig, FormlyModule } from '@ngx-formly/core';\nimport { DefaultValueAccessor, FormControl, FormControlDirective, NG_VALUE_ACCESSOR, ReactiveFormsModule } from '@angular/forms';\nimport { QuillEditorComponent, QuillModule } from 'ngx-quill';\nimport { FormlyNgZorroAntdModule } from '@ngx-formly/ng-zorro-antd';\nimport { NzFormModule } from 'ng-zorro-antd/form';\nimport { NgIf, NgClass } from '@angular/common';\nimport { NzDatePickerModule } from 'ng-zorro-antd/date-picker';\n\n@Component({\n  selector: 'icom-libs-core-components-formly-quill',\n  template: `\n    <nz-form-item>\n      <nz-form-label *ngIf=\"to.label\" [nzRequired]=\"to.required\">{{ to.label }}</nz-form-label>\n      <div class=\"nz-input-group\">\n        <quill-editor [formControl]=\"$any(formControl)\" [styles]=\"{height: '250px'}\" [theme]=\"'snow'\" [placeholder]=\"'Nhập nội dung'\" [formlyAttributes]=\"field\" format=\"html\"></quill-editor>\n      </div>\n\n      <div class=\"ant-form-item-explain\" [ngClass]=\"{'ant-form-item-explain-connected' : !showErr(field)}\">\n        <div class=\"ant-form-item-explain-error\">\n          <formly-validation-message [field]=\"field\"></formly-validation-message>\n        </div>\n      </div>\n    </nz-form-item>\n  \n  `,\n  standalone: true,\n  imports: [\n    NzDatePickerModule,\n    ReactiveFormsModule,\n    FormlyNgZorroAntdModule,\n    FormlyModule,\n    NgIf,\n    NzFormModule,\n    NgClass,\n    QuillModule\n  ],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => QuillEditorComponent),\n      multi: true,\n    },\n    FormControlDirective\n  ],\n})\nexport class IcomLibsCoreComponentsFormlyQuillComponent extends FieldType {\n\n  showErr(field: FormlyFieldConfig) {\n\t\treturn field.formControl && field.formControl.invalid && field.formControl.touched;\n\t}\n}\n","import { NgIf, NgClass, JsonPipe } from '@angular/common';\nimport { ChangeDetectionStrategy, ChangeDetectorRef, Component, OnInit, inject } from '@angular/core';\nimport { DefaultValueAccessor, NG_VALUE_ACCESSOR, FormControlDirective, ReactiveFormsModule } from '@angular/forms';\nimport { IComLibsServicesProjectCampaignV3Service } from '@icom/services/projects';\nimport { FieldType, FormlyFieldConfig, FormlyModule } from '@ngx-formly/core';\nimport { FormlyNgZorroAntdModule } from '@ngx-formly/ng-zorro-antd';\nimport { NzButtonModule } from 'ng-zorro-antd/button';\nimport { NzFormModule } from 'ng-zorro-antd/form';\nimport { NzIconModule } from 'ng-zorro-antd/icon';\nimport { NzMessageService } from 'ng-zorro-antd/message';\nimport { NzUploadFile, NzUploadModule } from 'ng-zorro-antd/upload';\nimport { Observable, Observer, lastValueFrom } from 'rxjs';\n@Component({\n  selector: 'icom-libs-core-components-formly-upload',\n  template: `\n    <nz-form-item class=\"flex-col\">\n      <nz-form-label *ngIf=\"to.label\" [nzRequired]=\"to.required\">{{ to.label }}</nz-form-label>\n      <div class=\"nz-input-group\">\n        <nz-upload\n          class=\"avatar-uploader {{props.className}}\"\n          ngDefaultControl\n          nzName=\"avatar\"\n          [formControl]=\"$any(formControl)\" \n          [formlyAttributes]=\"field\"\n          [nzAccept]=\"props['accept']\"\n          nzName=\"avatar\"\n          [nzShowUploadList]=\"false\"\n          [nzDisabled]=\"props.nzDisabled || props.disabled || formControl.disabled\"\n          [nzMultiple]=\"false\"\n          [(nzFileList)]=\"fileList\"\n          nzListType=\"picture-card\"\n          [nzBeforeUpload]=\"beforeUpload\"\n          (nzChange)=\"handleUploadChange($event)\">\n          <ng-container *ngIf=\"!avatarUrl\">\n            <div class=\"flex flex-col\">\n              <div class=\"flex items-center\">  \n                <span class=\"upload-icon\" nz-icon [nzType]=\"loading ? 'loading' : 'plus'\"></span>\n                <div class=\"ant-upload-text ml-4\">Upload</div> \n              </div>\n              <p style=\"color: #00000073; font-size: 20px;\">{{ props.width || 80 }} X {{ props.height || 80 }}</p>\n\n            </div>\n            \n          \n          </ng-container>\n            <img class=\"object-contain w-full h-full\" style=\"    object-fit: contain;\" *ngIf=\"avatarUrl\" [src]=\"avatarUrl\" />\n              </nz-upload> \n        </div>\n\n        <div class=\"ant-form-item-explain\" [ngClass]=\"{'ant-form-item-explain-connected' : !showErr(field)}\">\n          <div class=\"ant-form-item-explain-error\">\n            <formly-validation-message [field]=\"field\"></formly-validation-message>\n          </div>\n        </div>\n    </nz-form-item>\n  `,\n  standalone: true,\n  imports: [\n    NzUploadModule,\n    NzButtonModule,\n    NzIconModule,\n    FormlyModule,\n    NgIf,\n    NzFormModule,\n    NgClass,\n    ReactiveFormsModule,\n    FormlyNgZorroAntdModule,\n    JsonPipe\n  ],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [\n    { provide: DefaultValueAccessor, useExisting: IcomLibsCoreComponentsFormlyUploadComponent },\n    { provide: NG_VALUE_ACCESSOR, useExisting: IcomLibsCoreComponentsFormlyUploadComponent, multi: true },\n    FormControlDirective\n  ]\n})\nexport class IcomLibsCoreComponentsFormlyUploadComponent extends FieldType implements OnInit {\n  protected fileList: NzUploadFile[] = [];\n  protected loading = false;\n  protected avatarUrl?: string;\n\n  private campaignService = inject(IComLibsServicesProjectCampaignV3Service);\n  private msg = inject(NzMessageService);\n  private cdr = inject(ChangeDetectorRef);\n\n  ngOnInit() {\n    if (this.formControl && (this.formControl as any)['defaultValue']) {\n      this.avatarUrl = (this.formControl as any)['defaultValue'];\n    }\n  }\n\n  protected async handleUploadChange(event: any) {\n    const formData = new FormData();\n    formData.append('image', event.file.originFileObj as File);\n    try {\n      this.loading = true;\n      const result: any = await lastValueFrom(this.campaignService?.uploadImage(formData));\n      this.formControl.setValue(result?.data?.path || '');\n      this.getBase64(event.file!.originFileObj!, (img: string) => {\n        this.loading = false;\n        this.avatarUrl = img;\n        this.cdr.detectChanges();\n      });\n\n    } catch (err) {\n    } finally {\n      this.loading = false;\n    }\n  }\n\n  protected showErr(field: FormlyFieldConfig) {\n    return field.formControl && field.formControl.invalid && field.formControl.touched;\n  }\n\n  beforeUpload = (file: NzUploadFile) => {\n    return new Observable((observer: Observer<boolean>) => {\n      const isJPG = file.type === 'image/png' || file.type === 'image/jpg' || file.type === 'image/jpeg';\n      if (!isJPG) {\n        this.msg.error('Hệ thống chỉ hỗ trợ định dạng file png, jpg, jpeg.');\n        observer.complete();\n        return;\n      }\n      const isLt2M = (file?.size  || 0) < this.props['size'];\n      if (!isLt2M) {\n        this.msg.error(`Hệ thống chỉ hỗ trợ file có dung lượng nhỏ hơn ${this.formatSize(this.props['size'] as number)}`);\n        observer.complete();\n        return;\n      }\n      this.checkImageDimension(file).then(dimensionRes => {\n        if (!dimensionRes) {\n          this.msg.error(`Hệ thống chỉ hỗ trợ file có kích thước nhỏ hơn ${this.props.width || 80} pixel X ${this.props.height || 80} pixel`);\n          observer.complete();\n          return;\n        }\n        observer.next(isJPG && isLt2M && dimensionRes);\n        observer.complete();\n      });\n    });\n  }\n\n  private getBase64(img: File, callback: (img: string) => void): void {\n    const reader = new FileReader();\n    reader.addEventListener('load', () => callback(reader.result!.toString()));\n    reader.readAsDataURL(img);\n  }\n\n  handleChange(info: { file: NzUploadFile }): void {\n    switch (info.file.status) {\n      case 'uploading':\n        this.loading = true;\n        break;\n      case 'done':\n        this.getBase64(info.file!.originFileObj!, (img: string) => {\n          this.loading = false;\n          this.avatarUrl = img;\n        });\n        break;\n      case 'error':\n        this.msg.error('Network error');\n        this.loading = false;\n        break;\n\n    }\n  }\n\n  private checkImageDimension(file: NzUploadFile | undefined): Promise<boolean> {\n    return new Promise(resolve => {\n      const img = new Image(); // create image\n      if (!file) {\n        return;\n      }\n      img.src = window.URL.createObjectURL(file as any);\n      img.onload = () => {  \n        const width = img.naturalWidth;\n        const height = img.naturalHeight;\n        window.URL.revokeObjectURL(img.src);\n        resolve((width <= (this.props.width || 80)) && (height <= (this.props.height || 80)));\n      };\n    });\n  }\n\n  private formatSize(sizeInBytes: number): string {\n    if (sizeInBytes < 1024) {\n        return `${sizeInBytes} B`;\n    } else if (sizeInBytes < 1024 * 1024) {\n        return `${(sizeInBytes / 1024).toFixed(2)} KB`;\n    } else {\n        return `${(sizeInBytes / (1024 * 1024)).toFixed(2)} MB`;\n    }\n}\n}","import { Component } from '@angular/core';\nimport { FieldWrapper } from '@ngx-formly/core';\nimport { NzSpaceModule } from 'ng-zorro-antd/space';\nimport { NzCardModule } from 'ng-zorro-antd/card';\nimport { NgIf } from '@angular/common';\n\n@Component({\n  selector: 'icom-libs-core-components-formly-wrapper_panel',\n  template: `\n    <nz-space nzDirection=\"vertical\" class=\"w-full\" [nzSize]=\"'small'\">\n      <nz-card  *nzSpaceItem [nzTitle]=\"props.label ? titleTemplate: ''\" [nzSize]=\"'small'\" class=\"custom-card\">\n        <ng-container #fieldComponent></ng-container>\n      </nz-card>\n\n      <ng-template #titleTemplate>\n        <span *ngIf=\"props.label\" class=\"font-bold text-sm\">{{ props.label }}</span>\n      </ng-template>\n    </nz-space>\n  `,\n  styles: [`\n    .custom-card {\n      border: 1px solid #d9d9d9; /* Màu border */\n      border-radius: 8px; /* Bo góc */\n      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Bóng đổ */\n    }\n  `],\n  standalone: true,\n  imports: [NzSpaceModule, NzCardModule, NgIf],\n})\nexport class IcomLibsCoreComponentsFormlyPanelWrapperComponent extends FieldWrapper {}\n","import { AbstractControl, FormArray, FormControl, FormGroup, ValidationErrors } from '@angular/forms';\nimport { FormlyFieldConfig } from '@ngx-formly/core';\n\nexport const EMAIL_REGEX =\n  '^(?=.{1,64}@)[A-Za-z0-9\\\\+_-]+(\\\\.[A-Za-z0-9\\\\+_-]+)*@[^-][A-Za-z0-9\\\\+-]+(\\\\.[A-Za-z0-9\\\\+-]+)*(\\\\.[A-Za-z]{2,})$';\n\nexport const PHONE_NUMBER_REGEX =\n  '^(\\\\+\\\\d{1,3}( )?)?((\\\\(\\\\d{3}\\\\))|\\\\d{3})[- .]?\\\\d{3}[- .]?\\\\d{4}$' +\n  '|^(\\\\+\\\\d{1,3}( )?)?(\\\\d{3}[ ]?){2}\\\\d{3}$' +\n  '|^(\\\\+\\\\d{1,3}( )?)?(\\\\d{3}[ ]?)(\\\\d{2}[ ]?){2}\\\\d{1}$';\n\nexport function EmailValidator(control: AbstractControl): ValidationErrors | null {\n  return !control?.value?.match(EMAIL_REGEX) ? { email: true } : null;\n}\n\nexport function PhoneNumberValidator(control: AbstractControl): ValidationErrors | null {\n  return !control?.value?.match(PHONE_NUMBER_REGEX) ? { phoneNumber: true } : null;\n}\n\nexport function MaxValidatorMessageValidator(control: AbstractControl): ValidationErrors | null {\n  return (control?.value < 5) ? null : { maxValidatorMessage: true };\n}\n\n\nexport function NumberIntMessageValidator(control: AbstractControl): ValidationErrors | null {\n  return (control?.value < 0) ? null : { maxValidatorMessage: true };\n}\n\n\n\nexport function MaxUploadFileSizerValidator(control: AbstractControl): ValidationErrors | null {\n  const file = control.value;\n  if (file) {\n    if (file.size > 1024 * 1024) { // 2MB\n      return { 'max-upload-file': true };\n    }\n  }\n  return null;\n}\n\nexport function TypeUploadFileSizerValidator(control: AbstractControl): ValidationErrors | null {\n  const file = control.value;\n  const fileType = file.type;\n  const acceptedFileTypes = ['application/vnd.ms-excel', 'text/csv']; // Excel and CSV MIME types\n\n  if (!acceptedFileTypes.includes(fileType || '')) {\n    return { 'type-upload-file': true };\n  }\n  return null;\n};\n\n\nexport const requiredValidationMessage = (err = {}, field: FormlyFieldConfig) => {\n  return `Please Enter ${field.templateOptions?.label || field.parent?.templateOptions?.label}`;\n};\n\nexport const emailValidationMessage = () => `Please Enter Valid Email`;\nexport const phoneNumberValidationMessage = () => `Please Enter Valid Phone Number`;\n\nexport const maxValidatorMessage = (maxError: { max: number; actual: number }) => {\n  return `Vui lòng nhập số nhỏ hơn ${maxError['max']}`;\n};\n\nexport const minValidatorMessage = (minError: { min: number; actual: number }) => {\n  return `Vui lòng nhập số lớn hơn ${minError['min']}`;\n};\n\nexport const maxUploadFileSize = (maxSize: { max: number; actual: number }) => {\n  return `Maximum value file is ${maxSize['max']}`;\n};\n\nexport const noWhitespaceMessage = () => {\n  return `Trường này là bắt buộc`;\n};\n\nexport const uniqueSelection = (name: string) => {\n  return `${name} không được trùng nhau.`;\n};\n\nexport const TypeUploadFileSizerMessage = (maxSize: { max: number; actual: number }) => {\n  return `Type Upload File Not Correct`;\n};\n\nexport const NumberIntMessage = (maxSize: { max: number; actual: number }) => {\n  return `Value min is 0`;\n};\n\nexport function fieldMatchValidator(control: AbstractControl): ValidationErrors | null {\n  const { type, value } = control.value;\n  if(type === 'PRODUCT_DISCOUNT_TYPE_PERCENT') {\n    return (value >= 0 && value < 100) ? null : { fieldMatch: { message: 'Require Value to 0 to 100' } };\n  }\n\n  if(type === \"PRODUCT_DISCOUNT_TYPE_VALUE\") {\n    return (value >= 0) ? null :{ fieldMatch: { message: 'Require Value more than 0' } };\n  }\n\n  return { maxValidatorMessage: true };\n};\n\n\nexport function noWhitespaceValidator(control: AbstractControl): ValidationErrors | null {\n  // Kiểm tra nếu trường không bắt buộc và giá trị là chuỗi rỗng hoặc chỉ chứa khoảng trắng\n  if (!control.value || (typeof control.value === 'string' && !control.value.trim().length)) {\n    // Trả về null nếu trường không bắt buộc và rỗng\n    return null;\n  }\n\n  // Trả về lỗi nếu giá trị chỉ chứa khoảng trắng\n  if (typeof control.value === 'string' && !control.value.trim().length) {\n    return { noWhitespaceMessage: true };\n  }\n\n  return null;\n}","import { Component, ChangeDetectionStrategy, ViewChild, Type, inject, ChangeDetectorRef } from '@angular/core';\nimport {\n  FieldType,\n  FieldTypeConfig,\n  FormlyFieldConfig,\n  FormlyModule,\n} from '@ngx-formly/core';\nimport {\n  FormlyFieldProps,\n  FormlyNzFormFieldModule,\n} from '@ngx-formly/ng-zorro-antd/form-field';\nimport {\n  FormlyFieldSelectProps,\n  FormlySelectModule,\n} from '@ngx-formly/core/select';\nimport { AsyncPipe, CommonModule, NgClass, NgIf } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { NzSelectModule } from 'ng-zorro-antd/select';\nimport { FormlyNgZorroAntdModule } from '@ngx-formly/ng-zorro-antd';\nimport { NzFormModule } from 'ng-zorro-antd/form';\nimport { NzInputModule } from 'ng-zorro-antd/input';\nimport { Observable, Subject, Subscription, debounceTime, distinctUntilChanged, isObservable, switchMap, take, takeUntil } from 'rxjs';\nimport { NzSelectComponent } from 'ng-zorro-antd/select';\nimport { NzButtonModule } from 'ng-zorro-antd/button';\nimport { NzSpinModule } from 'ng-zorro-antd/spin';\n\n@Component({\n  selector: 'formly-field-nz-select',\n  template: `\n    <div [class]=\"props.classInclude\" *ngIf=\"!to.readonly; else readonlyTemplate\">\n      <nz-select\n        class=\"max-w-md\"\n        [class.ng-dirty]=\"showError\"\n        [nzPlaceHolder]=\"'Chọn giá trị'\"\n        [formControl]=\"formControl\"\n        [formlyAttributes]=\"field\"\n        [nzServerSearch]=\"props.nzServerSearch || false\"\n        [nzShowSearch]=\"true\"\n        [nzMaxMultipleCount]=\"props?.maxMultiSelectItems || 999999\"\n        [nzAllowClear]=\"props.ignoreRemoveIcon ? false : true\"\n        [nzMode]=\"props.multiple ? 'multiple' : 'default'\"\n        (keydown.enter)=\"handleKeydown($event)\"\n        [nzDropdownRender]=\"renderTemplate\"\n        (nzScrollToBottom)=\"loadMore()\"\n        (nzOnSearch)=\"onSearch($event)\"\n        (ngModelChange)=\"props.change && props.change(field, $event)\">\n        <ng-container\n           *ngFor=\"let item of resolvedOptions\">\n          <nz-option\n            [nzValue]=\"$any(item)?.[props.valueProp || 'value']\"\n            [nzDisabled]=\"item.disabled\"\n            [nzLabel]=\"$any(item)?.[props.labelProp || 'label']\"\n          ></nz-option>\n        </ng-container>\n\n        <ng-template #renderTemplate>\n          <div *ngIf=\"isLoading\" class=\"loading-container absolute top-5 left-1/2\">\n            <nz-spin nzSize=\"large\"></nz-spin>\n          </div>\n      </ng-template>\n\n      </nz-select>\n      <button *ngIf=\"props.functionAddNew\" nz-button nzType=\"link\" class=\"add-new-button\" (click)=\"handleAddNew()\">\n        <span nz-icon nzType=\"plus\" nzTheme=\"outline\"></span> Thêm mới\n      </button>\n    </div>\n    \n    <ng-template #readonlyTemplate>\n      <span *ngIf=\"resolvedOptions && resolvedOptions?.length \">{{ getSelectedLabel(formControl.value) }}</span>\n    </ng-template>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: true,\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    NzSelectModule,\n    FormlyNzFormFieldModule,\n    FormlySelectModule,\n    FormsModule,\n    FormlyModule,\n    ReactiveFormsModule,\n    FormlyNgZorroAntdModule,\n    NzFormModule,\n    NgIf,\n    FormlyNgZorroAntdModule,\n    FormlyModule,\n    NgIf,\n    NzFormModule,\n    NgClass,\n    NzInputModule,\n    AsyncPipe,\n    NzButtonModule,\n    NzSpinModule\n  ],\n})\nexport class FormlyFieldSelect extends FieldType<FieldTypeConfig> {\n  resolvedOptions: any[] = [];\n  protected isLoading!: boolean;\n\n  protected pagination: any = {\n    limit: 15,\n    page: 1\n  };\n  searchChange$ = new Subject<any>();\n\n  protected keySearch!: string;\n  protected values!: string[];\n  private subscription?: Subscription;\n  private cdr = inject(ChangeDetectorRef);\n\n  @ViewChild(NzSelectComponent, { static: false }) nzSelectComponent!: NzSelectComponent;\n\n  handleKeydown(event: any): void {\n    if (event.key === 'Enter' && this.nzSelectComponent.nzOpen) {\n      event.preventDefault();\n    }\n  }\n\n  ngOnInit(): void {\n    this.searchChange$.pipe(\n      debounceTime(1000),\n      distinctUntilChanged(),\n      switchMap((term: string) => {\n        this.isLoading = true;\n        this.resolvedOptions = this.resolvedOptions?.map(option => ({ ...option, disabled: true }));\n        this.cdr.detectChanges();\n        this.keySearch = term;\n        return this.searchData(term);\n      })\n    ).subscribe((data: any) => {\n      this.isLoading = false;\n      this.resolvedOptions = data?.items;\n      this.pagination = data?.pagination;\n      this.cdr.detectChanges();\n    });\n\n    if (isObservable(this.field?.props?.options)) {\n      this.subscription = this.field?.props?.options?.pipe().subscribe(options => {\n        this.resolvedOptions = options;\n        this.props.emitList && this.props.emitList(this.resolvedOptions, this.field);\n        this.props?.functionCheckExist && this.props?.functionCheckExist(this.field, this.resolvedOptions);\n        this.cdr?.detectChanges();\n      });\n    } else {\n      this.resolvedOptions = this.field?.props?.options as any[];\n      this.props?.functionCheckExist && this.props?.functionCheckExist(this.field, this.resolvedOptions);\n      this.props.emitList && this.props.emitList(this.resolvedOptions, this.field);\n      this.cdr?.detectChanges();\n    }\n\n    // if (this.props.multiple && this.props.maxMultiSelectItems) {\n    //   this.formControl.valueChanges.pipe().subscribe(values => {\n    //     if (Array.isArray(values) && values.length > this.props.maxMultiSelectItems) {\n    //       // const trimmedValues = values.slice(values.length - this.props.maxMultiSelectItems);\n    //       // console.log(trimmedValues);\n    //       this.formControl.setValue(this.values, { emitEvent: false });\n\n    //       return;\n    //     }\n    //     this.values = values;\n    //   });\n    // }\n  \n  }\n\n  onSearch(searchText: string) {\n    if (!this.props.nzServerSearch) {\n      return;\n    }\n    this.searchChange$.next(searchText);\n  }\n\n  private searchData(term: string): Observable<any[]> {\n\n    return this.props.listOptionDropdown(1, { name: term });\n  }\n\n\n  ngOnDestroy(): void {\n    this.subscription?.unsubscribe();\n  }\n\n  getSelectedLabel(value: any | any[]): string {\n    if (!this.resolvedOptions || value == null) {\n      return 'Chưa có dữ liệu';\n    }\n\n    // Xử lý khi multi = true (value là mảng)\n    if (Array.isArray(value)) {\n      if (!value?.length) {\n        return 'Chưa có dữ liệu';\n      }\n      return value\n        .map(val => this.getLabelForValue(val))\n        .filter(label => label)\n        .join(', ');\n    }\n    return this.getLabelForValue(value);\n  }\n\n  private getLabelForValue(val: any): string {\n    const selectedOption = this.resolvedOptions.find(option => (option.id === val || option._id === val));\n    return selectedOption ? (selectedOption.value || selectedOption.title || selectedOption.name) : 'Chưa có dữ liệu';\n  }\n\n  loadMore(): void {\n    if (!this.props.nzServerSearch) {\n      return;\n    }\n    if (this.pagination.total_pages === this.pagination.page) {\n      return;\n    }\n    this.isLoading = true;\n    this.resolvedOptions = this.resolvedOptions?.map(option => ({ ...option, disabled: true }));\n    this.props.listOptionDropdown(this.pagination.page + 1, { search: this.keySearch }).subscribe((data: any) => {\n      this.isLoading = false;\n      this.resolvedOptions = [...this.resolvedOptions, ...data?.items];\n      this.resolvedOptions = this.resolvedOptions?.map(option => ({ ...option, disabled: false }));\n      this.pagination = data?.pagination;\n      this.cdr.detectChanges();\n    });\n  }\n\n  protected handleAddNew(): void {\n    if (this.props.functionAddNew) {\n      this.props.functionAddNew(this.field, () => {\n        this.ngOnInit();\n        this.cdr.detectChanges();\n      });\n    }\n  }\n\n}\n","import { NgFor } from '@angular/common';\nimport { Component } from '@angular/core';\nimport { FieldWrapper, FormlyModule } from '@ngx-formly/core';\n\n@Component({\n  selector: 'app-grid-wrapper',\n  template: `\n    <div class=\"grid-container\">\n      <div *ngFor=\"let field of field.fieldGroup; let i = index\" class=\"grid-item\">\n        <formly-field [field]=\"field\"></formly-field>\n      </div>\n    </div>\n  `,\n  styles: [`.grid-container {\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    gap: 10px;\n  }\n  \n  .grid-item {\n    padding: 10px;\n  }\n  `],\n  standalone: true,\n  imports: [\n    NgFor,\n    FormlyModule\n  ]\n})\nexport class GridWrapperComponent extends FieldWrapper { }\n","import { JsonPipe, NgFor, NgIf } from '@angular/common';\nimport { Component, OnInit } from '@angular/core';\nimport { ReactiveFormsModule, Validators } from '@angular/forms';\nimport { FieldArrayType, FormlyModule } from '@ngx-formly/core';\nimport { FormlyNgZorroAntdModule } from '@ngx-formly/ng-zorro-antd';\nimport { NzButtonModule } from 'ng-zorro-antd/button';\nimport { NzDatePickerModule } from 'ng-zorro-antd/date-picker';\nimport { NzFormModule } from 'ng-zorro-antd/form';\n\n@Component({\n  selector: 'formly-array-type',\n  template: `\n   <nz-form-item class=\"flex-col\" style=\"flex-direction: column; align-items: start\">\n   <nz-form-label *ngIf=\"props.label && props.required\" [nzRequired]=\"true\">{{ props.label }}</nz-form-label>\n      <nz-form-label *ngIf=\"props.label && !props.required\">{{ props.label }}</nz-form-label>\n      <div class=\"flex justify-start w-full\">\n        <!-- Chỉ hiển thị nút \"Thêm\" nếu không phải là readonly và không disabled -->\n        <button nz-button\n          *ngIf=\"!props.readonly && !options?.formState?.disabled\"\n          nzType=\"primary\"\n          (click)=\"add(undefined, undefined, { markAsDirty: true })\">\n          <span>{{ props.addText }}</span>\n        </button>\n      </div>\n\n      <div class=\"ant-form-item-explain-error\" *ngIf=\"showError && formControl.errors\">\n        <formly-validation-message [field]=\"field\"></formly-validation-message>\n      </div>\n\n      <div *ngFor=\"let field of field.fieldGroup; let i = index\" class=\"row align-items-start mt-2 w-full flex\">\n        <formly-field class=\"col w-full\" [field]=\"field\"></formly-field>\n        <!-- Chỉ hiển thị nút \"Xóa\" nếu không phải là readonly và không disabled -->\n        <div *ngIf=\"!props.readonly && field.props?.removable !== false && !field.hide\" class=\"col-2 ml-2 text-right\">\n          <button nz-button\n            [nzType]=\"'default'\" [nzDanger]=\"true\" \n            (click)=\"remove(i, { markAsDirty: true })\">\n            <span>{{ 'Xóa' }}</span>\n          </button>\n        </div>\n      </div>\n    </nz-form-item>\n  `,\n  standalone: true,\n  imports: [\n    NzDatePickerModule,\n    ReactiveFormsModule,\n    FormlyNgZorroAntdModule,\n    FormlyModule,\n    NgIf,\n    NgFor,\n    NzFormModule,\n    NzButtonModule,\n    JsonPipe\n  ],\n})\nexport class ArrayTypeComponent extends FieldArrayType implements OnInit {\n  ngOnInit() {\n    if (this.props.required) {\n      this.formControl.setValidators([Validators.required]);\n      this.formControl.updateValueAndValidity();\n    }\n  }\n}\n","import { NgIf, NgClass } from '@angular/common';\nimport { Component, OnInit } from '@angular/core';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { FieldType, FormlyModule } from '@ngx-formly/core';\nimport { FormlyNgZorroAntdModule } from '@ngx-formly/ng-zorro-antd';\nimport { NzCheckboxModule } from 'ng-zorro-antd/checkbox';\nimport { NzDatePickerModule } from 'ng-zorro-antd/date-picker';\nimport { NzFormModule } from 'ng-zorro-antd/form';\n@Component({\n  selector: 'formly-multi-checkbox-field',\n  template: `\n    <nz-form-item>\n       <nz-form-control>\n        <nz-checkbox-group\n          [nzDisabled]=\"to.disabled\"\n          [formControl]=\"$any(formControl)\"\n          [formlyAttributes]=\"field\"\n          [ngModel]=\"props.options\"\n          (ngModelChange)=\"to.change && to.change(field, $event?.[0]?.checked)\">\n        </nz-checkbox-group>\n      </nz-form-control>\n    </nz-form-item>\n  `,\n  standalone: true,\n  imports: [\n    NzCheckboxModule,\n    NzDatePickerModule,\n    ReactiveFormsModule,\n    FormlyNgZorroAntdModule,\n    NzFormModule,\n    NgIf,\n    FormlyModule,\n    NgIf,\n    NgClass\n  ]\n})\nexport class MultiCheckboxTypeComponent extends FieldType implements OnInit {\n\n  ngOnInit() {\n    this.props.options = (this.props.options as any[])?.map(option => ({\n      ...option,\n      disabled: this.props.disabled2,\n      checked: this.props.value2\n    }));\n    if (this.props.change) {\n      this.props.change(this.field, this.props.value2);\n    }\n  }\n}\n","import { NgClass, NgIf } from '@angular/common';\nimport { NzCollapseModule } from 'ng-zorro-antd/collapse';\nimport { Component, OnInit } from '@angular/core';\nimport { FieldWrapper, FormlyModule } from '@ngx-formly/core';\nimport { NzCheckboxModule } from 'ng-zorro-antd/checkbox';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { FormlyNgZorroAntdModule } from '@ngx-formly/ng-zorro-antd';\nimport { NzDatePickerModule } from 'ng-zorro-antd/date-picker';\nimport { NzFormModule } from 'ng-zorro-antd/form';\n\n@Component({\n  selector: 'formly-wrapper-collapse',\n  template: `\n    <nz-collapse *ngIf=\"props\" nzAccordion [nzExpandIconPosition]=\"'right'\">\n      <nz-collapse-panel\n        \n          [nzHeader]=\"headerTemplate\"\n          [nzActive]=\"true\"\n          [nzDisabled]=\"props.readonly\"\n          [nzShowArrow]=\"!props.readonly\">\n          <ng-template #headerTemplate let-field>\n            <label  class=\"text-sm font-semibold\" [nzDisabled]=\"props.readonly\" nz-checkbox [(ngModel)]=\"checked\" (click)=\"handlerClick($event)\" (nzCheckedChange)=\"handlerCheck($event)\">\n              {{ props.label }}\n            </label>\n\n            <i nz-icon nzType=\"caret-right\" class=\"panel-toggle-icon\"></i>\n          </ng-template>\n          <div *ngIf=\"hasContent()\">\n            <ng-container #fieldComponent></ng-container>\n          </div>\n      </nz-collapse-panel>\n    </nz-collapse>\n  `,\n  standalone: true,\n  imports: [NgIf, NzCollapseModule, NzCheckboxModule, FormsModule,\n    NzCheckboxModule,\n    NzDatePickerModule,\n    ReactiveFormsModule,\n    FormlyNgZorroAntdModule,\n    NzFormModule,\n    FormlyNgZorroAntdModule,\n    FormlyModule,\n    NgIf,\n    NzFormModule,\n    NgClass\n  ]\n})\nexport class CollapseWrapperComponent extends FieldWrapper implements OnInit {\n  protected checked!: boolean;\n\n  protected handlerClick(event: Event) {\n    event.stopPropagation();\n    event.preventDefault();\n  }\n\n  hasContent(): boolean {\n    return this.field.fieldGroup && this.field.fieldGroup.some(field => !field.hide) || true;\n  }\n\n  protected handlerCheck(checked: boolean) {\n    if (this.props.changeChecked) {\n      this.props.changeChecked(checked, this.field);\n      setTimeout(() => {\n        this.formControl.markAsTouched(); // Đánh dấu là đã \"chạm\" vào để trigger validation\n        this.options.detectChanges && this.options.detectChanges(this.field);\n      }, 100)\n\n    }\n  }\n\n  ngOnInit() {\n    if (this.props.setChecked) {\n      this.checked = this.props.setChecked(this.field);\n    }\n  }\n\n}\n\n","import { NgIf, NgClass } from '@angular/common';\nimport { Component, OnInit } from '@angular/core';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { FieldType, FormlyModule } from '@ngx-formly/core';\nimport { FormlyNgZorroAntdModule } from '@ngx-formly/ng-zorro-antd';\nimport { NzCheckboxModule } from 'ng-zorro-antd/checkbox';\nimport { NzDatePickerModule } from 'ng-zorro-antd/date-picker';\nimport { NzFormModule } from 'ng-zorro-antd/form';\nimport { NzInputModule } from 'ng-zorro-antd/input';\n\n@Component({\n  selector: 'formly-field-nz-color-picker',\n  template: `\n    <nz-form-item>\n      <nz-form-control [nzSm]=\"14\"  [nzXs]=\"24\" [nzErrorTip]=\"to.error\">\n        <input nz-input [formControl]=\"$any(formControl)\" [formlyAttributes]=\"field\" type=\"color\" />\n      </nz-form-control>\n    </nz-form-item>\n  `,\n  standalone: true,\n  imports : [\n    NzCheckboxModule,\n    NzDatePickerModule,\n    ReactiveFormsModule,\n    FormlyNgZorroAntdModule,\n    NzFormModule,\n    NgIf,\n    FormlyModule,\n    NgIf,\n    NzFormModule,\n    NzInputModule,\n    NgClass,\n  ]\n})\nexport class FormlyFieldColorPickerComponent extends FieldType implements OnInit {\n  ngOnInit() {\n    if (!this.formControl.value) {\n      this.formControl.setValue('#ffffff'); // Default color\n    }\n  }\n}\n","// nz-input-number.type.ts\nimport { NgIf, NgFor, NgClass, JsonPipe, DecimalPipe } from '@angular/common';\nimport { Component } from '@angular/core';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { FieldType, FormlyFieldConfig, FormlyModule } from '@ngx-formly/core';\nimport { FormlyNgZorroAntdModule } from '@ngx-formly/ng-zorro-antd';\nimport { NzButtonModule } from 'ng-zorro-antd/button';\nimport { NzDatePickerModule } from 'ng-zorro-antd/date-picker';\nimport { NzFormModule } from 'ng-zorro-antd/form';\nimport { NzInputNumberModule } from 'ng-zorro-antd/input-number';\n\n@Component({\n  selector: 'formly-field-nz-input-number',\n  template: `\n    <nz-form-item class=\"ant-form-item ant-row ant-form-item-required {{ to.className }}\">\n      <nz-form-label *ngIf=\"to.label\" [nzRequired]=\"to.required\">{{ to.label }}</nz-form-label>\n      <nz-form-control class=\"ant-form-item-control\">\n      <nz-input-number-group>\n        <nz-input-number *ngIf=\"!to.readonly; else readonlyTemplate\"\n          [ngClass]=\"{'!w-[120px]':  props.type === 'number'}\"\n          [formControl]=\"$any(formControl)\"\n          [formlyAttributes]=\"field\"\n          [nzMin]=\"1\"\n          [nzStep]=\"1\"\n          style=\"width: 100%\"\n          [nzPlaceHolder]=\"props.placeholder || 'Nhập số'\"\n          (keydown)=\"preventInput($event)\">\n        </nz-input-number>\n        <span *ngIf=\"to.addonText && !to.readonly\" class=\"input-addon\">{{ to.addonText }}</span>\n      </nz-input-number-group>\n      <ng-template #readonlyTemplate>\n        <span>{{ formControl.value | number : '1.0-2'   }}</span>\n        <span class=\"input-addon ml-4\">{{ to.addonText }}</span>\n      </ng-template>\n      <div class=\"ant-form-item-explain\" [ngClass]=\"{'ant-form-item-explain-connected' : !showErr(field)}\">\n        <div class=\"ant-form-item-explain-error\">\n          <formly-validation-message [field]=\"field\"></formly-validation-message>\n        </div>\n      </div>\n    </nz-form-control>\n    </nz-form-item>\n  `,\n  standalone: true,\n  styles: [`\n  .custom-input-container {\n    display: flex;\n    align-items: center;\n  }\n  .input-addon {\n    margin-left: 8px;\n  }\n`],\n  imports: [\n    NzDatePickerModule,\n    ReactiveFormsModule,\n    FormlyNgZorroAntdModule,\n    FormlyModule,\n    NgIf,\n    NgFor,\n    NzFormModule,\n    NzButtonModule,\n    NzInputNumberModule,\n    NgClass,\n    JsonPipe,\n    DecimalPipe\n  ],\n})\nexport class FormlyFieldNzInputNumber extends FieldType {\n\n  showErr(field: FormlyFieldConfig) {\n    return field.formControl && field.formControl.invalid && field.formControl.touched;\n  }\n\n  preventInput(event: KeyboardEvent) {\n    // Cho phép các phím điều hướng và điều khiển\n    const allowedKeys = ['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'Backspace', 'Tab', 'Delete', 'End', 'Home'];\n    if (event.key === 'Enter') {\n      // Nếu phím nhấn là Enter, ngăn chặn sự kiện\n      event.preventDefault();\n      return;\n    }\n\n    if (allowedKeys.includes(event.key)) {\n      return; // Cho phép các phím điều hướng và điều khiển\n    }\n  \n    const char = event.key;\n    const regex = /^[0-9]$/; // Chỉ cho phép số từ 0 đến 9\n  \n    if (!regex.test(char)) {\n      event.preventDefault(); // Ngăn chặn nhập ký tự không phải số\n    }\n  }\n}\n","<nz-form-item\n  class=\"ant-form-item ant-row ant-form-item-required {{ to.className }}\"\n>\n  <nz-form-label *ngIf=\"to.label\" [nzRequired]=\"to.required\">{{\n    to.label\n  }}</nz-form-label>\n  <nz-form-control class=\"ant-form-item-control\">\n    <nz-input-group nzPrefixIcon=\"search\">\n      <input\n        type=\"text\"\n        nz-input\n        [formControl]=\"$any(formControl)\"\n        [formlyAttributes]=\"field\"\n      />\n    </nz-input-group>\n\n    <div\n      class=\"ant-form-item-explain\"\n      [ngClass]=\"{ 'ant-form-item-explain-connected': !showErr(field) }\"\n    >\n      <div class=\"ant-form-item-explain-error\">\n        <formly-validation-message [field]=\"field\"></formly-validation-message>\n      </div>\n    </div>\n  </nz-form-control>\n</nz-form-item>\n","// search-input.type.ts\nimport { NgIf, NgClass } from '@angular/common';\nimport { ChangeDetectionStrategy, Component } from '@angular/core';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { FieldType, FormlyFieldConfig, FormlyModule } from '@ngx-formly/core';\nimport { FormlyNgZorroAntdModule } from '@ngx-formly/ng-zorro-antd';\nimport { NzCheckboxModule } from 'ng-zorro-antd/checkbox';\nimport { NzDatePickerModule } from 'ng-zorro-antd/date-picker';\nimport { NzFormModule } from 'ng-zorro-antd/form';\nimport { NzInputModule } from 'ng-zorro-antd/input';\n\n@Component({\n  selector: 'icon-libs-core-components-formly-input',\n  templateUrl: './input.component.html',\n  standalone: true,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  imports: [\n    NzCheckboxModule,\n    NzDatePickerModule,\n    ReactiveFormsModule,\n    FormlyNgZorroAntdModule,\n    NzFormModule,\n    NgIf,\n    FormlyNgZorroAntdModule,\n    FormlyModule,\n    NgIf,\n    NzFormModule,\n    NgClass,\n    NzInputModule\n  ]\n})\nexport class IcomLibsCoreComponentFormlyFieldSearchInput extends FieldType {\n\n  showErr(field: FormlyFieldConfig) {\n\t\treturn field.formControl && field.formControl.invalid && field.formControl.touched;\n\t}\n}\n","import { CommonModule } from '@angular/common';\nimport { Component, OnInit } from '@angular/core';\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\nimport { FieldWrapper, FormlyModule } from '@ngx-formly/core';\nimport { FormlySelectModule } from '@ngx-formly/core/select';\nimport { FormlyNzFormFieldModule } from '@ngx-formly/ng-zorro-antd/form-field';\nimport { NzSelectModule } from 'ng-zorro-antd/select';\n\n@Component({\n  selector: 'formly-wrapper-nz-select',\n  template: `\n    <nz-select\n      class=\"w-full\"\n      nzMode=\"tags\"\n      [formControl]=\"$any(formControl)\"\n      [formlyAttributes]=\"field\"\n      nzPlaceHolder=\"Nhập và ấn enter\"\n      (ngModelChange)=\"props.change && props.change(field, $event)\"\n    >\n      <!-- <nz-option *ngFor=\"let option of props.options | async\" [nzValue]=\"option.value\" [nzLabel]=\"option.label\">\n      </nz-option> -->\n    </nz-select>\n  `,\n  standalone: true,\n  imports: [\n    NzSelectModule,\n    CommonModule,\n    ReactiveFormsModule,\n    NzSelectModule,\n    FormlyNzFormFieldModule,\n    FormlySelectModule,\n    FormsModule,\n    FormlyModule\n  ]\n})\nexport class FormlyWrapperNzSelectTagsComponent extends FieldWrapper implements OnInit {\n  ngOnInit() {\n    // Đảm bảo rằng model là một mảng để nz-select có thể hiển thị tags\n    if (!Array.isArray(this.formControl.value)) {\n      this.formControl.setValue([]);\n    }\n  }\n\n  onChange(values: any[]): void {\n    // Cập nhật giá trị của form control khi có sự thay đổi\n    this.formControl.setValue(values);\n  }\n}\n","import { Inject, Injectable } from \"@angular/core\";\nimport { cloneDeep } from \"lodash\";\n\nexport class PaginationService {\n  private pageSize: number = 10;\n  private items: any[] = [];\n  private currentPage: number = 1;\n  private totalPages: number;\n\n  constructor() {\n    this.totalPages = this.calculateTotalPages();\n  }\n\n  public getCurrentPageItems(): any[] {\n    const startIndex = (this.currentPage - 1) * this.pageSize;\n    return this.items?.slice(startIndex < 0 ? 0 : startIndex, (startIndex + this.pageSize) || 10) ;\n  }\n\n  public getTotalPages(): number {\n    return this.totalPages;\n  }\n\n  public setItems(data: any) {\n    this.items.splice(0, this.items.length);\n    this.items.push(...data);\n  }\n\n  public resetItems() {\n    this.items.length = 0;\n  }\n\n  public getItems() {\n    return this.items;\n  }\n\n  public addItem(item: any): void {\n    this.items?.unshift(item);\n  }\n\n  public removeItem(item: any): void {\n    const index = this.items?.findIndex((existingItem) => (existingItem.id && item.id) ? (existingItem.id === item.id) : (existingItem.product_id === item.product_id));\n    if (index > -1) {\n      this.items?.splice(index, 1);\n      this.recalculatePagination();\n    }\n  }\n\n  itemExists(item: any): boolean {\n    return this.items?.some((existingItem) => (existingItem.id && item.id) ? (existingItem.id === item.id) : (existingItem.product_id === item.product_id));\n  }\n\n  findPageIndex(item: any): number {\n    const index = this.items?.findIndex(existingItem => existingItem.id === item.id);\n    return Math.floor(index / this.pageSize);\n  }\n\n  public setCurrentPage(page: number): void {\n    if (page >= 1 && page <= this.totalPages) {\n      this.currentPage = page;\n    }\n  }\n\n  public getCurrentPage() {\n    return this.currentPage;\n  }\n\n  private calculateTotalPages(): number {\n    return Math.ceil(this.items?.length / this.pageSize);\n  }\n\n  public recalculatePagination(): void {\n    this.totalPages = this.calculateTotalPages();\n    if (this.currentPage > this.totalPages) {\n      this.currentPage = this.totalPages;\n    }\n  }\n}\n","import { NgIf } from '@angular/common';\nimport { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { FormControl, Validators } from '@angular/forms';\nimport { NzInputModule } from 'ng-zorro-antd/input';\nimport { NzInputNumberModule } from 'ng-zorro-antd/input-number';\nimport { distinctUntilChanged } from 'rxjs';\n\n@Component({\n  selector: 'app-table-input',\n  template: `\n    <ng-container *ngIf=\"!readonly; else readonlyTemplate\">\n      <ng-container *ngIf=\"type === 'number'; else textInput\">\n        <nz-input-number\n          class=\"!w-full\"\n          [formControl]=\"inputControl\"\n          [nzPlaceHolder]=\"placeholder || 'Nhập số'\"\n          [nzFormatter]=\"numberFormatter\"\n          [nzParser]=\"numberParser\"\n          (keydown)=\"preventInput($event)\">\n        </nz-input-number>\n      </ng-container>\n      <ng-template #textInput>\n        <input\n          nz-input\n          [formControl]=\"inputControl\"\n          [type]=\"type\"\n          [placeholder]=\"placeholder || 'Nhập số'\" />\n      </ng-template>\n      <div *ngIf=\"inputControl?.invalid && (inputControl?.dirty || inputControl?.touched)\" class=\"mt-1\">\n        <small class=\"text-red-600 text-xs\" *ngIf=\"inputControl.errors?.['required']\">Trường này là bắt buộc</small>\n        <small class=\"text-red-600 text-xs\" *ngIf=\"inputControl.errors?.['min']\">Giá trị tối thiểu là {{ min }}</small>\n        <small class=\"text-red-600 text-xs\" *ngIf=\"inputControl.errors?.['max']\">Giá trị tối đa là {{ max }}</small>\n      </div>\n    </ng-container>\n    <ng-template #readonlyTemplate>\n      <span>{{ value || '' }}</span>\n    </ng-template>\n  `,\n  styles: [],\n  standalone: true,\n  imports: [\n    NzInputModule,\n    NzInputNumberModule,\n    ReactiveFormsModule,\n    NgIf\n  ]\n})\nexport class TableInputComponent implements OnInit {\n  protected inputControl!: FormControl;\n\n  @Input() type: 'text' | 'number' = 'number';\n  @Input() value: any;\n  @Input() readonly!: boolean | undefined;\n  @Input() placeholder: string = '';\n  @Input() required: boolean = false;\n  @Input() max: number | undefined;\n  @Input() min: number | undefined;\n  @Input() dataRow: any;\n  @Input() props: any;\n\n  @Output() valueChange = new EventEmitter<number>();\n\n  ngOnInit() {\n    const validators: any[] = [];\n    if (this.required) validators.push(Validators.required);\n    if (this.min !== undefined) validators.push(Validators.min(this.min || 1));\n    if (this.max !== undefined) validators.push(Validators.max(this.max || 99999999));\n  \n    // Tạo FormControl với giá trị ban đầu đã được format\n    this.inputControl = new FormControl((this.parseNumber(this.value)), validators);\n  \n    this.inputControl.valueChanges.pipe(distinctUntilChanged()).subscribe(value => {\n      const numericValue = this.parseNumber(value);\n      // Cập nhật lại giá trị cho FormControl với giá trị đã format, nhưng không phát sinh sự kiện valueChanges mới\n      this.inputControl.updateValueAndValidity();\n\n      // this.inputControl.setValue(this.numberFormatter(numericValue), { emitEvent: false });\n      // Phát sinh sự kiện valueChange với giá trị số (không có dấu phẩy)\n      this.valueChange.emit(numericValue);\n    });\n  \n    this.props && this.props.functionCheckReadonly && (this.readonly = this.props.functionCheckReadonly(this.dataRow));\n  }\n  \n  \n  save() {\n    this.inputControl.markAsTouched();\n    return { valid: !this.readonly ? this.inputControl.valid : true, dataRow: this.dataRow };\n  }\n\n  numberFormatter(value: number): string {\n    // Chuyển đổi giá trị số thành định dạng có dấu phẩy ngăn cách hàng nghìn\n    return value.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n  }\n\n  numberParser(value: string): string {\n    return value.replace(/,/g, '');\n  }\n\n  parseNumber(value: string): any {\n    // Loại bỏ dấu phẩy và chuyển đổi sang số\n    return value && parseInt(value.toString().replace(/,/g, ''), 10) || '';\n  }\n\n  preventInput(event: KeyboardEvent) {\n\n    // Cho phép các phím điều hướng và điều khiển\n    const allowedKeys = ['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'Backspace', 'Tab', 'Delete', 'End', 'Home'];\n    if (event.key === 'Enter') {\n      // Nếu phím nhấn là Enter, ngăn chặn sự kiện\n      event.preventDefault();\n      return;\n    }\n \n    if (allowedKeys.includes(event.key)) {\n      return; // Cho phép các phím điều hướng và điều khiển\n    }\n  \n    if (this.inputControl?.value?.toString()?.length > 16) {\n      // Nếu phím nhấn là Enter, ngăn chặn sự kiện\n      event.preventDefault();\n      return;\n    }\n\n    \n    const char = event.key;\n    const regex = /^[0-9]$/; // Chỉ cho phép số từ 0 đến 9\n  \n    if (!regex.test(char)) {\n      event.preventDefault(); // Ngăn chặn nhập ký tự không phải số\n    }\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { Component, EventEmitter, Input, OnChanges, OnInit, Output } from '@angular/core';\nimport { FormControl, ReactiveFormsModule, Validators } from '@angular/forms';\nimport { NzSelectModule } from 'ng-zorro-antd/select';\nimport { Observable, distinctUntilChanged, take } from 'rxjs';\n\n@Component({\n  selector: 'app-table-select-multi',\n  template: `\n    <ng-container *ngIf=\"!readonly; else readonlyTemplate\">\n      <nz-select\n        class=\"w-full\"\n        \n        nzMode=\"multiple\"\n        [formControl]=\"selectControl\"\n        [nzPlaceHolder]=\"placeholder || 'Chọn nhóm'\"\n        [nzNotFoundContent]=\"'Không tìm thấy dữ liệu'\"\n      >\n        <nz-option\n          *ngFor=\"let item of options | async\"\n          [nzValue]=\"item.id || item?._id\"\n          [nzLabel]=\"item.name\"\n        ></nz-option>\n      </nz-select>\n    </ng-container>\n    <ng-template #readonlyTemplate>\n      <ul class=\"list-disc pl-5\">\n        <li *ngFor=\"let item of selectedOptions\">{{ item.name }}</li>\n      </ul>\n    </ng-template>\n  `,\n  styles: [],\n  standalone: true,\n  imports: [CommonModule, ReactiveFormsModule, NzSelectModule],\n})\nexport class TableSelectMultiComponent implements OnInit {\n  @Input() options!: Observable<any[]>;\n  @Input() value!: any[];\n  @Input() placeholder: string | undefined;\n  @Input() readonly!: boolean | undefined;\n  @Input() required: boolean = false;\n\n  @Output() valueChange = new EventEmitter<any[]>();\n\n  selectControl!: FormControl;\n  selectedOptions: { id: any, name: string }[] = [];\n\n  constructor() {\n\n  }\n\n  ngOnInit() {\n    this.selectControl = new FormControl(this.value);\n    this.selectControl?.valueChanges?.pipe(distinctUntilChanged()).subscribe(value => {\n      this.valueChange.emit(value);\n      this.selectControl.updateValueAndValidity();\n    });\n  }\n\n  ngOnChanges(): void {\n    if (this.options) {\n      this.options.subscribe(options => {\n        this.selectedOptions = options.filter(option => this.value.includes(option.id));\n      });\n    }\n  }\n\n  save() {\n    this.selectControl.markAsTouched();\n    return this.selectControl.valid;\n  }\n\n}\n","import { Component, EventEmitter, Output, inject } from '@angular/core';\nimport { NzIconModule } from 'ng-zorro-antd/icon';\nimport { NzMessageService } from 'ng-zorro-antd/message';\nimport { NzUploadFile, NzUploadModule } from 'ng-zorro-antd/upload';\nimport { NgIf } from '@angular/common';\nimport { NzAlertModule } from 'ng-zorro-antd/alert';\nimport { IComMessageService } from '../../../../services/common/index';\nimport { IComLibsServicesProjectFlashSaleService } from '../../../../services/projects/flash-sale/flash-sale.service';\nimport { map } from 'rxjs';\nimport { uploadFile } from '../../../../defines/static.define';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport { environment } from '../../../../environments/environment';\nimport { NZ_MODAL_DATA } from 'ng-zorro-antd/modal';\n@Component({\n  selector: 'app-import-modal-content',\n  template: `\n  <span class=\"text-xs\">\n    (Tải về file mẫu:\n    <a nz-button nzType=\"link\" (click)=\"handlerDownloadFile($event)\">Excel file</a>):\n  </span>\n    <nz-alert\n      class=\"text-xs\"\n      nzType=\"warning\"\n      nzBanner\n      [nzShowIcon]=\"false\"\n      nzMessage=\"Lưu ý\"\n      nzDescription=\"Hệ thống cho phép nhập tối đa 100 voucher mỗi lần từ file\">\n    </nz-alert>\n\n    <nz-upload\n      nzAction=\"URL_TO_UPLOAD_ENDPOINT\"\n      [(nzFileList)]=\"fileList\"\n      [nzBeforeUpload]=\"beforeUpload\"\n      (nzChange)=\"handleChange($event)\"\n      nzListType=\"text\"\n      [nzShowUploadList]=\"{ showRemoveIcon: true }\">\n      <button nz-button>\n        <i nz-icon nzType=\"upload\"></i><span class=\"ml-2\">Chọn file dữ liệu</span>\n      </button>\n    </nz-upload>\n   \n  `,\n  standalone: true,\n  imports: [\n    NzUploadModule,\n    NgIf,\n    NzIconModule,\n    NzAlertModule\n  ]\n})\nexport class ImportModalContentComponent {\n  fileList: NzUploadFile[] = [];\n  isLoading!: boolean;\n\n  @Output() onSave: EventEmitter<any> = new EventEmitter<any>();\n\n  protected IComMessageService = inject(IComMessageService);\n  protected IComMessageFlashSaleService = inject(IComLibsServicesProjectFlashSaleService);\n  public readonly nzModalData = inject(NZ_MODAL_DATA);\n\n  constructor(private msg: NzMessageService) {}\n\n  beforeUpload = (file: NzUploadFile, fileList: NzUploadFile[]): boolean => {\n    // Tạo một đối tượng file mới với trạng thái \"uploading\"\n    // const newFile: NzUploadFile = {\n    //   ...file,\n    //   // status: 'uploading',\n    //   // Tùy chỉnh thêm các thông tin khác nếu cần\n    // };\n\n    // Thêm file mới vào danh sách file\n    this.fileList = fileList;\n    return false; // Ngăn chặn việc tự động upload\n  };\n\n  handleChange(info: { file: any; fileList: any }): void {\n    if (info.file.status === 'removed') {\n      // Handle removed file\n    }\n  }\n\n  handlerDownloadFile(e: Event) {\n    e.stopPropagation();\n    e.preventDefault();\n    uploadFile(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/flashsale/voucher/examfile`, 'MauFileImportSanPham', this.IComMessageService, undefined, true);\n  }\n\n\n  handleImport() {\n    this.isLoading = true;\n    const formData = new FormData();\n    formData.append('excel', this.fileList[0] as any);\n  \n    // Lặp qua các khóa của nzModalData và append vào formData\n    if (this.nzModalData) {\n      for (const key in this.nzModalData) {\n        if (this.nzModalData[key]) { // Kiểm tra nếu giá trị không phải là null hoặc undefined\n          formData.append(key, this.nzModalData[key]);\n        }\n      }\n    }\n  \n    this.IComMessageFlashSaleService.uploadVoucher(formData).subscribe({\n      next: (res) => {\n        this.onSave.emit(res.data?.data);\n        this.isLoading = false;\n      },\n      error: (err) => {\n        this.IComMessageService.showAlertMessageError((err as HttpErrorResponse)?.error?.error_message);\n        this.isLoading = false;\n        this.onSave.emit(false);\n      },\n    });\n  }\n}\n","import { PipeTransform } from \"@angular/core\";\nimport { FormArray, FormControl, FormGroup } from \"@angular/forms\";\nimport * as dayjs from 'dayjs';\n\nexport const formatDatePipe = (): PipeTransform => {\n  return {\n    transform(time: string) {\n      if (!time) {\n        return '-';\n      }\n      return dayjs(time).format('DD/MM/YYYY HH:mm');\n    },\n  }\n}\n\nexport const defaultValuePipe = (): PipeTransform => {\n  return {\n    transform(value: string) {\n      if (!value) {\n        return '-';\n      }\n      return value;\n    },\n  }\n}\n\nexport const parseDateRangeToTwoKey = (data: any, keys?: string, format?: string) => {\n  let keysParse = ['start_time', 'end_time'];\n  if (keys) {\n    keysParse = keys.split(',');\n  }\n  const [keyStart, keyEnd] = keysParse;\n  if (!data.date_range || !data.date_range.length) {\n    return;\n  }\n  const dataRange = data.date_range;\n  const [start, end] = dataRange;\n  if (start instanceof String && end instanceof String) {\n    return;\n  }\n\n  const obj = {\n    [keyStart]: dayjs(start),\n    [keyEnd]: dayjs(end)\n  };\n  data[keyStart] = obj[keyStart];\n  data[keyEnd] = obj[keyEnd];\n  delete data.date_range;\n}\n\nexport const parseDateRangeDayMonthYearToTwoKey = (data: any, keys?: string, format?: string) => {\n  let keysParse = ['start_time', 'end_time'];\n  if (keys) {\n    keysParse = keys.split(',');\n  }\n  const [keyStart, keyEnd] = keysParse;\n  if (!data.date_range || !data.date_range.length) {\n    return;\n  }\n  const dataRange = data.date_range;\n  const [start, end] = dataRange;\n  if (start instanceof String && end instanceof String) {\n    return;\n  }\n\n  const obj = {\n    [keyStart]: dayjs(start).format('YYYY-MM-DDT00:00:00') + 'Z',\n    [keyEnd]: dayjs(end).format('YYYY-MM-DDT00:00:00') + 'Z'\n  };\n  data[keyStart] = obj[keyStart];\n  data[keyEnd] = obj[keyEnd];\n  delete data.date_range;\n}\n\n\nexport const formatNumber = (value: string | number): string => {\n\n  // if (lang === LANGUAGE.EN) {\n  //   return `${value}`.replace(/[,]/g, '');\n  // }\n\n  return `${value}`.replace(/[.]/g, '').replace(/[,]/g, '.');\n};\n\nexport const mergeObjects = (obj1: any, obj2: any) => {\n  for (const key in obj1) {\n    // if (obj2.hasOwnProperty(key)) {\n    //   if (obj1.hasOwnProperty(key)) {\n    obj2[key] = obj1[key];\n    // } else {\n    //   obj1[key] = obj2[key];\n    // }\n    // }\n  }\n}\n\nexport const markFormGroupTouched = (formGroup: FormGroup) => {\n  Object.values(formGroup.controls).forEach(control => {\n    control.markAsTouched();\n\n    if (control instanceof FormGroup) {\n      markFormGroupTouched(control);\n    } else if (control instanceof FormArray) {\n      (control as any).controls.forEach((c: any) => {\n        if (c instanceof FormGroup) {\n          markFormGroupTouched(c);\n        } else if (c instanceof FormControl) {\n          c.markAsTouched();\n        }\n      });\n    }\n  });\n}\n\nexport const uploadFile = (request: string, file_name: string, IComMessageService: any, data?: any, keepFileName?: boolean) => {\n  const xhr = new XMLHttpRequest();\n\n  xhr.open('POST', request, true);\n  xhr.responseType = 'blob';\n  let token = localStorage?.getItem('token');\n  while(token?.includes('\"')){\n    token = token?.replace('\"', \"\");\n }\n  xhr.setRequestHeader(\"Authorization\", `Bearer ${token}`);\n  xhr.onload = () => {\n    if (xhr.status === 200) {\n      const blob = new Blob([xhr.response], { type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' });\n      const downloadUrl = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      const contentDisposition = xhr.getResponseHeader('Content-Disposition');\n      let dateString = '';\n      if(!keepFileName) {\n        const currentDate = new Date();\n        dateString = `${currentDate.getDate()}_${currentDate.getMonth() + 1}_${currentDate.getFullYear()}`;\n      }\n      let filename = `${file_name}_${dateString}`;\n      if (contentDisposition) {\n        const filenameRegex = /filename[^;=\\n]*=((['\"]).*?\\2|[^;\\n]*)/;\n        const matches = filenameRegex.exec(contentDisposition);\n        if (matches != null && matches[1]) {\n          filename = matches[1].replace(/['\"]/g, '');\n        }\n      }\n\n      a.href = downloadUrl;\n      a.download = filename;  // Tên tệp xuất\n      document.body.appendChild(a);\n      a.click();\n\n      URL.revokeObjectURL(downloadUrl);\n      document.body.removeChild(a);\n      IComMessageService.showAlertMessageDone('Tải file thành công.');\n    } else {\n      IComMessageService.showAlertMessageDone('Tải file thất bại.');\n    }\n  };\n\n  xhr.onerror = function () {\n    console.error('Request error');\n  };\n\n  xhr.setRequestHeader('Content-Type', 'application/json');\n  data && parseDateRangeDayMonthYearToTwoKey(data);\n  xhr.send(JSON.stringify(data));\n}","import { Directive, ElementRef, HostListener, Input, Renderer2 } from '@angular/core';\n\n@Directive({\n  selector: '[appShowTooltipOnOverflow]',\n  standalone: true\n})\nexport class ShowTooltipOnOverflowDirective {\n  @Input() text!: string; \n  \n  constructor(private el: ElementRef, private renderer: Renderer2) {}\n\n  @HostListener('mouseenter') onMouseEnter() {\n    const el: HTMLElement = this.el.nativeElement;\n    if (el.offsetWidth < el.scrollWidth) {\n      this.renderer.setAttribute(el, 'nz-tooltip', 'true');\n    } else {\n      this.renderer.removeAttribute(el, 'nz-tooltip');\n    }\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'formatValue',\n  standalone: true\n})\nexport class FormatValuePipe implements PipeTransform {\n\n  transform(value: any, ...args: any[]): any {\n    if (value === null || value === undefined) {\n      return '–'; // Ký tự đặc biệt (gạch ngang)\n    }\n\n    if (typeof value === 'number') {\n      return new Intl.NumberFormat().format(value); // Sử dụng NumberFormat để định dạng số\n    }\n\n    return value; // Trả về giá trị không thay đổi nếu không phải số hoặc null/undefined\n  }\n}\n","<div class=\"flex items-center w-full h-full flex-col pt-4\">\n  <nz-select\n    *ngIf=\"!props?.readonly\"\n    style=\"width: 500px\"\n    [nzServerSearch]=\"props?.nzServerSearch\"\n    [nzShowSearch]=\"true\"\n    [(ngModel)]=\"selectedValue\"\n    [nzPlaceHolder]=\"to.placeholder || ''\"\n    (ngModelChange)=\"handlerSelectChange($event)\"\n    (nzScrollToBottom)=\"loadMore()\"\n    nzAllowClear\n    [nzMaxMultipleCount]=\"5\"\n    [nzOptionHeightPx]=\"props.nzOptionHeightPx || 32\"\n    [nzDropdownMatchSelectWidth]=\"false\"\n    [nzDropdownStyle]=\"{ 'max-height.px': $any(props?.nzOptionHeightPx * 5 || 32 * 5) , 'overflow-y': 'auto' }\"\n    [nzDropdownRender]=\"renderTemplate\"\n    (nzOnSearch)=\"onSearch($event)\"\n    (nzOpenChange)=\"onSelectOpenChange($event)\"\n  >\n    <ng-template #renderTemplate>\n      <div *ngIf=\"isLoading\" class=\"loading-container absolute top-5 left-1/2\">\n        <nz-spin nzSize=\"large\"></nz-spin>\n      </div>\n    </ng-template>\n\n    <ng-container *ngIf=\"props?.customOption\">\n      <nz-option\n        *ngFor=\"let option of optionList\"\n        [nzValue]=\"option.id\"\n        [nzDisabled]=\"option.disabled\"\n        appShowTooltipOnOverflow\n        nzCustomContent\n      >\n        <div>\n          <div class=\"option-content flex items-center\">\n            <div class=\"option-image mr-2\">\n              <img\n                nz-image\n                [nzSrc]=\"\n                  option?.medias?.[0]?.url ||\n                  'data:image/png;base64,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'\n                \"\n                (error)=\"onImageError($event)\"\n                (click)=\"$event.preventDefault()\"\n                alt=\"Voucher Image\"\n                class=\"h-12 w-12 object-cover pointer-events-none\"\n              />\n            </div>\n            <div\n              class=\"flex flex-col justify-between h-full w-full overflow-hidden\"\n            >\n              <div class=\"voucher-info\">\n                <div\n                  class=\"overflow-hidden text-ellipsis whitespace-nowrap\"\n                  appShowTooltipOnOverflow\n                  nz-tooltip\n                  [nzTooltipTitle]=\"option.name\"\n                >\n                  {{ option?.name || '-' }}\n                </div>\n                <div class=\"voucher-details text-sm\">\n                  <div class=\"flex justify-between\">\n                    <span>ID: {{ option.id }}</span>\n                  </div>\n\n                  <div class=\"flex justify-between\">\n                    <span\n                      >Tồn:\n                      {{\n                        option?.quantity_available_by_gen_code_type\n                          | formatValue\n                      }}</span\n                    >\n                    <div></div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </nz-option>\n    </ng-container>\n    <ng-container *ngIf=\"!props?.customOption\">\n      <nz-option\n        *ngFor=\"let option of optionList\"\n        [nzValue]=\"option.id\"\n        [nzLabel]=\"option.value || option.name || option.title\"\n      ></nz-option>\n    </ng-container>\n  </nz-select>\n\n  <div\n    *ngIf=\"props?.import && !props?.readonly\"\n    class=\"w-full justify-end flex my-2\"\n  >\n    <button nz-button [nzType]=\"'primary'\" (click)=\"openImportModal($event)\">\n      <span nz-icon nzType=\"plus\" nzTheme=\"outline\"></span>\n      Nhập file excel\n    </button>\n  </div>\n\n  <div class=\"w-full h-full mt-4 overflow-hidden\">\n    <nz-table\n      [nzFrontPagination]=\"false\"\n      [nzPageSize]=\"10\"\n      class=\"mt-2 w-full\"\n      #nzTable\n      [nzBordered]=\"true\"\n      [nzNoResult]=\"noResultTemplate\"\n      [nzData]=\"pagedItems\"\n      [nzTableLayout]=\"'fixed'\"\n    >\n      <thead>\n        <tr>\n          <ng-container *ngFor=\"let col of props.columns\">\n            <th\n              [nzWidth]=\"col.width\"\n              [hidden]=\"col.hiddenWhenReadonly && props.readonly\"\n              class=\"text-xs font-semibold\"\n            >\n              {{ col.name }}\n            </th>\n          </ng-container>\n        </tr>\n      </thead>\n      <tbody cdkDropList (cdkDropListDropped)=\"drop($event)\">\n        <tr\n          #tableRow\n          id=\"row-{{ data.id || data.product_id }}\"\n          *ngFor=\"let data of pagedItems; let i = index\"\n          cdkDrag\n        >\n          <ng-container *ngFor=\"let col of props.columns\">\n            <td\n              [hidden]=\"col.hiddenWhenReadonly && props.readonly\"\n              class=\"text-xs overflow-hidden text-ellipsis !p-3\"\n            >\n              <ng-container [ngSwitch]=\"col.type\">\n                <ng-container *ngSwitchCase=\"'index'\">\n                  <i\n                    *ngIf=\"!props?.readonly\"\n                    nz-icon\n                    class=\"cursor-pointer\"\n                    nzType=\"menu\"\n                    cdkDragHandle\n                  ></i>\n                  <span *ngIf=\"props?.readonly\">{{ i + 1 }}</span>\n                </ng-container>\n                <ng-container *ngSwitchCase=\"'stt'\">\n                  <span>{{ i + 1 }}</span>\n                </ng-container>\n                <div\n                  *ngSwitchCase=\"'text'\"\n                  class=\"overflow-hidden text-ellipsis whitespace-nowrap\"\n                  nz-tooltip\n                  [nzTooltipTitle]=\"data[col.field]\"\n                >\n                  <ng-container\n                    *ngIf=\"\n                      data[col.field] === null || data[col.field] === undefined;\n                      else notNullValue\n                    \"\n                  >\n                    <span>-</span>\n                  </ng-container>\n                  <ng-template #notNullValue>\n                    <span\n                      *ngIf=\"\n                        isNumber(data[col.field]) && !col?.ignoreParseNumber\n                      \"\n                      >{{ data[col.field] | formatValue }}</span\n                    >\n                    <span\n                      *ngIf=\"\n                        isNumber(data[col.field]) && col?.ignoreParseNumber\n                      \"\n                      >{{ data[col.field] }}</span\n                    >\n                    <span *ngIf=\"isString(data[col.field])\">{{\n                      data[col.field]\n                    }}</span>\n                  </ng-template>\n                </div>\n\n                <div *ngSwitchCase=\"'text-link'\">\n                  <a\n                    *ngIf=\"col?.props?.clickAction\"\n                    nz-button\n                    [nzSize]=\"'default'\"\n                    nzType=\"link\"\n                    (click)=\"col?.props?.clickAction(data)\"\n                  >\n                    <ng-container\n                      *ngIf=\"\n                        data[col.field] === null ||\n                          data[col.field] === undefined;\n                        else notNullValue\n                      \"\n                    >\n                      <span>-</span>\n                    </ng-container>\n                    <ng-template #notNullValue>\n                      <span *ngIf=\"isNumber(data[col.field])\">{{\n                        data[col.field] | formatValue\n                      }}</span>\n                      <span *ngIf=\"isString(data[col.field])\">{{\n                        data[col.field]\n                      }}</span>\n                    </ng-template>\n                  </a>\n                </div>\n\n                <ng-container *ngSwitchCase=\"'input'\">\n                  <app-table-input\n                    #templates\n                    class=\"w-full\"\n                    [type]=\"col.inputType\"\n                    [value]=\"data[col.field] || ''\"\n                    [readonly]=\"props.readonly\"\n                    [placeholder]=\"col.placeholder\"\n                    [required]=\"col.required\"\n                    [max]=\"col.max\"\n                    [min]=\"col.min\"\n                    [dataRow]=\"data\"\n                    [props]=\"col?.props\"\n                    (valueChange)=\"handlerChange($event, data, col.field)\"\n                  >\n                  </app-table-input>\n                </ng-container>\n                <ng-container *ngSwitchCase=\"'multi-select'\">\n                  <app-table-select-multi\n                    class=\"w-full\"\n                    [options]=\"col.options\"\n                    [value]=\"data[col.field]\"\n                    [readonly]=\"props.readonly\"\n                    [placeholder]=\"col.placeholder\"\n                    (valueChange)=\"handlerChange($event, data, col.field)\"\n                  >\n                  </app-table-select-multi>\n                </ng-container>\n                <ng-container *ngSwitchCase=\"'action'\">\n                  <button\n                    *ngIf=\"!props?.readonly\"\n                    nz-button\n                    nzType=\"primary\"\n                    [nzDanger]=\"true\"\n                    (click)=\"removeItem($event, data)\"\n                  >\n                    Xóa\n                  </button>\n                </ng-container>\n              </ng-container>\n            </td>\n          </ng-container>\n        </tr>\n      </tbody>\n    </nz-table>\n  </div>\n  <nz-pagination\n    *ngIf=\"pagedItems && pagedItems.length\"\n    [nzTotal]=\"totalPages * 10\"\n    [nzPageIndex]=\"getCurrentPage\"\n    (nzPageIndexChange)=\"setCurrentPage($event)\"\n  ></nz-pagination>\n</div>\n\n<ng-template #noResultTemplate>\n  <div class=\"flex flex-col items-center justify-center h-52\">\n    <i nz-icon nzType=\"frown\" nzTheme=\"outline\" class=\"text-4xl mb-2\"></i>\n    <span class=\"block\">Không có dữ liệu</span>\n  </div>\n</ng-template>\n","import { NgIf, NgForOf, AsyncPipe, NgStyle, NgClass, NgSwitchCase, NgSwitch, DecimalPipe, JsonPipe } from '@angular/common';\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Output,\n  QueryList,\n  ViewChildren,\n  inject,\n} from '@angular/core';\nimport { CdkDragDrop, moveItemInArray } from '@angular/cdk/drag-drop';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { FieldType, FieldTypeConfig, FormlyModule } from '@ngx-formly/core';\nimport { FormlyNgZorroAntdModule } from '@ngx-formly/ng-zorro-antd';\nimport { NzButtonModule } from 'ng-zorro-antd/button';\nimport { NzIconModule } from 'ng-zorro-antd/icon';\nimport { NzSelectModule } from 'ng-zorro-antd/select';\nimport { NzTableModule } from 'ng-zorro-antd/table';\nimport { Subject, Observable, debounceTime, distinctUntilChanged, lastValueFrom, switchMap, take } from 'rxjs';\nimport { PaginationService } from './service/pagination.service';\nimport { NzPaginationModule } from 'ng-zorro-antd/pagination';\nimport { DragDropModule } from '@angular/cdk/drag-drop';\nimport { NzModalService } from 'ng-zorro-antd/modal';\nimport { TableInputComponent } from './templates/input.component';\nimport { TableSelectMultiComponent } from './templates/select.component';\nimport { ImportModalContentComponent } from './templates/modal.component';\nimport { NzImageModule } from 'ng-zorro-antd/image';\nimport { IComMessageService } from '../../../services/common';\nimport { ShowTooltipOnOverflowDirective } from './directive/tooltip.directive';\nimport { NzSpinModule } from 'ng-zorro-antd/spin';\nimport { FormlyValueChangeEvent } from '@ngx-formly/core/lib/models';\nimport { NzToolTipModule } from 'ng-zorro-antd/tooltip';\nimport { FormatValuePipe } from './pipes/format-value.pipe';\nimport { cloneDeep } from 'lodash';\n@Component({\n  selector: 'icom-libs-core-component-dropdown-table',\n  templateUrl: './dropdown-table.component.html',\n  standalone: true,\n  changeDetection: ChangeDetectionStrategy.Default,\n  imports: [\n    NzTableModule,\n    NzSelectModule,\n    ReactiveFormsModule,\n    FormlyNgZorroAntdModule,\n    FormlyModule,\n    NgIf,\n    NgForOf,\n    FormsModule,\n    AsyncPipe,\n    NzButtonModule,\n    NzIconModule,\n    NzPaginationModule,\n    DragDropModule,\n    NgStyle, NgClass, NgSwitchCase, NgSwitch,\n    TableInputComponent,\n    TableSelectMultiComponent,\n    DecimalPipe,\n    NzImageModule,\n    ShowTooltipOnOverflowDirective,\n    NzSpinModule,\n    JsonPipe,\n    NzToolTipModule,\n    NzSpinModule,\n    NzButtonModule,\n    FormatValuePipe\n  ],\n  providers: [PaginationService],\n  styles: [\n    `\n      ::ng-deep .cdk-drag-preview {\n        display: table;\n      }\n\n      ::ng-deep .cdk-drag-placeholder {\n        td {\n          height: 60px;\n          opacity: 0;\n        }\n      }\n      .loading-container {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        height: 100%;\n      }\n      ::ng-deep .cdk-drag-preview {\n        display: table;\n      }\n      .placeholder-td {\n        height: 100px;\n        text-align: center;\n        border: 2px dashed gray;\n        background-color: #eeeeee;\n      }\n      .highlighted {\n        background-color: yellow; /* Màu tô màu cho dòng được chọn */\n      }\n    `,\n  ],\n})\nexport class DropdownTableTypeComponent extends FieldType<FieldTypeConfig>   {\n  protected selectedValue: any;\n  public pagedItems: any[] = [];\n  public totalPages: number = 0;\n  protected getCurrentPage: number = 0;\n  protected fallback =\n    'data:image/png;base64,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';\n  protected isLoading!: boolean;\n\n  protected optionList: any[] = [];\n  protected pagination: any;\n  protected searchChange$ = new Subject<any>();\n  protected keySearch!: string;\n\n  protected IComMessageService = inject(IComMessageService);\n  private cdr = inject(ChangeDetectorRef);\n  private paginationService = inject(PaginationService);\n  protected modalService = inject(NzModalService);\n  protected isFirst: boolean = true;\n  protected valueCurrent: any;\n\n  @ViewChildren('tableRow') tableRows!: QueryList<ElementRef>;\n  @ViewChildren('templates') templates!: QueryList<any>;\n\n  @Output() icomFunctionControl: EventEmitter<any> = new EventEmitter();\n\n  constructor() {\n    super();\n  }\n\n  async ngOnInit() {\n    this.searchChange$.pipe(\n      debounceTime(1000),\n      distinctUntilChanged(),\n      switchMap((term: string) => {\n        this.isLoading = true;\n        this.optionList = this.optionList.map(option => ({ ...option, disabled: true }));\n        this.cdr.detectChanges();\n        this.keySearch = term;\n        return this.searchData(term);\n      })\n    ).subscribe((data: any) => {\n      this.isLoading = false;\n      this.optionList = data?.length ? data : data?.items;\n      this.pagination = data?.pagination;\n      this.cdr.detectChanges();\n    }, (err) => {\n      this.isLoading = false;\n      this.cdr.detectChanges();\n    });\n    this.icomFunctionControl.emit({\n      reset: () => {\n        this.pagedItems = [];\n        this.updatePageItems();\n      }\n    })\n    this.props?.callBackThis && this.props?.callBackThis(this);\n    this.props.keyGetValue && this.field.options?.fieldChanges?.subscribe((result: FormlyValueChangeEvent) => {\n      if (result.field.key === this.props.keyGetValue) {\n        // if (this.isFirst) {\n        //   console.log('vao');\n        //   this.isFirst = false;\n        //   return;\n        // }\n        this.paginationService.resetItems();\n        this.updatePageItems();\n        this.props.changeItems && this.props.changeItems(this.pagedItems, this.field);\n        this.cdr.detectChanges();\n      }\n    });\n\n    if (this.props?.listDataMapping) {\n      const dataMapping: any = this.props?.listDataMapping;\n      let result;\n      if (dataMapping instanceof Observable) {\n        result = await lastValueFrom(dataMapping);\n      } else {\n        result = dataMapping;\n      }\n      if (result) {\n        result.forEach((item: any) => {\n          item.name = item.product_name;\n        });\n        this.mergeApiDataToSelectedItem(result, this.formControl.value);\n        this.formControl.patchValue(this.formControl.value);\n        this.paginationService.setItems(this.formControl.value);\n        this.updatePageItems();\n        this.cdr?.detectChanges();\n      }\n      this.cdr.detectChanges();\n      return;\n    } else {\n      // console.log(cloneDeep(this.formControl.value))\n      // console.log(cloneDeep(this.paginationService.getItems()))\n      this.formControl.patchValue(this.formControl.value);\n      this.paginationService.setItems(this.formControl.value);\n      this.updatePageItems();\n      this.cdr.detectChanges();\n    }\n  }\n\n  private searchData(term: string): Observable<any[]> {\n    return this.props.listOptionDropdown(1, { search: term });\n  }\n\n  isNumber(value: any): boolean {\n    return typeof value === 'number';\n  }\n\n  isString(value: any): boolean {\n    return typeof value === 'string';\n  }\n\n\n  loadMore(): void {\n    if (!this.props?.nzServerSearch) {\n      return;\n    }\n    if (this.pagination.total_pages === this.pagination.page) {\n      return;\n    }\n    this.isLoading = true;\n    this.optionList = this.optionList.map(option => ({ ...option, disabled: true }));\n    this.props?.listOptionDropdown && this.props?.listOptionDropdown(this.pagination.page + 1, { search: this.keySearch }).subscribe((data: any) => {\n      this.isLoading = false;\n      const dataPush = (data?.length) ? data : data?.items;\n      this.optionList = [...this.optionList, ...dataPush];\n\n      this.optionList = this.optionList.map(option => ({ ...option, disabled: false }));\n      this.pagination = data?.pagination;\n      this.cdr.detectChanges();\n    });\n  }\n\n  onSearch(searchText: string) {\n    if (!this.props?.nzServerSearch) {\n      return;\n    }\n    this.searchChange$.next(searchText);\n  }\n\n  protected handlerSelectChange(value: any) {\n    const selectedOption = this.optionList.find((option: any) => option.id === value);\n    if (this.props.mergeApiDataToSelectedItem) {\n      this.handleApiData(selectedOption);\n      return;\n    }\n    this.updateTable(selectedOption);\n  }\n\n  protected updateTable(selectedOption: any): boolean {\n    let exists = false;\n    if (selectedOption) {\n      if (this.props?.functionCheckCondition) {\n        exists = this.props?.functionCheckCondition(selectedOption);\n      }\n      if (!exists) {\n        exists = this.paginationService.itemExists(selectedOption);\n      }\n      if (!exists) {\n        this.addItem(selectedOption);\n        this.selectedValue = undefined;\n        this.cdr?.detectChanges();\n      } else {\n        const pageIndex = this.paginationService.findPageIndex(selectedOption);\n        this.setCurrentPage(pageIndex + 1);\n        this.highlightRow(selectedOption);\n        this.selectedValue = undefined;\n        this.cdr?.detectChanges();\n      }\n      this.props.changeItems && this.props.changeItems(this.paginationService.getItems(), this.field);\n    }\n    return exists;\n  }\n\n  protected handlerChange(event: any, data: any, field: string) {\n    if (!data[field]) {\n      data[field] = '';\n    }\n    data[field] = event;\n    this.props.changeItems && this.props.changeItems(this.paginationService.getItems(), this.field);\n  }\n\n  private handleApiData(selectedOption: any) {\n    this.props.mergeApiDataToSelectedItem([selectedOption.id]).subscribe({\n      next: (apiResponse: any) => {\n        this.mergeApiDataToSelectedItem(apiResponse, [selectedOption]);\n      },\n      error: (err: any) => {\n        console.error('Error fetching data from API:', err);\n      }\n    });\n  }\n\n  protected mergeApiDataToSelectedItem(apiData: any[], selectedOption: any) {\n    selectedOption && selectedOption?.forEach((dataMapping: any) => {\n      const dataMap = apiData.find((item => (item.product_id === dataMapping.id || item.product_id === dataMapping.product_id)));\n      dataMap && Object.assign(dataMapping, dataMap);\n      this.updateTable(dataMapping);\n    });\n  }\n\n  onSelectOpenChange(open: boolean): void {\n    if (open) {\n      this.isLoading = true;\n      this.props?.listOptionDropdown && (this.props?.listOptionDropdown(1, {}) as any).subscribe(\n        (data: any) => {\n          this.isLoading = false;\n          this.optionList = data?.length ? data : data?.items;\n          this.pagination = data?.pagination;\n          this.cdr.detectChanges();\n        }, (err: any) => {\n          this.isLoading = false;\n          this.cdr.detectChanges();\n        }\n      )\n    }\n  }\n\n  onImageError(event: any) {\n    if (event.target.src === 'data:image/png;base64,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') {\n      return;\n    }\n    event.target.src = 'data:image/png;base64,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'; // Đường dẫn ảnh mặc định\n  }\n\n  public addItem(item: any): void {\n    this.paginationService.addItem(item);\n    this.pagedItems = this.paginationService.getItems();\n    this.cdr.detectChanges();\n  }\n\n  public removeItem(e: Event, item: any): void {\n    e.stopPropagation();\n    e.preventDefault();\n    this.modalService.confirm(\n      {\n        nzTitle: `Bạn có chắc chắn muốn xóa không?`,\n        nzOkText: 'Đồng ý',\n        nzOkType: 'primary',\n        nzMaskClosable: false,\n        nzClosable: false,\n        nzOnOk: () => {\n          this.paginationService.removeItem(item);\n          this.updatePageItems();\n          this.cdr.detectChanges();\n          this.props.changeItems && this.props.changeItems(this.paginationService.getItems(), this.field);\n        },\n        nzCancelText: 'Hủy bỏ',\n      },\n      'error'\n    );\n  }\n\n  public setCurrentPage(page: number): void {\n    this.paginationService.setCurrentPage(page);\n    this.updatePageItems();\n  }\n\n  private updatePageItems(): void {\n    this.paginationService.recalculatePagination();\n    this.getCurrentPage = this.paginationService.getCurrentPage();\n    this.pagedItems = this.paginationService.getCurrentPageItems();\n    this.totalPages = this.paginationService.getTotalPages();\n    this.cdr?.detectChanges();\n  }\n\n  protected drop(event: CdkDragDrop<string[]>): void {\n    if (this.props.readonly) {\n      return;\n    }\n    const prevIndex = event.previousIndex;\n    const newIndex = event.currentIndex;\n    moveItemInArray(this.paginationService.getItems(), prevIndex, newIndex);\n    this.updatePageItems();\n    this.props.changeItems && this.props.changeItems(this.paginationService.getItems(), this.field);\n    this.cdr.detectChanges();\n  }\n\n  private removeHighLight() {\n    this.tableRows.forEach((row) => {\n      row.nativeElement.classList.remove('highlighted');\n    });\n  }\n\n  private highlightRow(item: any) {\n    const rowElement = this.tableRows?.find(\n      (row) => row.nativeElement.id === 'row-' + item.id\n    );\n    if (rowElement) {\n      rowElement.nativeElement.classList.add('highlighted');\n      rowElement.nativeElement.scrollIntoView({\n        behavior: 'smooth',\n        block: 'nearest',\n      });\n    }\n    this.cdr.detectChanges();\n  }\n\n  public handlerSave() {\n    let valid = true;\n    for (let temp of this.templates) {\n      const result = temp.save();\n      this.cdr.detectChanges();\n      if (!result.valid) {\n        valid = false;\n        this.highlightRow(result.dataRow);\n      }\n      if (this.props.specificValidate) {\n        const resultSpecificValidate = this.props.specificValidate(result.dataRow);\n        !resultSpecificValidate && this.highlightRow(result.dataRow);\n        !resultSpecificValidate && (valid = false);\n      }\n    };\n    return valid;\n  }\n\n  public openImportModal(e: Event): void {\n    e.stopPropagation();\n    e.preventDefault();\n    const modalRef = this.modalService.create({\n      nzTitle: 'Nhập voucher từ File dữ liệu',\n      nzContent: ImportModalContentComponent,\n      nzOkLoading: false,\n      nzCancelText: 'Hủy bỏ',\n      nzOkText: 'Đồng ý',\n      nzOkType: 'primary',\n      nzData: this.props?.objectUpload,\n      nzOnOk: () => new Promise((resolve) => {\n        const instance = modalRef.getContentComponent();\n        instance.onSave.pipe(take(1)).subscribe(result => {\n          if (result) {\n            let count  = 0;\n            result && result.length && result.forEach((item: any) => {\n              count += (!this.updateTable(item) ? 1 : 0);\n            })\n            this.cdr?.detectChanges();\n            this.IComMessageService.showAlertMessageDone(`Đã import thành công ${count || 0} bản ghi`);\n            resolve(true);\n          } else {\n            resolve(false);\n            modalRef.updateConfig({ nzOkLoading: false });\n            this.cdr?.detectChanges();\n          }\n        });\n        instance.handleImport();\n      }),\n    });\n  }\n}\n","import { Component, ChangeDetectionStrategy } from '@angular/core';\nimport { FieldType, FieldTypeConfig, FormlyModule } from '@ngx-formly/core';\nimport { NzInputModule } from 'ng-zorro-antd/input';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { CommonModule, NgClass, NgIf } from '@angular/common';\nimport { FormlyNgZorroAntdModule } from '@ngx-formly/ng-zorro-antd';\n\n@Component({\n  selector: 'formly-field-input-custom',\n  template: `\n    <div class=\"custom-input-container\">\n      <ng-container *ngIf=\"!to.readonly; else readonlyTemplate\">\n        <input nz-input\n          class=\"max-w-md\"\n          [ngClass]=\"{'!w-[150px]':  props.type === 'number'}\"\n          [formControl]=\"$any(formControl)\"\n          [formlyAttributes]=\"field\"\n          [type]=\"props.type || 'text'\"\n          [max]=\"props.maxLength || 99999999\"\n          [placeholder]=\"props.placeholder\"\n          (keydown)=\"preventInput($event)\"\n          (input)=\"handleInput($event)\" />\n        <span class=\"input-addon\">{{ to.addonText }}</span>\n      </ng-container>\n      <ng-template #readonlyTemplate>\n        <span>{{ formControl.value }}</span>\n        <span class=\"input-addon ml-4\">{{ to.addonText }}</span>\n      </ng-template>\n    </div>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  styles: [`\n    .custom-input-container {\n      display: flex;\n      align-items: center;\n    }\n    .input-addon {\n      margin-left: 8px;\n    }\n  `],\n  standalone: true,\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    NzInputModule,\n    FormsModule,\n    NgIf,\n    FormlyNgZorroAntdModule,\n    FormlyModule,\n    NgClass\n  ]\n})\nexport class FormlyFieldCustomInputComponent extends FieldType<FieldTypeConfig> { \n  handleInput(event: any) {\n    // if (this.props.maxLength && event.target.value.length > this.props.maxLength) {\n    //   event.preventDefault();\n    //   return;\n    // }\n    if (this.props.type === 'number') {\n      const value = parseFloat(event.target.value);\n      this.formControl.setValue(Number.isNaN(value) ? null : value);\n    }\n  }\n\n  preventInput(event: KeyboardEvent) {\n    // Cho phép các phím điều hướng và điều khiển\n    if (event.key === 'Enter') {\n      // Nếu phím nhấn là Enter, ngăn chặn sự kiện\n      event.preventDefault();\n      return;\n    }\n  \n  }\n}\n","import { CommonModule, NgIf, NgClass, AsyncPipe } from '@angular/common';\nimport {\n  ChangeDetectorRef,\n  Component,\n  OnDestroy,\n  OnInit,\n  inject,\n} from '@angular/core';\nimport { ReactiveFormsModule, FormsModule, Validators } from '@angular/forms';\nimport { FieldType, FormlyFieldConfig, FormlyModule } from '@ngx-formly/core';\nimport { FormlySelectModule } from '@ngx-formly/core/select';\nimport { FormlyNgZorroAntdModule } from '@ngx-formly/ng-zorro-antd';\nimport { FormlyNzFormFieldModule } from '@ngx-formly/ng-zorro-antd/form-field';\nimport { NzFormModule } from 'ng-zorro-antd/form';\nimport { NzInputModule } from 'ng-zorro-antd/input';\nimport { NzRadioModule } from 'ng-zorro-antd/radio';\nimport { NzSelectModule } from 'ng-zorro-antd/select';\nimport { Subscription, isObservable } from 'rxjs';\n@Component({\n  selector: 'formly-field-nz-radio',\n  template: `\n    <ng-container *ngIf=\"!to.readonly; else readonlyTemplate\">\n      <nz-radio-group\n        [formControl]=\"$any(formControl)\"\n        [nzDisabled]=\"to.disabled\"\n      >\n        <label\n          nz-radio\n          *ngFor=\"\n            let option of props.options | formlySelectOptions : field | async\n          \"\n          [nzValue]=\"option.value\"\n          [nzDisabled]=\"option.disabled\"\n        >\n          {{ option.label }}\n        </label>\n      </nz-radio-group>\n    </ng-container>\n\n    <ng-template #readonlyTemplate>\n      <span *ngIf=\"resolvedOptions && resolvedOptions?.length\">{{\n        getSelectedLabel(formControl.value)\n      }}</span>\n    </ng-template>\n  `,\n  standalone: true,\n  imports: [\n    NzRadioModule,\n    CommonModule,\n    ReactiveFormsModule,\n    NzSelectModule,\n    FormlyNzFormFieldModule,\n    FormlySelectModule,\n    FormsModule,\n    FormlyModule,\n    ReactiveFormsModule,\n    FormlyNgZorroAntdModule,\n    NzFormModule,\n    NgIf,\n    FormlyNgZorroAntdModule,\n    FormlyModule,\n    NgIf,\n    NzFormModule,\n    NgClass,\n    NzInputModule,\n    AsyncPipe,\n  ],\n})\nexport class FormlyFieldRadio extends FieldType implements OnInit, OnDestroy {\n  resolvedOptions: any[] = [];\n  private subscription?: Subscription;\n  private cdr = inject(ChangeDetectorRef);\n\n  ngOnInit(): void {\n    if (isObservable(this.field?.props?.options)) {\n      this.subscription = this.field?.props?.options?.subscribe((options) => {\n        this.resolvedOptions = options;\n        this.checkAndSetCheckedOption();\n        this.cdr.detectChanges();\n      });\n    } else {\n      this.resolvedOptions = this.field?.props?.options as any[];\n      this.checkAndSetCheckedOption();\n      this.cdr.detectChanges();\n    }\n    if (this.props?.required) {\n      this.formControl.setValidators(Validators.required);\n    }\n  }\n  \n  private checkAndSetCheckedOption() {\n    const checkedOption = this.resolvedOptions.find(option => option.checked);\n    if (checkedOption) {\n      !this.form?.value[this.key as string] && this.formControl.setValue(checkedOption.id);\n    }\n  }\n  \n\n  ngOnDestroy(): void {\n    this.subscription?.unsubscribe();\n  }\n\n  showErr(field: FormlyFieldConfig) {\n    return (\n      field.formControl &&\n      field.formControl.invalid &&\n      field.formControl.touched\n    );\n  }\n\n  getSelectedLabel(value: any | any[]): string {\n    if (!this.resolvedOptions || value == null) {\n      return '';\n    }\n\n    // Xử lý khi multi = true (value là mảng)\n    if (Array.isArray(value)) {\n      return value\n        .map((val) => this.getLabelForValue(val))\n        .filter((label) => label) // Loại bỏ những nhãn không tìm thấy\n        .join(', '); // Nối các nhãn bằng dấu phẩy\n    }\n    console.log(value);\n    return this.getLabelForValue(value);\n  }\n\n  private getLabelForValue(val: any): string {\n    const selectedOption = this.resolvedOptions.find(\n      (option) => (option.id === val)\n    );\n    // console.log(selectedOption);\n    return selectedOption ? selectedOption.value  || selectedOption.label  || selectedOption.name  : 'Chưa có dữ liệu';\n  } \n}\n","import { Component } from '@angular/core';\nimport { FieldType } from '@ngx-formly/core';\nimport { NzInputModule } from 'ng-zorro-antd/input';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { FormlyModule } from '@ngx-formly/core';\nimport { FormlyNgZorroAntdModule } from '@ngx-formly/ng-zorro-antd';\n\n@Component({\n  selector: 'formly-field-textarea-custom',\n  template: `\n   <ng-container *ngIf=\"!to.readonly; else viewMode\">\n  <textarea class=\"text-xs no-resize break-words max-w-md\"  [rows]=\"5\" nz-input [formControl]=\"$any(formControl)\" [formlyAttributes]=\"field\" [rows]=\"to.rows || 4\"\n    [placeholder]=\"props?.placeholder || ''\"></textarea>\n  </ng-container>\n  <ng-template #viewMode>\n    <div class=\"text-xs break-words\">\n      {{ formControl.value || 'Chưa có dữ liệu' }}\n    </div>\n  </ng-template>\n  `,\n  standalone: true,\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    NzInputModule,\n    FormsModule,\n    FormlyModule,\n    FormlyNgZorroAntdModule\n  ],\n  styles: [`\n  .break-words {\n    word-break: break-word;\n  }\n  .no-resize {\n  resize: none;\n}\n`],\n})\n\nexport class FormlyFieldTextareaCustom extends FieldType {}\n","import { HTTP_INTERCEPTORS, HttpClientModule } from \"@angular/common/http\";\nimport { NgModule, inject } from \"@angular/core\";\nimport { BrowserModule } from \"@angular/platform-browser\";\nimport { AppComponent } from \"./app.component\";\nimport { AppRoutingModule } from \"./app.routing.module\";\nimport { AuthGuardService, ErrorHandlerInterceptor, HeaderInterceptor } from \"@icom/services/authenticate\";\nimport { IComMessageService, IconRegisterService } from \"@icom/services/common\";\nimport { NzModalService } from \"ng-zorro-antd/modal\";\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { FormlyModule } from '@ngx-formly/core';\nimport { ArrayTypeComponent, CollapseWrapperComponent, DropdownTableTypeComponent, EmailValidator, FormlyFieldColorPickerComponent, FormlyFieldCustomInputComponent, FormlyFieldNzInputNumber, FormlyFieldRadio, FormlyFieldSelect, FormlyFieldTextareaCustom, FormlyWrapperNzSelectTagsComponent, GridWrapperComponent, IcomLibsCoreComponentFormlyFieldSearchInput, IcomLibsCoreComponentsFormlyDatepicker, IcomLibsCoreComponentsFormlyPanelWrapperComponent, IcomLibsCoreComponentsFormlyQuillComponent, IcomLibsCoreComponentsFormlyRangepicker, IcomLibsCoreComponentsFormlyUploadComponent, MaxUploadFileSizerValidator, MaxValidatorMessageValidator, MultiCheckboxTypeComponent, NumberIntMessage, NumberIntMessageValidator, PhoneNumberValidator, TypeUploadFileSizerMessage, TypeUploadFileSizerValidator, emailValidationMessage, fieldMatchValidator, maxUploadFileSize, maxValidatorMessage, minValidatorMessage, noWhitespaceMessage, noWhitespaceValidator, phoneNumberValidationMessage, uniqueSelection } from '@icom/components/formly';\nimport { NZ_I18N, en_US } from \"ng-zorro-antd/i18n\";\nimport { NZ_ICONS } from \"ng-zorro-antd/icon\";\nimport { ArrowLeftOutline, LogoutOutline, UserOutline, EditFill } from '@ant-design/icons-angular/icons';\n\nconst antDesignIcons = [ArrowLeftOutline, LogoutOutline, UserOutline, EditFill]\n\n@NgModule({\n\timports: [\n\t\tBrowserModule,\n\t\tHttpClientModule,\n\t\tAppRoutingModule,\n\t\tBrowserAnimationsModule,\n\t\tFormlyModule.forRoot({\n\t\t\ttypes: [\n\t\t\t\t{ name: 'date', component: IcomLibsCoreComponentsFormlyDatepicker },\n\t\t\t\t{ name: 'icom-range-picker', component: IcomLibsCoreComponentsFormlyRangepicker },\n\t\t\t\t{ name: 'upload', component: IcomLibsCoreComponentsFormlyUploadComponent },\n\t\t\t\t{ name: 'quill-editor', component: IcomLibsCoreComponentsFormlyQuillComponent },\n\t\t\t\t{ name: 'array', component: ArrayTypeComponent },\n\t\t\t\t{\n\t\t\t\t\tname: 'select-custom',\n\t\t\t\t\tcomponent: FormlyFieldSelect,\n\t\t\t\t\twrappers: ['form-field'],\n\t\t\t\t},\n\t\t\t\t{ name: 'multi-checkbox', component: MultiCheckboxTypeComponent },\n\t\t\t\t{ name: 'search-input', component: IcomLibsCoreComponentFormlyFieldSearchInput },\n\t\t\t\t{\n\t\t\t\t\tname: 'color-picker',\n\t\t\t\t\tcomponent: FormlyFieldColorPickerComponent,\n\t\t\t\t\twrappers: ['form-field'],\n\t\t\t\t},\n\t\t\t\t{ name: 'dropdown-table', component: DropdownTableTypeComponent },\n\t\t\t\t{ name: 'nz-input-number', component: FormlyFieldNzInputNumber },\n\t\t\t\t{ name: 'tags', component: FormlyWrapperNzSelectTagsComponent},\n\t\t\t\t{ name: 'input-custom', component: FormlyFieldCustomInputComponent,\twrappers: ['form-field'], },\n\t\t\t\t{ name: 'radio-custom', component: FormlyFieldRadio,\twrappers: ['form-field'], },\n\t\t\t\t{ name: 'textarea-custom', component: FormlyFieldTextareaCustom,\twrappers: ['form-field'], },\n\t\t\t\t\n\t\t\t],\n\t\t\tvalidators: [\n\t\t\t\t{ name: 'email', validation: EmailValidator },\n\t\t\t\t{ name: 'phoneNumber', validation: PhoneNumberValidator },\n\t\t\t\t{ name: 'max-upload-file', validation: MaxUploadFileSizerValidator },\n\t\t\t\t{\n\t\t\t\t\tname: 'type-upload-file', validation: TypeUploadFileSizerValidator\n\t\t\t\t},\n\t\t\t\t{ name: 'max', validation: MaxValidatorMessageValidator },\n\t\t\t\t{ name: 'iniMin0', validation: NumberIntMessageValidator },\n\t\t\t\t{ name: 'fieldMatch', validation: fieldMatchValidator },\n\t\t\t\t{ name: 'noWhitespace', validation: noWhitespaceValidator }\n\t\t\t],\n\t\t\tvalidationMessages: [\n\t\t\t\t{ name: 'required', message: 'Trường này là bắt buộc' },\n\t\t\t\t{ name: 'email', message: emailValidationMessage },\n\t\t\t\t{ name: 'phoneNumber', message: phoneNumberValidationMessage },\n\t\t\t\t{ name: 'max', message: maxValidatorMessage },\n\t\t\t\t{ name: 'min', message: minValidatorMessage },\n\t\t\t\t{ name: 'max-upload-file', message: maxUploadFileSize },\n\t\t\t\t{ name: 'type-upload-file', message: TypeUploadFileSizerMessage },\n\t\t\t\t{ name: 'iniMin0', message: NumberIntMessage },\n\t\t\t\t{ name: 'noWhitespaceMessage', message: noWhitespaceMessage },\n\t\t\t\t{ name: 'uniqueName', message: 'Tên này đã được sử dụng.' },\n\t\t\t\t{ name: 'startTimeInvalid', message: 'Thời gian kết thúc  không được nhỏ hơn thời gian bắt đầu' },\n\t\t\t\t{ name: 'startTimeInvalid5Minutes', message: 'Thời gian đến cần > Thời gian từ ít nhất là 5 phút.' },\n\t\t\t\t{ name: 'uniqueSelection', message: uniqueSelection}\n\t\t\t],\n\t\t\twrappers: [\n\t\t\t\t{ name: 'group', component: IcomLibsCoreComponentsFormlyPanelWrapperComponent },\n\t\t\t\t{ name: 'collapse', component: CollapseWrapperComponent },\n\t\t\t\t{ name: 'grid', component: GridWrapperComponent }\n\t\t\t],\n\t\t\textras: {\n\t\t\t\tresetFieldOnHide: false,\n\t\t\t},\n\t\t}),\n\t\tIcomLibsCoreComponentsFormlyRangepicker,\n\t\tIcomLibsCoreComponentsFormlyDatepicker,\n\t\tIcomLibsCoreComponentsFormlyQuillComponent\n\t],\n\tdeclarations: [\n\t\tAppComponent,\n\n\t],\n\tproviders:\n\t\t[\n\t\t\tAuthGuardService, IComMessageService, NzModalService,\n\t\t\t{ provide: HTTP_INTERCEPTORS, useClass: HeaderInterceptor, multi: true },\n\t\t\t{\n\t\t\t\tprovide: HTTP_INTERCEPTORS,\n\t\t\t\tuseClass: ErrorHandlerInterceptor,\n\t\t\t\tmulti: true,\n\t\t\t},\n\t\t\t{ provide: NZ_I18N, useValue: en_US },\n\t\t\t{ provide: NZ_ICONS, useValue: antDesignIcons }\n\t\t],\n\n\tbootstrap: [AppComponent],\n})\nexport class AppModule {\n\tprotected iconRegister = inject(IconRegisterService);\n\tconstructor() {\n\t\tthis.iconRegister.loadIcons(['job', 'gift', 'point'], 'assets/icons');\n\t}\n}\n","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport { AppModule } from './app/app.module';\n\nplatformBrowserDynamic()\n\t.bootstrapModule(AppModule)\n\t.catch((err) => console.error(err));\n","import { IEnvironment } from \"./environment.model\";\n\nexport const environment: IEnvironment = {\n\tproduction: false,\n\tapiGetFileStatic: \"https://api.sandbox.mypoint.com.vn/\",\n\tapiGatewayUrl: \"https://api.sandbox.mypoint.com.vn/8854/\",\n\tmerchantUrl: 'http://222.252.26.153:9355/v1/',\n\tsuffixCampaign: \"gup2start/admin/rest/campaign-service/api/v2.0/\",\n\tsuffixCampaignV3: \"gup2start/admin/rest/campaign-service-v3/api/v3.0/\",\n\tsuffixOrder: \"gup2start/admin/rest/order/api/v1.0/\",\n\tsuffixDynamicHome: \"gup2start/admin/rest/dynamic-home/api\",\n\tsuffixProduct: \"gup2start/admin/rest/product/api/\",\n};\n","import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot } from '@angular/router';\nimport { Observable, of } from 'rxjs';\nimport jwt_decode from 'jwt-decode';\n\n@Injectable()\nexport class AuthGuardService implements CanActivate {\n  constructor(private router: Router) {}\n\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean> {\n    const url = state.url;\n    const token = localStorage.getItem('token');\n\n    if (!token) {\n      // Redirect only if the current URL is not the login page\n      if (url !== '/login') {\n        this.router.navigate(['/login']);\n        localStorage.removeItem('token');\n      }\n      return of(false);\n    }\n    try {\n      const role = jwt_decode<any>(token).role;\n      const isAuthorized = role === 'cms_admin' || role === 'root_user';\n      if (!isAuthorized) {\n        // Redirect only if the current URL is not the login page\n        if (url !== '/login') {\n          this.router.navigate(['/login']);\n          localStorage.removeItem('token');\n        }\n        return of(false);\n      }\n\n      return of(true);\n    } catch (error) {\n      console.error('Error decoding token', error);\n      // Redirect only if the current URL is not the login page\n      if (url !== '/login') {\n        this.router.navigate(['/login']);\n        localStorage.removeItem('token');\n      }\n      return of(false);\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { CanActivate, Router } from '@angular/router';\n\n@Injectable({\n\tprovidedIn: 'root',\n})\nexport class ResolveLoginSuccessGuardService implements CanActivate {\n\tconstructor(private route: Router) { }\n\n\tcanActivate() {\n\t\tconst token = localStorage.getItem('token') || null;\n\t\tconst isLogged = token != null ? true : false;\n\t\tif (isLogged) {\n\t\t\tthis.route.navigate(['/']);\n\t\t\treturn false;\n\t\t} else {\n\t\t\treturn true;\n\t\t}\n\t}\n}\n","import { HttpEvent, HttpHandler, HttpInterceptor, HttpRequest } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { finalize, tap } from 'rxjs/operators';\nimport { LocalStorageService} from './local-storage.service';\n@Injectable()\nexport class HeaderInterceptor implements HttpInterceptor {\n\tconstructor(private localStorageService: LocalStorageService) { }\n\n\tintercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n\t\tconst hideloader = request.headers.has('hideloader');\n\t\tif (hideloader) {\n\t\t\tconst headers = request.headers.delete('hideloader');\n\t\t\trequest = request.clone({ headers });\n\t\t} else {\n\t\t\t// this.loader.showSpinner();\n\t\t}\n\t\t// add authorization header with basic auth credentials if available\n\t\tlet token = this.localStorageService.getItem('token') || null;\n\t\tconst isMerchantService = request.headers.has('isMerchantService');\n\t\tif (isMerchantService) {\n\t\t\ttoken = this.localStorageService.getItem('merchantToken') || null;\n\t\t}\n\t\tif (token) {\n\t\t\trequest = request.clone({\n\t\t\t\turl: request.url,\n\t\t\t\theaders: request.headers\n\t\t\t\t\t.set('Authorization', 'Bearer ' + `${token}`)\n\t\t\t\t\t.delete('isMerchantService', 'yes'),\n\t\t\t});\n\t\t\tif (!request.headers.has('Content-Type')) {\n\t\t\t\trequest = request.clone({\n\t\t\t\t\turl: request.url,\n\t\t\t\t\theaders: request.headers.set('content-type', 'application/json')\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (request.headers.get('Content-Type') === 'clear') {\n\t\t\t\trequest = request.clone({\n\t\t\t\t\turl: request.url,\n\t\t\t\t\theaders: request.headers.delete('Content-Type', 'clear'),\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\treturn next.handle(request).pipe(\n\t\t\ttap((data) => data),\n\t\t\tfinalize(() => {\n\t\t\t\t// this.loader.hideSpinner();\n\t\t\t})\n\t\t);\n\t}\n}\n","import { HttpErrorResponse, HttpEvent, HttpHandler, HttpInterceptor, HttpRequest, HttpStatusCode } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\nimport { IcomLibsProjectLoginService } from '../projects/iam/login.service';\nimport { IComMessageService } from '../common';\n\n@Injectable()\nexport class ErrorHandlerInterceptor implements HttpInterceptor {\n\tconstructor(\n\t\tprivate authService: IcomLibsProjectLoginService,\n\t\tprivate iComMessageService: IComMessageService\n\t\t) { }\n\n\tintercept(request: HttpRequest<unknown>, next: HttpHandler): Observable<HttpEvent<unknown>> {\n\t\treturn next.handle(request).pipe(\n\t\t\tcatchError((error) => {\n\t\t\t\treturn this.errorHandler(error);\n\t\t\t})\n\t\t);\n\t}\n\n\tprivate errorHandler(errorResponse: HttpErrorResponse): Observable<HttpEvent<unknown>> {\n\t\tif (errorResponse instanceof HttpErrorResponse) {\n\t\t\t// if (errorResponse.status === HttpStatusCode.InternalServerError) {\n\t\t\t// \tconsole.log(' vo')\n\t\t\t// \tthis.iComMessageService.showAlertMessageError('Có lỗi kết nối với server.')\n\t\t\t// }\n\t\t\tif (errorResponse.status === HttpStatusCode.Unauthorized) {\n\t\t\t\tthis.authService.logout();\n\t\t\t}\n\t\t}\n\t\tthrow errorResponse;\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport jwt_decode from 'jwt-decode';\n\n@Injectable({ providedIn: 'root' })\nexport class LocalStorageService {\n\tpublic setItem(key: string, data: unknown): void {\n\t\tlocalStorage.setItem(key, JSON.stringify(data));\n\t}\n\n\tpublic getItem(key: string) {\n\t\tconst value = localStorage.getItem(key) ?? '';\n\t\treturn value ? JSON.parse(value) : null;\n\t}\n\n\tpublic getTokenData(): any {\n\t\tconst value = localStorage.getItem('token') ?? '';\n\t\ttry {\n\t\t\treturn jwt_decode(value);\n\t\t  } catch(Error) {\n\t\t\treturn null;\n\t\t  }\n\t}\n\n\n\tpublic removeItem(key: string): void {\n\t\tlocalStorage.removeItem(key);\n\t}\n\n\tpublic clear() {\n\t\tlocalStorage.clear();\n\t}\n\n\tclearAllLocalStorage() {\n\t\tlocalStorage.clear();\n\t}\n}\n","import { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Params } from '@angular/router';\nimport { Observable } from 'rxjs';\n\n@Injectable({\n\tprovidedIn: 'root',\n})\nexport class ApiService {\n\tconstructor(private http: HttpClient) {}\n\n\tget<T>(path: string, queryParams: Params = {}, headers = {}): Observable<T> {\n\t\tlet params: Params = {};\n\t\tif (queryParams) {\n\t\t\tparams = this.setParameter(queryParams);\n\t\t}\n\t\theaders = this.customHeaders(headers);\n\t\treturn this.http.get<T>(this.path(path), { headers: headers, params });\n\t}\n\n\tput<T>(path: string, payload = {}, headers = {}): Observable<T> {\n\t\theaders = this.customHeaders(headers);\n\t\treturn this.http.put<T>(this.path(path), payload, { headers: headers });\n\t}\n\n\tpost<T>(path: string, payload = {}, headers = {}, queryParams: Params = {}): Observable<T> {\n\t\tlet params: Params = {};\n\t\tif (queryParams) {\n\t\t\tparams = this.setParameter(queryParams);\n\t\t}\n\t\theaders = this.customHeaders(headers);\n\t\treturn this.http.post<T>(this.path(path), payload, { headers: headers, params });\n\t}\n\n\tpatch<T>(path: string, payload = {}, headers = {}, queryParams: Params = {}): Observable<T> {\n\t\tlet params: Params = {};\n\t\tif (queryParams) {\n\t\t\tparams = this.setParameter(queryParams);\n\t\t}\n\t\theaders = this.customHeaders(headers);\n\t\treturn this.http.patch<T>(this.path(path), payload, { headers: headers, params });\n\t}\n\n\tdelete<T>(path: string, headers = {}): Observable<T> {\n\t\theaders = this.customHeaders(headers);\n\t\treturn this.http.delete<T>(this.path(path), { headers: headers });\n\t}\n\n\tprivate customHeaders(customHeaders: any = {}): HttpHeaders {\n\t\tlet headers = new HttpHeaders();\n\t\tfor (const key in customHeaders) {\n\t\t\tif (key && customHeaders[key]) {\n\t\t\t\theaders = headers.append(key, customHeaders[key]);\n\t\t\t}\n\t\t}\n\t\treturn headers;\n\t}\n\n\tprivate setParameter(routerParams: Params): HttpParams {\n\t\tlet queryParams = new HttpParams();\n\t\tfor (const key in routerParams) {\n\t\t\tif (key && routerParams[key] !== undefined && routerParams[key] !== null ) {\n\t\t\t\tqueryParams = queryParams.set(key, routerParams[key]);\n\t\t\t}\n\t\t}\n\t\treturn queryParams;\n\t}\n\n\tprivate path(path: string): string {\n\t\t// Consider use endpoint from environment file\n\t\treturn `${path}`;\n\t}\n}\n","import { DestroyRef, inject, Injectable } from '@angular/core';\nimport { takeUntilDestroyed } from '@angular/core/rxjs-interop';\nimport { NavigationEnd, Router } from '@angular/router';\nimport { filter } from 'rxjs/operators';\n\nimport { NzSafeAny } from 'ng-zorro-antd/core/types';\nimport { NzMessageService } from 'ng-zorro-antd/message';\nimport { NzModalRef, NzModalService } from 'ng-zorro-antd/modal';\nimport { ModalOptions } from 'ng-zorro-antd/modal/modal-types';\n\nexport const enum MessageType {\n  Info = 'info',\n  Error = 'error',\n  Warning = 'warning',\n  Success = 'success',\n  Confirm = 'confirm',\n  Loading = 'loading'\n}\n\nexport const enum MessageCallback {\n  Cancel = 'onCancel',\n  Ok = 'onOk'\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class IComMessageService {\n  modalCtrl: NzModalRef[] = [];\n  destroyRef = inject(DestroyRef);\n  constructor(private nzModalService: NzModalService, private router: Router, private toastService: NzMessageService) {\n    this.router.events\n      .pipe(\n        filter((event: NzSafeAny) => event instanceof NavigationEnd),\n        takeUntilDestroyed()\n      )\n      .subscribe((event: NzSafeAny) => {\n        for (let i = 0, len = this.modalCtrl.length; i < len; i++) {\n          this.modalCtrl[i].destroy(MessageCallback.Cancel);\n        }\n        this.modalCtrl = [];\n      });\n  }\n\n  public showModalByStatus(title: string, message: string, type: MessageType = MessageType.Info): void {\n    let modalRef: NzModalRef;\n    const options: ModalOptions = {\n      nzTitle: title,\n      nzContent: message,\n      nzOnOk: () => {\n        modalRef.destroy(MessageCallback.Ok);\n      },\n      nzOnCancel: () => {\n        modalRef.destroy(MessageCallback.Cancel);\n      }\n    };\n    if (type === MessageType.Info) {\n      options.nzTitle = options.nzTitle || '信息提示';\n      modalRef = this.nzModalService.info(options);\n    } else if (type === MessageType.Success) {\n      options.nzTitle = options.nzTitle || '成功提示';\n      modalRef = this.nzModalService.success(options);\n    } else if (type === MessageType.Error) {\n      options.nzTitle = options.nzTitle || '失败提示';\n      modalRef = this.nzModalService.error(options);\n    } else if (type === MessageType.Warning) {\n      options.nzTitle = options.nzTitle || '警告提示';\n      modalRef = this.nzModalService.warning(options);\n    } else if (type === MessageType.Confirm) {\n      options.nzTitle = options.nzTitle || '确认提示';\n      modalRef = this.nzModalService.confirm(options);\n    }\n    this.modalCtrl.push(modalRef!);\n    modalRef!.afterClose.pipe(takeUntilDestroyed(this.destroyRef)).subscribe(() => {\n      for (let i = 0, len = this.modalCtrl.length; i < len; i++) {\n        if (this.modalCtrl[i] === modalRef) {\n          this.modalCtrl.splice(i, 1);\n          break;\n        }\n      }\n    });\n  }\n\n  public showAlertMessageDone(title: string): void {\n    this.toastService.success(title)\n  }\n\n  public showAlertMessageError(title: string): void {\n    this.toastService.error(title)\n  }\n}\n","import { filter } from 'lodash';\n\nimport { Injectable } from \"@angular/core\";\nimport { Observable, map } from \"rxjs\";\nimport { environment } from \"../../../environments/environment\";\nimport { ApiService } from \"../../common/http.service\";\n\n@Injectable({\n  providedIn: 'root',\n})\n\nexport class IComLibsServicesProjectFlashSaleService {\n  constructor(private apiService: ApiService) {\n  }\n\n  create(data: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/flashsale/general`, data) as Observable<any>;\n  }\n\n  edit(data: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/flashsale/general`, data) as Observable<any>;\n  }\n\n  delete(id: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/flashsale/delete`, { _id: id }) as Observable<any>;\n  }\n\n  detail(id: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/flashsale/detail`, { _id: id }) as Observable<any>;\n  }\n\n  voucherList(filter: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/flashsale/voucher/list`, filter) as Observable<any>;\n  }\n\n  list(filter: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/flashsale/list`, filter) as Observable<any>;\n  }\n\n  listGroup(filter: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/flashsale/group/list`, filter) as Observable<any>;\n  }\n\n\n  deleteGroup(filter: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/flashsale/group/delete`, filter) as Observable<any>;\n  }\n\n  addGroup(filter: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/flashsale/group/general`, filter) as Observable<any>;\n  }\n\n  editGroup(filter: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/flashsale/group/general`, filter) as Observable<any>;\n  }\n\n  sortField(id: number, order: number): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/v1.0/sections/${id}/sort`, { new_order: order }) as Observable<any>;\n  }\n\n  transactionList(filter: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/flashsale/voucher/transaction/list`, filter) as Observable<any>;\n  }\n\n  uploadVoucher(filter: any) {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/flashsale/voucher/import`, filter, {\n      'Content-Type': 'clear'\n    }) as Observable<any>;\n  }\n  downloadFileVoucher() {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/flashsale/voucher/examfile`) as Observable<any>;\n  }\n\n  changeStatusActive(filter: any){\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/flashsale/active`, filter) as Observable<any>;\n  }\n\n  changeStatusInactive(filter: any){\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/flashsale/inactive`, filter) as Observable<any>;\n  }\n}\n\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Observable, finalize, map } from 'rxjs';\nimport { IUserLogin } from '../../../interfaces/projects/iam/login.interface';\nimport { environment } from '../../../environments/environment';\nimport { LocalStorageService } from '../../authenticate/local-storage.service';\n\n@Injectable({\n\tprovidedIn: 'root',\n})\nexport class IcomLibsProjectLoginService {\n\tconstructor(private http: HttpClient, private readonly router: Router, private localStorageService: LocalStorageService) { }\n\n\tlogin(body: IUserLogin) {\n\t\treturn this.http.post(`${environment.apiGatewayUrl}gup2start/rest/iam/v1/authentication/login`, body);\n\t}\n\n\tloginMerchant(body: IUserLogin) {\n\t\treturn this.http.post(`${environment.merchantUrl}oauth/token`, body, {\n\t\t\theaders: new HttpHeaders({\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'Authorization': 'Basic MTIzOjEyMw==',\n\t\t\t})\n\t\t}).pipe(finalize(() => { }));\n\t}\n\n\tlogout() {\n\t\tthis.localStorageService.removeItem(\"token\");\n\t\tthis.localStorageService.removeItem(\"merchantToken\");\n\t\twindow.location.href = '/login'\n\t}\n\n\tgetRefreshToken(refreshToken: string) {\n\t\tconst body = `grant_type=refresh_token&client_id=&refresh_token=${refreshToken}\n        &client_secret=`;\n\t\treturn this.http.post(`${environment.apiGatewayUrl}gup2start/rest/iam/v1/authentication/login`, body, {\n\t\t\theaders: new HttpHeaders({\n\t\t\t\t'Content-Type': 'application/x-www-form-urlencoded'\n\t\t\t})\n\t\t}).pipe(map((result: any) => {\n\t\t\treturn result.refresh_token;\n\t\t})) as Observable<string>;\n\t}\n}\n","\nimport { Injectable } from \"@angular/core\";\nimport { Observable, map } from \"rxjs\";\nimport { environment } from \"../../../environments/environment\";\nimport { ApiService } from \"../../common/http.service\";\n\n@Injectable({\n  providedIn: 'root',\n})\n\nexport class IComLibsServicesProjectCampaignV3Service {\n  constructor(private apiService: ApiService) { }\n\n  list(data: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/list`, data) as Observable<any>;\n  }\n\n  detail(data: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/detail`, data) as Observable<any>;\n  }\n\n  uploadImage(data: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/upload-icon`, data,  {\n      'Content-Type': 'clear'\n    }) as Observable<any>;\n  }\n\n\n  addEditCampaign(data: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/general`, data) as Observable<any>;\n  }\n\n  getTypeMissions(): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/options/gup2-enum`, {\n      \"group\": \"1999\"\n  }) as Observable<any>;\n  }\n\n  getActionMission(): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/options/action-tag`) as Observable<any>;\n  }\n\n  getContributor(): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/options/contributor`) as Observable<any>;\n  }\n\n  getPool(): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/options/pool`) as Observable<any>;\n  }\n\n  getSubPool(body: any): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/options/sub-pool`, body) as Observable<any>;\n  }\n\n  getRewardLevel(): Observable<any>  {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/options/gup2-enum`, {\n      \"group\": \"2999\"\n  }) as Observable<any>;\n  }\n\n  getRewardForm(): Observable<any>  {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/options/gup2-enum`, {\n      \"group\": \"3999\"\n  }) as Observable<any>;\n  }\n\n  getMessageTemplate(): Observable<any> {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/options/message-template`) as Observable<any>;\n  }\n\n  getTypeReward(): Observable<any>  {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/options/gup2-enum`, {\n      \"group\": \"5999\"\n  }) as Observable<any>;\n  }\n\n  getListStatus(): Observable<any>  {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/options/gup2-enum`, {\n      \"group\": \"8999\"\n  }) as Observable<any>;\n  }\n\n  getListTimeStart(): Observable<any>  {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/options/gup2-enum`, {\n      \"group\": \"6999\"\n  }) as Observable<any>;\n  }\n\n  getListTimeEnd(): Observable<any>  {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/options/gup2-enum`, {\n      \"group\": \"7999\"\n  }) as Observable<any>;\n  }\n\n  getListOrderAction(): Observable<any>  {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/options/gup2-enum`, {\n      \"group\": \"999\"\n  }) as Observable<any>;\n  }\n\n  getListOrderActionBy(): Observable<any>  {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/options/gup2-enum`, {\n      \"group\": \"4999\"\n  }) as Observable<any>;\n  }\n\n  getListActionType(): Observable<any>  {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/options/action-type`) as Observable<any>;\n  }\n\n  getListActionParam(id: string): Observable<any>  {\n    return this.apiService.post(`${environment.apiGatewayUrl}${environment.suffixCampaignV3}/options/action-param`, {action_type_code: id}) as Observable<any>;\n  }\n\n\n}\n\n"],"x_google_ignoreList":[]}